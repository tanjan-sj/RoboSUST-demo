function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var requirejs,require,define;(function(global){function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){if(n||!hasProp(e,i))r&&typeof t=="object"&&t&&!isArray(t)&&!isFunction(t)&&!(t instanceof RegExp)?(e[i]||(e[i]={}),mixin(e[i],t,n,r)):e[i]=t}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function m(e){var t,n;for(t=0;t<e.length;t++){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===0||t===1&&e[2]===".."||e[t-1]==="..")continue;t>0&&(e.splice(t-1,2),t-=2)}}}function g(e,t,n){var r,i,s,u,a,f,l,c,h,p,d,v,g=t&&t.split("/"),y=o.map,b=y&&y["*"];e&&(e=e.split("/"),l=e.length-1,o.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),e[0].charAt(0)==="."&&g&&(v=g.slice(0,g.length-1),e=v.concat(e)),m(e),e=e.join("/"));if(n&&y&&(g||b)){s=e.split("/");e:for(u=s.length;u>0;u-=1){f=s.slice(0,u).join("/");if(g)for(a=g.length;a>0;a-=1){i=getOwn(y,g.slice(0,a).join("/"));if(i){i=getOwn(i,f);if(i){c=i,h=u;break e}}}!p&&b&&getOwn(b,f)&&(p=getOwn(b,f),d=u)}!c&&p&&(c=p,h=d),c&&(s.splice(0,h,c),e=s.join("/"))}return r=getOwn(o.pkgs,e),r?r:e}function y(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName)return t.parentNode.removeChild(t),!0})}function b(e){var t=getOwn(o.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),r.require.undef(e),r.makeRequire(null,{skipMap:!0})([e]),!0}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e,t,n,i){var s,o,u,a,f=null,l=t?t.name:null,h=e,p=!0,m="";return e||(p=!1,e="_@r"+(d+=1)),a=w(e),f=a[0],e=a[1],f&&(f=g(f,l,i),o=getOwn(c,f)),e&&(f?o&&o.normalize?m=o.normalize(e,function(e){return g(e,l,i)}):m=e.indexOf("!")===-1?g(e,l,i):e:(m=g(e,l,i),a=w(m),f=a[0],m=a[1],n=!0,s=r.nameToUrl(m))),u=f&&!o&&!n?"_unnormalized"+(v+=1):"",{prefix:f,name:m,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:p,id:(f?f+"!"+m:m)+u}}function S(e){var t=e.id,n=getOwn(u,t);return n||(n=u[t]=new r.Module(e)),n}function x(e,t,n){var r=e.id,i=getOwn(u,r);hasProp(c,r)&&(!i||i.defineEmitComplete)?t==="defined"&&n(c[r]):(i=S(e),i.error&&t==="error"?n(i.error):i.on(t,n))}function T(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(u,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function N(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];typeof t=="string"&&(r.defQueueMap[t]=!0),l.push(e)}),globalDefQueue=[])}function C(e){delete u[e],delete a[e]}function k(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var s=r.id,o=getOwn(u,s);o&&!e.depMatched[i]&&!n[s]&&(getOwn(t,s)?(e.defineDep(i,c[s]),e.check()):k(o,t,n))}),n[r]=!0)}function L(){var e,n,i=o.waitSeconds*1e3,u=i&&r.startTime+i<(new Date).getTime(),f=[],l=[],c=!1,h=!0;if(t)return;t=!0,eachProp(a,function(e){var t=e.map,r=t.id;if(!e.enabled)return;t.isDefine||l.push(e);if(!e.error)if(!e.inited&&u)b(r)?(n=!0,c=!0):(f.push(r),y(r));else if(!e.inited&&e.fetched&&t.isDefine){c=!0;if(!t.prefix)return h=!1}});if(u&&f.length)return e=makeError("timeout","Load timeout for modules: "+f,null,f),e.contextName=r.contextName,T(e);h&&each(l,function(e){k(e,{},{})}),(!u||n)&&c&&(isBrowser||isWebWorker)&&!s&&(s=setTimeout(function(){s=0,L()},50)),t=!1}function A(e){hasProp(c,e[0])||S(E(e[0],null,!0)).init(e[1],e[2])}function O(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function M(e){var t=e.currentTarget||e.srcElement;return O(t,r.onScriptLoad,"load","onreadystatechange"),O(t,r.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function _(){var e;N();while(l.length){e=l.shift();if(e[0]===null)return T(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));A(e)}r.defQueueMap={}}var t,n,r,i,s,o={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},u={},a={},f={},l=[],c={},h={},p={},d=1,v=1;return i={require:function(e){return e.require?e.require:e.require=r.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?c[e.map.id]=e.exports:e.exports=c[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(o.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},n=function(e){this.events=getOwn(f,e.id)||{},this.map=e,this.shim=getOwn(o.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},n.prototype={init:function(e,t,n,r){r=r||{};if(this.inited)return;this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check()},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(this.fetched)return;this.fetched=!0,r.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))},load:function(){var e=this.map.url;h[e]||(h[e]=!0,r.load(this.map.id,e))},check:function(){if(!this.enabled||this.enabling)return;var e,t,n=this.map.id,i=this.depExports,s=this.exports,o=this.factory;if(!this.inited)hasProp(r.defQueueMap,n)||this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(o)){try{s=r.execCb(n,o,i,s)}catch(u){e=u}this.map.isDefine&&s===undefined&&(t=this.module,t?s=t.exports:this.usingExports&&(s=this.exports));if(e){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",T(this.error=e);typeof console!="undefined"&&console.error?console.error(e):req.onError(e)}}else s=o;this.exports=s;if(this.map.isDefine&&!this.ignore){c[n]=s;if(req.onResourceLoad){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(r,this.map,a)}}C(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){var e=this.map,t=e.id,n=E(e.prefix);this.depMaps.push(n),x(n,"defined",bind(this,function(n){var i,s,a,f=getOwn(p,this.map.id),l=this.map.name,c=this.map.parentMap?this.map.parentMap.name:null,h=r.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){n.normalize&&(l=n.normalize(l,function(e){return g(e,c,!0)})||""),s=E(e.prefix+"!"+l,this.map.parentMap),x(s,"defined",bind(this,function(e){this.map.normalizedMap=s,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),a=getOwn(u,s.id),a&&(this.depMaps.push(s),this.events.error&&a.on("error",bind(this,function(e){this.emit("error",e)})),a.enable());return}if(f){this.map.url=r.nameToUrl(f),this.load();return}i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(u,function(e){e.map.id.indexOf(t+"_unnormalized")===0&&C(e.map.id)}),T(e)}),i.fromText=bind(this,function(n,s){var u=e.name,a=E(u),f=useInteractive;s&&(n=s),f&&(useInteractive=!1),S(a),hasProp(o.config,t)&&(o.config[u]=o.config[t]);try{req.exec(n)}catch(l){return T(makeError("fromtexteval","fromText eval for "+t+" failed: "+l,l,[t]))}f&&(useInteractive=!0),this.depMaps.push(a),r.completeLoad(u),h([u],i)}),n.load(e.name,h,i,o)})),r.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){a[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,s,o;if(typeof e=="string"){e=E(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(i,e.id);if(o){this.depExports[t]=o(this);return}this.depCount+=1,x(e,"defined",bind(this,function(e){if(this.undefed)return;this.defineDep(t,e),this.check()})),this.errback?x(e,"error",bind(this,this.errback)):this.events.error&&x(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,s=u[n],!hasProp(i,n)&&s&&!s.enabled&&r.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(u,e.id);t&&!t.enabled&&r.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},r={config:o,contextName:e,registry:u,defined:c,urlFetched:h,defQueue:l,defQueueMap:{},Module:n,makeModuleMap:E,nextTick:req.nextTick,onError:T,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var t=o.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(o[t]||(o[t]={}),mixin(o[t],e,!0,!0)):o[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(p[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=r.makeShimExports(e)),t[n]=e}),o.shim=t),e.packages&&each(e.packages,function(e){var t,n;e=typeof e=="string"?{name:e}:e,n=e.name,t=e.location,t&&(o.paths[n]=e.location),o.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(u,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=E(t,null,!0))}),(e.deps||e.callback)&&r.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function s(o,a,f){var l,h,p;return n.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),typeof o=="string"?isFunction(a)?T(makeError("requireargs","Invalid require call"),f):t&&hasProp(i,o)?i[o](u[t.id]):req.get?req.get(r,o,t,s):(h=E(o,t,!1,!0),l=h.id,hasProp(c,l)?c[l]:T(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(_(),r.nextTick(function(){_(),p=S(E(null,t)),p.skipMap=n.skipMap,p.init(o,a,f,{enabled:!0}),L()}),s)}return n=n||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),s=e.split("/")[0],o=s==="."||s==="..";return i!==-1&&(!o||i>1)&&(n=e.substring(i,e.length),e=e.substring(0,i)),r.nameToUrl(g(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(c,E(e,t,!1,!0).id)},specified:function(e){return e=E(e,t,!1,!0).id,hasProp(c,e)||hasProp(u,e)}}),t||(s.undef=function(e){N();var n=E(e,t,!0),i=getOwn(u,e);i.undefed=!0,y(e),delete c[e],delete h[n.url],delete f[e],eachReverse(l,function(t,n){t[0]===e&&l.splice(n,1)}),delete r.defQueueMap[e],i&&(i.events.defined&&(f[e]=i.events),C(e))}),s},enable:function(e){var t=getOwn(u,e.id);t&&S(e).enable()},completeLoad:function(e){var t,n,i,s=getOwn(o.shim,e)||{},a=s.exports;N();while(l.length){n=l.shift();if(n[0]===null){n[0]=e;if(t)break;t=!0}else n[0]===e&&(t=!0);A(n)}r.defQueueMap={},i=getOwn(u,e);if(!t&&!hasProp(c,e)&&i&&!i.inited){if(o.enforceDefine&&(!a||!getGlobal(a))){if(b(e))return;return T(makeError("nodefine","No define call for "+e,null,[e]))}A([e,s.deps||[],s.exportsFn])}L()},nameToUrl:function(e,t,n){var i,s,u,a,f,l,c,h=getOwn(o.pkgs,e);h&&(e=h),c=getOwn(p,e);if(c)return r.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))f=e+(t||"");else{i=o.paths,s=e.split("/");for(u=s.length;u>0;u-=1){a=s.slice(0,u).join("/"),l=getOwn(i,a);if(l){isArray(l)&&(l=l[0]),s.splice(0,u,l);break}}f=s.join("/"),f+=t||(/^data\:|\?/.test(f)||n?"":".js"),f=(f.charAt(0)==="/"||f.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+f}return o.urlArgs?f+((f.indexOf("?")===-1?"?":"&")+o.urlArgs):f},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=M(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=M(e);if(!b(t.id)){var n=[];return eachProp(u,function(e,r){r.indexOf("_@r")!==0&&each(e.depMaps,function(e){return e.id===t.id&&n.push(r),!0})}),T(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},r.require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(e){if(e.readyState==="interactive")return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.22",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,isBrowser=typeof window!="undefined"&&typeof navigator!="undefined"&&!!window.document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(e,t,n,r){var i,s,o=defContextName;return!isArray(e)&&typeof e!="string"&&(s=e,isArray(t)?(e=t,t=n,n=r):e=[]),s&&s.context&&(o=s.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),s&&i.configure(s),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=typeof setTimeout!="undefined"?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r=e&&e.config||{},i;if(isBrowser)return i=req.createNode(r,t,n),r.onNodeCreated&&r.onNodeCreated(i,r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)):(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(s){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,s,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){head||(head=e.parentNode),dataMain=e.getAttribute("data-main");if(dataMain)return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),i?(i.defQueue.push([e,t,n]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)})(this),define("requirejs",function(){}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("Raven",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Raven=e()}}(function(){return function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!u&&l)return l(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var p=n[o]={exports:{}};t[o][0].call(p.exports,function(e){var n=t[o][1][e];return i(n?n:e)},p,p.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;r.length>o;o++)i(r[o]);return i}({1:[function(e,t,n){function r(e,t,n,r){return JSON.stringify(e,i(t,r),n)}function i(e,t){var n=[],r=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"}),function(i,s){if(n.length>0){var o=n.indexOf(this);~o?n.splice(o+1):n.push(this),~o?r.splice(o,1/0,i):r.push(i),~n.indexOf(s)&&(s=t.call(this,i,s))}else n.push(s);return null==e?s:e.call(this,i,s)}}n=t.exports=r,n.getSerialize=i},{}],2:[function(e,t,n){"use strict";function r(e){this.name="RavenConfigError",this.message=e}r.prototype=new Error,r.prototype.constructor=r,t.exports=r},{}],3:[function(e,t,n){"use strict";var r=function(e,t,n){var r=e[t],i=e;if(t in e){var s="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),t=""+e.join(" "),o={level:s,logger:"console",extra:{arguments:e}};n&&n(t,o),r&&Function.prototype.apply.call(r,i,e)}}};t.exports={wrapMethod:r}},{}],4:[function(e,t,n){"use strict";function r(){return+(new Date)}function i(){this.a="object"==typeof JSON&&!!JSON.stringify,this.b="undefined"!=typeof document,this.c=null,this.d=null,this.e=null,this.f=null,this.g=null,this.h={},this.i={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,stackTraceLimit:50,autoBreadcrumbs:!0},this.j=0,this.k=!1,this.l=Error.stackTraceLimit,this.m=window.console||{},this.n={},this.o=[],this.p=r(),this.q=[],this.r=[],this.s=null,this.t=window.location,this.u=this.t&&this.t.href;for(var e in this.m)this.n[e]=this.m[e]}var s=e(7),o=e(2),u=e(6),a=e(1),f=u.isFunction,l=u.isUndefined,c=u.isError,h=u.isEmptyObject,p=u.hasKey,d=u.joinRegExp,v=u.each,m=u.objectMerge,g=u.truncate,y=u.urlencode,b=u.uuid4,w=u.htmlTreeAsString,E=u.parseUrl,S=u.isString,x=u.fill,T=e(3).wrapMethod,N="source protocol user pass host port path".split(" "),C=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;i.prototype={VERSION:"3.5.1",debug:!1,TraceKit:s,config:function(e,t){var n=this;if(this.e)return this.v("error","Error: Raven has already been configured"),this;if(!e)return this;t&&v(t,function(e,t){"tags"===e||"extra"===e?n.h[e]=t:n.i[e]=t});var r=this.w(e),i=r.path.lastIndexOf("/"),o=r.path.substr(1,i);this.x=e,this.i.ignoreErrors.push(/^Script error\.?$/),this.i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),this.i.ignoreErrors=d(this.i.ignoreErrors),this.i.ignoreUrls=this.i.ignoreUrls.length?d(this.i.ignoreUrls):!1,this.i.whitelistUrls=this.i.whitelistUrls.length?d(this.i.whitelistUrls):!1,this.i.includePaths=d(this.i.includePaths),this.i.maxBreadcrumbs=Math.max(0,Math.min(this.i.maxBreadcrumbs||100,100));var u={xhr:!0,console:!0,dom:!0,location:!0},a=this.i.autoBreadcrumbs;return"[object Object]"==={}.toString.call(a)?a=m(u,a):a!==!1&&(a=u),this.i.autoBreadcrumbs=a,this.f=r.user,this.y=r.pass&&r.pass.substr(1),this.g=r.path.substr(i+1),this.e=this.z(r),this.A=this.e+"/"+o+"api/"+this.g+"/store/",s.collectWindowErrors=!!this.i.collectWindowErrors,this},install:function(){var e=this;return this.isSetup()&&!this.k&&(s.report.subscribe(function(){e.B.apply(e,arguments)}),this.C(),e.i.autoBreadcrumbs&&this.D(),this.E(),this.k=!0),Error.stackTraceLimit=this.i.stackTraceLimit,this},context:function(e,t,n){return f(e)&&(n=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){function r(){var r=[],s=arguments.length,o=!e||e&&e.deep!==!1;for(n&&f(n)&&n.apply(this,arguments);s--;)r[s]=o?i.wrap(e,arguments[s]):arguments[s];try{return t.apply(this,r)}catch(u){throw i.F(),i.captureException(u,e),u}}var i=this;if(l(t)&&!f(e))return e;if(f(e)&&(t=e,e=void 0),!f(t))return t;try{if(t.G)return t}catch(s){return t}if(t.H)return t.H;for(var o in t)p(t,o)&&(r[o]=t[o]);return r.prototype=t.prototype,t.H=r,r.G=!0,r.I=t,r},uninstall:function(){return s.report.uninstall(),this.J(),Error.stackTraceLimit=this.l,this.k=!1,this},captureException:function(e,t){if(!c(e))return this.captureMessage(e,t);this.c=e;try{var n=s.computeStackTrace(e);this.K(n,t)}catch(r){if(e!==r)throw r}return this},captureMessage:function(e,t){return this.i.ignoreErrors.test&&this.i.ignoreErrors.test(e)?void 0:(this.L(m({message:e+""},t)),this)},captureBreadcrumb:function(e){var t=m({timestamp:r()/1e3},e);this.r.push(t),this.r.length>this.i.maxBreadcrumbs&&this.r.shift()},addPlugin:function(e){var t=Array.prototype.slice.call(arguments,1);return this.o.push([e,t]),this.k&&this.E(),this},setUserContext:function(e){return this.h.user=e,this},setExtraContext:function(e){return this.M("extra",e),this},setTagsContext:function(e){return this.M("tags",e),this},clearContext:function(){return this.h={},this},getContext:function(){return JSON.parse(a(this.h))},setEnvironment:function(e){return this.i.environment=e,this},setRelease:function(e){return this.i.release=e,this},setDataCallback:function(e){var t=this.i.dataCallback;return this.i.dataCallback=f(e)?function(n){return e(n,t)}:e,this},setShouldSendCallback:function(e){var t=this.i.shouldSendCallback;return this.i.shouldSendCallback=f(e)?function(n){return e(n,t)}:e,this},setTransport:function(e){return this.i.transport=e,this},lastException:function(){return this.c},lastEventId:function(){return this.d},isSetup:function(){return this.a?this.e?!0:(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this.v("error","Error: Raven has not been configured.")),!1):!1},afterLoad:function(){var e=window.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(window.document){e=e||{};var t=e.eventId||this.lastEventId();if(!t)throw new o("Missing eventId");var n=e.dsn||this.x;if(!n)throw new o("Missing DSN");var r=encodeURIComponent,i="";i+="?eventId="+r(t),i+="&dsn="+r(n);var s=e.user||this.h.user;s&&(s.name&&(i+="&name="+r(s.name)),s.email&&(i+="&email="+r(s.email)));var u=this.z(this.w(n)),a=document.createElement("script");a.async=!0,a.src=u+"/api/embed/error-page/"+i,(document.head||document.body).appendChild(a)}},F:function(){var e=this;this.j+=1,setTimeout(function(){e.j-=1})},N:function(e,t){var n,r;if(this.b){t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=document.createEventObject(),n.eventType=e);for(r in t)p(t,r)&&(n[r]=t[r]);if(document.createEvent)document.dispatchEvent(n);else try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(i){}}},O:function(e){var t=this;return function(n){if(t.P=null,t.s!==n){t.s=n;var r,i=n.target;try{r=w(i)}catch(s){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},Q:function(){var e=this,t=1e3;return function(n){var r=n.target,i=r&&r.tagName;if(i&&("INPUT"===i||"TEXTAREA"===i)){var s=e.P;s||e.O("input")(n),clearTimeout(s),e.P=setTimeout(function(){e.P=null},t)}}},R:function(e,t){var n=E(this.t.href),r=E(t),i=E(e);this.u=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===i.protocol&&n.host===i.host&&(e=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},C:function(){function e(e){return function(t,r){for(var i=new Array(arguments.length),s=0;i.length>s;++s)i[s]=arguments[s];var o=i[0];return f(o)&&(i[0]=n.wrap(o)),e.apply?e.apply(this,i):e(i[0],i[1])}}function t(e){var t=window[e]&&window[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(x(t,"addEventListener",function(t){return function(r,s,o,u){try{s&&s.handleEvent&&(s.handleEvent=n.wrap(s.handleEvent))}catch(a){}var f;return i&&i.dom&&("EventTarget"===e||"Node"===e)&&("click"===r?f=n.O(r):"keypress"===r&&(f=n.Q())),t.call(this,r,n.wrap(s,void 0,f),o,u)}},r),x(t,"removeEventListener",function(e){return function(t,n,r,i){return n=n&&(n.H?n.H:n),e.call(this,t,n,r,i)}},r))}var n=this,r=n.q,i=this.i.autoBreadcrumbs;x(window,"setTimeout",e,r),x(window,"setInterval",e,r),window.requestAnimationFrame&&x(window,"requestAnimationFrame",function(e){return function(t){return e(n.wrap(t))}},r);for(var s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],o=0;s.length>o;o++)t(s[o]);var u=window.jQuery||window.$;u&&u.fn&&u.fn.ready&&x(u.fn,"ready",function(e){return function(t){return e.call(this,n.wrap(t))}},r)},D:function(){function e(e,n){e in n&&f(n[e])&&x(n,e,function(e){return t.wrap(e)})}var t=this,n=this.i.autoBreadcrumbs,r=t.q;if(n.xhr&&"XMLHttpRequest"in window){var i=XMLHttpRequest.prototype;x(i,"open",function(e){return function(n,r){return S(r)&&-1===r.indexOf(t.f)&&(this.S={method:n,url:r,status_code:null}),e.apply(this,arguments)}},r),x(i,"send",function(n){return function(r){function i(){if(s.S&&(1===s.readyState||4===s.readyState)){try{s.S.status_code=s.status}catch(e){}t.captureBreadcrumb({type:"http",category:"xhr",data:s.S})}}for(var s=this,o=["onload","onerror","onprogress"],u=0;o.length>u;u++)e(o[u],s);return"onreadystatechange"in s&&f(s.onreadystatechange)?x(s,"onreadystatechange",function(e){return t.wrap(e,void 0,i)}):s.onreadystatechange=i,n.apply(this,arguments)}},r)}n.dom&&this.b&&(document.addEventListener?(document.addEventListener("click",t.O("click"),!1),document.addEventListener("keypress",t.Q(),!1)):(document.attachEvent("onclick",t.O("click")),document.attachEvent("onkeypress",t.Q())));var s=window.chrome,o=s&&s.app&&s.app.runtime,u=!o&&window.history&&history.pushState;if(n.location&&u){var a=window.onpopstate;window.onpopstate=function(){var e=t.t.href;return t.R(t.u,e),a?a.apply(this,arguments):void 0},x(history,"pushState",function(e){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&t.R(t.u,n+""),e.apply(this,arguments)}},r)}if(n.console&&"console"in window&&console.log){var l=function(e,n){t.captureBreadcrumb({message:e,level:n.level,category:"console"})};v(["debug","info","warn","error","log"],function(e,t){T(console,t,l)})}},J:function(){for(var e;this.q.length;){e=this.q.shift();var t=e[0],n=e[1],r=e[2];t[n]=r}},E:function(){var e=this;v(this.o,function(t,n){var r=n[0],i=n[1];r.apply(e,[e].concat(i))})},w:function(e){var t=C.exec(e),n={},r=7;try{for(;r--;)n[N[r]]=t[r]||""}catch(i){throw new o("Invalid DSN: "+e)}if(n.pass&&!this.i.allowSecretKey)throw new o("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},z:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},B:function(){this.j||this.K.apply(this,arguments)},K:function(e,t){var n=this,r=[];e.stack&&e.stack.length&&v(e.stack,function(e,t){var i=n.T(t);i&&r.push(i)}),this.N("handle",{stackInfo:e,options:t}),this.U(e.name,e.message,e.url,e.lineno,r.slice(0,this.i.stackTraceLimit),t)},T:function(e){if(e.url){var t={filename:e.url,lineno:e.line,colno:e.column,"function":e.func||"?"};return t.in_app=!(this.i.includePaths.test&&!this.i.includePaths.test(t.filename)||/(Raven|TraceKit)\./.test(t["function"])||/raven\.(min\.)?js$/.test(t.filename)),t}},U:function(e,t,n,r,i,s){var o;if((!this.i.ignoreErrors.test||!this.i.ignoreErrors.test(t))&&(t+="",i&&i.length?(n=i[0].filename||n,i.reverse(),o={frames:i}):n&&(o={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this.i.ignoreUrls.test||!this.i.ignoreUrls.test(n))&&(!this.i.whitelistUrls.test||this.i.whitelistUrls.test(n)))){var u=m({exception:{values:[{type:e,value:t,stacktrace:o}]},culprit:n},s);this.L(u)}},V:function(e){var t=this.i.maxMessageLength;if(e.message&&(e.message=g(e.message,t)),e.exception){var n=e.exception.values[0];n.value=g(n.value,t)}return e},W:function(){if(this.b&&document.location&&document.location.href){var e={headers:{"User-Agent":navigator.userAgent}};return e.url=document.location.href,document.referrer&&(e.headers.Referer=document.referrer),e}},L:function(e){var t=this.i,n={project:this.g,logger:t.logger,platform:"javascript"},i=this.W();i&&(n.request=i),e=m(n,e),e.tags=m(m({},this.h.tags),e.tags),e.extra=m(m({},this.h.extra),e.extra),e.extra["session:duration"]=r()-this.p,this.r&&this.r.length>0&&(e.breadcrumbs={values:[].slice.call(this.r,0)}),h(e.tags)&&delete e.tags,this.h.user&&(e.user=this.h.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),f(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!h(e)&&(!f(t.shouldSendCallback)||t.shouldSendCallback(e))&&this.X(e)},X:function(e,t){var n=this,r=this.i;if(this.d=e.event_id||(e.event_id=b()),e=this.V(e),this.v("debug","Raven about to send:",e),this.isSetup()){var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this.f};this.y&&(i.sentry_secret=this.y);var s=e.exception&&e.exception.values[0];this.captureBreadcrumb({category:"sentry",message:s?(s.type?s.type+": ":"")+s.value:e.message,event_id:e.event_id,level:e.level||"error"});var o=this.A;(r.transport||this.Y).call(this,{url:o,auth:i,data:e,options:r,onSuccess:function(){n.N("success",{data:e,src:o}),t&&t()},onError:function(r){n.N("failure",{data:e,src:o}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}},Y:function(e){function t(){200===n.status?e.onSuccess&&e.onSuccess():e.onError&&e.onError(new Error("Sentry error code: "+n.status))}var n=new XMLHttpRequest,r="withCredentials"in n||"undefined"!=typeof XDomainRequest;if(r){var i=e.url;"withCredentials"in n?n.onreadystatechange=function(){4===n.readyState&&t()}:(n=new XDomainRequest,i=i.replace(/^https?:/,""),n.onload=t),n.open("POST",i+"?"+y(e.auth)),n.send(a(e.data))}},v:function(e){this.n[e]&&this.debug&&Function.prototype.apply.call(this.n[e],this.m,[].slice.call(arguments,1))},M:function(e,t){l(t)?delete this.h[e]:this.h[e]=m(this.h[e]||{},t)}},i.prototype.setUser=i.prototype.setUserContext,i.prototype.setReleaseContext=i.prototype.setRelease,t.exports=i},{1:1,2:2,3:3,6:6,7:7}],5:[function(e,t,n){"use strict";var r=e(4),i=window.Raven,s=new r;s.noConflict=function(){return window.Raven=i,s},s.afterLoad(),t.exports=s},{4:4}],6:[function(e,t,n){"use strict";function r(e){return void 0===e}function i(e){return"function"==typeof e}function s(e){return"[object String]"===w.toString.call(e)}function o(e){return"object"==typeof e&&null!==e}function u(e){for(var t in e)return!1;return!0}function a(e){var t=w.toString.call(e);return o(e)&&"[object Error]"===t||"[object Exception]"===t||e instanceof Error}function f(e,t){var n,i;if(r(e.length))for(n in e)h(e,n)&&t.call(null,n,e[n]);else if(i=e.length)for(n=0;i>n;n++)t.call(null,n,e[n])}function l(e,t){return t?(f(t,function(t,n){e[t]=n}),e):e}function c(e,t){return!t||t>=e.length?e:e.substr(0,t)+"…"}function h(e,t){return w.hasOwnProperty.call(e,t)}function p(e){for(var t,n=[],r=0,i=e.length;i>r;r++)t=e[r],s(t)?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function d(e){var t=[];return f(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")}function v(e){var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}}function m(){var e=window.crypto||window.msCrypto;if(!r(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);4>t.length;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function g(e){for(var t,n=5,r=80,i=[],s=0,o=0,u=" > ",a=u.length;e&&s++<n&&(t=y(e),!("html"===t||s>1&&o+i.length*a+t.length>=r));)i.push(t),o+=t.length,e=e.parentNode;return i.reverse().join(u)}function y(e){var t,n,r,i,o,u=[];if(!e||!e.tagName)return"";if(u.push(e.tagName.toLowerCase()),e.id&&u.push("#"+e.id),t=e.className,t&&s(t))for(n=t.split(" "),o=0;n.length>o;o++)u.push("."+n[o]);var a=["type","name","title","alt"];for(o=0;a.length>o;o++)r=a[o],i=e.getAttribute(r),i&&u.push("["+r+'="'+i+'"]');return u.join("")}function b(e,t,n,r){var i=e[t];e[t]=n(i),r&&r.push([e,t,i])}var w=Object.prototype;t.exports={isUndefined:r,isFunction:i,isString:s,isObject:o,isEmptyObject:u,isError:a,each:f,objectMerge:l,truncate:c,hasKey:h,joinRegExp:p,urlencode:d,uuid4:m,htmlTreeAsString:g,htmlElementAsString:y,parseUrl:v,fill:b}},{}],7:[function(e,t,n){"use strict";function r(){return"undefined"==typeof document?"":document.location.href}var i=e(6),s=i.hasKey,o=i.isString,u=i.isUndefined,a={collectWindowErrors:!0,debug:!1},f=[].slice,l="?",c=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;a.report=function(){function e(e){h(),w.push(e)}function t(e){for(var t=w.length-1;t>=0;--t)w[t]===e&&w.splice(t,1)}function n(){p(),w=[]}function i(e,t){var n=null;if(!t||a.collectWindowErrors){for(var r in w)if(s(w,r))try{w[r].apply(null,[e].concat(f.call(arguments,2)))}catch(i){n=i}if(n)throw n}}function u(e,t,n,s,u){var f=null;if(x)a.computeStackTrace.augmentStackTraceWithInitialElement(x,t,n,e),v();else if(u)f=a.computeStackTrace(u),i(f,!0);else{var h,p={url:t,line:n,column:s},m=void 0,b=e;if(o(e)){var h=e.match(c);h&&(m=h[1],b=h[2])}p.func=l,f={name:m,message:b,url:r(),stack:[p]},i(f,!0)}return y?y.apply(this,arguments):!1}function h(){b||(y=window.onerror,window.onerror=u,b=!0)}function p(){b&&(window.onerror=y,b=!1,y=void 0)}function v(){var e=x,t=E;E=null,x=null,S=null,i.apply(null,[e,!1].concat(t))}function m(e,t){var n=f.call(arguments,1);if(x){if(S===e)return;v()}var r=a.computeStackTrace(e);if(x=r,S=e,E=n,window.setTimeout(function(){S===e&&v()},r.incomplete?2e3:0),t!==!1)throw e}var y,b,w=[],E=null,S=null,x=null;return m.subscribe=e,m.unsubscribe=t,m.uninstall=n,m}(),a.computeStackTrace=function(){function e(e){if(!u(e.stack)&&e.stack){for(var t,n,i=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=e.stack.split("\n"),f=[],c=(/^(.*) is undefined$/.exec(e.message),0),p=a.length;p>c;++c){if(t=i.exec(a[c])){var v=t[2]&&-1!==t[2].indexOf("native");n={url:v?null:t[2],func:t[1]||l,args:v?[t[2]]:[],line:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}else if(t=o.exec(a[c]))n={url:t[2],func:t[1]||l,args:[],line:+t[3],column:t[4]?+t[4]:null};else{if(!(t=s.exec(a[c])))continue;n={url:t[3],func:t[1]||l,args:t[2]?t[2].split(","):[],line:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}!n.func&&n.line&&(n.func=l),f.push(n)}return f.length?(f[0].column||u(e.columnNumber)||(f[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:r(),stack:f}):null}}function t(e){var t=e.stacktrace;if(!u(e.stacktrace)&&e.stacktrace){for(var n,i=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,s=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=t.split("\n"),a=[],f=0;o.length>f;f+=2){var c=null;(n=i.exec(o[f]))?c={url:n[2],line:+n[1],column:null,func:n[3],args:[]}:(n=s.exec(o[f]))&&(c={url:n[6],line:+n[1],column:+n[2],func:n[3]||n[4],args:n[5]?n[5].split(","):[]}),c&&(!c.func&&c.line&&(c.func=l),a.push(c))}return a.length?{name:e.name,message:e.message,url:r(),stack:a}:null}}function n(e){var t=e.message.split("\n");if(4>t.length)return null;for(var n,i=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of function script\s*$/i,u=[],a=(document.getElementsByTagName("script"),2);t.length>a;a+=2){var f=null;if(n=i.exec(t[a]))f={url:n[2],func:n[3],args:[],line:+n[1],column:null};else if(n=s.exec(t[a]))f={url:n[3],func:n[4],args:[],line:+n[1],column:null};else if(n=o.exec(t[a])){var c=window.location.href.replace(/#.*$/,"");f={url:c,func:"",args:[],line:n[1],column:null}}f&&(f.func||(f.func=l),u.push(f))}return u.length?{name:e.name,message:t[0],url:r(),stack:u}:null}function i(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){if(e.incomplete=!1,i.func||(i.func=l),e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function s(e,t){for(var n,u,f=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,c=[],h={},p=!1,v=s.caller;v&&!p;v=v.caller)if(v!==o&&v!==a.report){if(u={url:null,func:l,line:null,column:null},v.name?u.func=v.name:(n=f.exec(v.toString()))&&(u.func=n[1]),"undefined"==typeof u.func)try{u.func=n.input.substring(0,n.input.indexOf("{"))}catch(m){}h[""+v]?p=!0:h[""+v]=!0,c.push(u)}t&&c.splice(0,t);var y={name:e.name,message:e.message,url:r(),stack:c};return i(y,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),y}function o(i,o){var u=null;o=null==o?0:+o;try{if(u=t(i))return u}catch(f){if(a.debug)throw f}try{if(u=e(i))return u}catch(f){if(a.debug)throw f}try{if(u=n(i))return u}catch(f){if(a.debug)throw f}try{if(u=s(i,o+1))return u}catch(f){if(a.debug)throw f}return{name:i.name,message:i.message,url:r()}}return o.augmentStackTraceWithInitialElement=i,o.computeStackTraceFromStackProp=e,o}(),t.exports=a},{6:6}]},{},[5])(5)}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(a,b){function s(e){var t="length"in e&&e.length,r=n.type(e);return"function"===r||n.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e}function x(e,t,r){if(n.isFunction(t))return n.grep(e,function(e,n){return!!t.call(e,n,e)!==r});if(t.nodeType)return n.grep(e,function(e){return e===t!==r});if("string"==typeof t){if(w.test(t))return n.filter(t,e,r);t=n.filter(t,e)}return n.grep(e,function(e){return g.call(t,e)>=0!==r})}function D(e,t){while((e=e[t])&&1!==e.nodeType);return e}function G(e){var t=F[e]={};return n.each(e.match(E)||[],function(e,n){t[n]=!0}),t}function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}function P(e,t,r){var i;if(void 0===r&&1===e.nodeType)if(i="data-"+t.replace(O,"-$1").toLowerCase(),r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:N.test(r)?n.parseJSON(r):r}catch(s){}M.set(e,t,r)}else r=void 0;return r}function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(e){}}function ja(e,t){return n.nodeName(e,"table")&&n.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ka(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function la(e){var t=ga.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ma(e,t){for(var n=0,r=e.length;r>n;n++)L.set(e[n],"globalEval",!t||L.get(t[n],"globalEval"))}function na(e,t){var r,i,s,o,u,a,f,l;if(1===t.nodeType){if(L.hasData(e)&&(o=L.access(e),u=L.set(t,o),l=o.events)){delete u.handle,u.events={};for(s in l)for(r=0,i=l[s].length;i>r;r++)n.event.add(t,s,l[s][r])}M.hasData(e)&&(a=M.access(e),f=n.extend({},a),M.set(t,f))}}function oa(e,t){var r=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&n.nodeName(e,t)?n.merge([e],r):r}function pa(e,t){var n=t.nodeName.toLowerCase();"input"===n&&T.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function sa(e,t){var r,i=n(t.createElement(e)).appendTo(t.body),s=a.getDefaultComputedStyle&&(r=a.getDefaultComputedStyle(i[0]))?r.display:n.css(i[0],"display");return i.detach(),s}function ta(e){var t=l,r=ra[e];return r||(r=sa(e,t),"none"!==r&&r||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=qa[0].contentDocument,t.write(),t.close(),r=sa(e,t),qa.detach()),ra[e]=r),r}function xa(e,t,r){var i,s,o,u,a=e.style;return r=r||wa(e),r&&(u=r.getPropertyValue(t)||r[t]),r&&(""!==u||n.contains(e.ownerDocument,e)||(u=n.style(e,t)),va.test(u)&&ua.test(t)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=u,u=r.width,a.width=i,a.minWidth=s,a.maxWidth=o)),void 0!==u?u+"":u}function ya(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function Fa(e,t){if(t in e)return t;var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ea.length;while(i--)if(t=Ea[i]+n,t in e)return t;return r}function Ga(e,t,n){var r=Aa.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ha(e,t,r,i,s){for(var o=r===(i?"border":"content")?4:"width"===t?1:0,u=0;4>o;o+=2)"margin"===r&&(u+=n.css(e,r+R[o],!0,s)),i?("content"===r&&(u-=n.css(e,"padding"+R[o],!0,s)),"margin"!==r&&(u-=n.css(e,"border"+R[o]+"Width",!0,s))):(u+=n.css(e,"padding"+R[o],!0,s),"padding"!==r&&(u+=n.css(e,"border"+R[o]+"Width",!0,s)));return u}function Ia(e,t,r){var i=!0,s="width"===t?e.offsetWidth:e.offsetHeight,o=wa(e),u="border-box"===n.css(e,"boxSizing",!1,o);if(0>=s||null==s){if(s=xa(e,t,o),(0>s||null==s)&&(s=e.style[t]),va.test(s))return s;i=u&&(k.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+Ha(e,t,r||(u?"border":"content"),i,o)+"px"}function Ja(e,t){for(var r,i,s,o=[],u=0,a=e.length;a>u;u++)i=e[u],i.style&&(o[u]=L.get(i,"olddisplay"),r=i.style.display,t?(o[u]||"none"!==r||(i.style.display=""),""===i.style.display&&S(i)&&(o[u]=L.access(i,"olddisplay",ta(i.nodeName)))):(s=S(i),"none"===r&&s||L.set(i,"olddisplay",s?r:n.css(i,"display"))));for(u=0;a>u;u++)i=e[u],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[u]||"":"none"));return e}function Ka(e,t,n,r,i){return new Ka.prototype.init(e,t,n,r,i)}function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=R[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ua(e,t,n){for(var r,i=(Ra[t]||[]).concat(Ra["*"]),s=0,o=i.length;o>s;s++)if(r=i[s].call(n,t,e))return r}function Va(e,t,r){var i,s,o,u,a,f,l,c,h=this,p={},d=e.style,v=e.nodeType&&S(e),m=L.get(e,"fxshow");r.queue||(a=n._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,f=a.empty.fire,a.empty.fire=function(){a.unqueued||f()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,n.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],l=n.css(e,"display"),c="none"===l?L.get(e,"olddisplay")||ta(e.nodeName):l,"inline"===c&&"none"===n.css(e,"float")&&(d.display="inline-block")),r.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}));for(i in t)if(s=t[i],Na.exec(s)){if(delete t[i],o=o||"toggle"===s,s===(v?"hide":"show")){if("show"!==s||!m||void 0===m[i])continue;v=!0}p[i]=m&&m[i]||n.style(e,i)}else l=void 0;if(n.isEmptyObject(p))"inline"===("none"===l?ta(e.nodeName):l)&&(d.display=l);else{m?"hidden"in m&&(v=m.hidden):m=L.access(e,"fxshow",{}),o&&(m.hidden=!v),v?n(e).show():h.done(function(){n(e).hide()}),h.done(function(){var t;L.remove(e,"fxshow");for(t in p)n.style(e,t,p[t])});for(i in p)u=Ua(v?m[i]:0,i,h),i in m||(m[i]=u.start,v&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}}function Wa(e,t){var r,i,s,o,u;for(r in e)if(i=n.camelCase(r),s=t[i],o=e[r],n.isArray(o)&&(s=o[1],o=e[r]=o[0]),r!==i&&(e[i]=o,delete e[r]),u=n.cssHooks[i],u&&"expand"in u){o=u.expand(o),delete e[i];for(r in o)r in e||(e[r]=o[r],t[r]=s)}else t[i]=s}function Xa(e,t,r){var i,s,o=0,u=Qa.length,a=n.Deferred().always(function(){delete f.elem}),f=function(){if(s)return!1;for(var t=La||Sa(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,i=1-r,o=0,u=l.tweens.length;u>o;o++)l.tweens[o].run(i);return a.notifyWith(e,[l,i,n]),1>i&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:n.extend({},t),opts:n.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:La||Sa(),duration:r.duration,tweens:[],createTween:function(t,r){var i=n.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,r=t?l.tweens.length:0;if(s)return this;for(s=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(Wa(c,l.opts.specialEasing);u>o;o++)if(i=Qa[o].call(l,e,c,l.opts))return i;return n.map(c,Ua,l),n.isFunction(l.opts.start)&&l.opts.start.call(e,l),n.fx.timer(n.extend(f,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function qb(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var i,s=0,o=t.toLowerCase().match(E)||[];if(n.isFunction(r))while(i=o[s++])"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(r)):(e[i]=e[i]||[]).push(r)}}function rb(e,t,r,i){function u(l){var h;return s[l]=!0,n.each(e[l]||[],function(e,n){var a=n(t,r,i);return"string"!=typeof a||o||s[a]?o?!(h=a):void 0:(t.dataTypes.unshift(a),u(a),!1)}),h}var s={},o=e===mb;return u(t.dataTypes[0])||!s["*"]&&u("*")}function sb(e,t){var r,i,s=n.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((s[r]?e:i||(i={}))[r]=t[r]);return i&&n.extend(!0,e,i),e}function tb(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while("*"===a[0])a.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}return s?(s!==a[0]&&a.unshift(s),n[s]):void 0}function ub(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function Ab(e,t,r,i){var s;if(n.isArray(t))n.each(t,function(t,n){r||wb.test(e)?i(e,n):Ab(e+"["+("object"==typeof n?t:"")+"]",n,r,i)});else if(r||"object"!==n.type(t))i(e,t);else for(s in t)Ab(e+"["+s+"]",t[s],r,i)}function Jb(e){return n.isWindow(e)?e:9===e.nodeType&&e.defaultView}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(e,t){return new n.fn.init(e,t)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(e,t){return t.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:d.call(this)},pushStack:function(e){var t=n.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return n.each(this,e,t)},map:function(e){return this.pushStack(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var e,t,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;for("boolean"==typeof u&&(l=u,u=arguments[a]||{},a++),"object"==typeof u||n.isFunction(u)||(u={}),a===f&&(u=this,a--);f>a;a++)if(null!=(e=arguments[a]))for(t in e)r=u[t],i=e[t],u!==i&&(l&&i&&(n.isPlainObject(i)||(s=n.isArray(i)))?(s?(s=!1,o=r&&n.isArray(r)?r:[]):o=r&&n.isPlainObject(r)?r:{},u[t]=n.extend(l,o,i)):void 0!==i&&(u[t]=i));return u},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===n.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!n.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==n.type(e)||e.nodeType||n.isWindow(e)?!1:e.constructor&&!j.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[i.call(e)]||"object":typeof e},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(e){return e.replace(p,"ms-").replace(q,r)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,u=s(e);if(n){if(u){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(u){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(o,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(s(Object(e))?n.merge(r,"string"==typeof e?[e]:e):f.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:g.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,o=e.length,u=!n;o>s;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(t,n,r){var i,o=0,u=t.length,a=s(t),f=[];if(a)for(;u>o;o++)i=n(t[o],o,r),null!=i&&f.push(i);else for(o in t)i=n(t[o],o,r),null!=i&&f.push(i);return e.apply([],f)},guid:1,proxy:function(e,t){var r,i,s;return"string"==typeof t&&(r=e[t],t=e,e=r),n.isFunction(e)?(i=d.call(arguments,2),s=function(){return e.apply(t||this,i.concat(d.call(arguments)))},s.guid=e.guid=e.guid||n.guid++,s):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var t=function(e){function ot(e,t,r,i){var s,u,f,l,c,d,g,y,S,x;if((t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,r=r||[],l=t.nodeType,"string"!=typeof e||!e||1!==l&&9!==l&&11!==l)return r;if(!i&&v){if(11!==l&&(s=Z.exec(e)))if(f=s[1]){if(9===l){if(u=t.getElementById(f),!u||!u.parentNode)return r;if(u.id===f)return r.push(u),r}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&b(t,u)&&u.id===f)return r.push(u),r}else{if(s[2])return D.apply(r,t.getElementsByTagName(e)),r;if((f=s[3])&&n.getElementsByClassName)return D.apply(r,t.getElementsByClassName(f)),r}if(n.qsa&&(!m||!m.test(e))){if(y=g=w,S=t,x=1!==l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){d=o(e),(g=t.getAttribute("id"))?y=g.replace(tt,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",c=d.length;while(c--)d[c]=y+gt(d[c]);S=et.test(e)&&vt(t.parentNode)||t,x=d.join(",")}if(x)try{return D.apply(r,S.querySelectorAll(x)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return a(e.replace(z,"$1"),t,r,i)}function ut(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function at(e){return e[w]=!0,e}function ft(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||L)-(~e.sourceIndex||L);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function dt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function vt(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function mt(){}function gt(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function yt(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=x++;return t.first?function(t,n,s){while(t=t[r])if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[S,s];if(o){while(t=t[r])if((1===t.nodeType||i)&&e(t,n,o))return!0}else while(t=t[r])if(1===t.nodeType||i){if(a=t[w]||(t[w]={}),(u=a[r])&&u[0]===S&&u[1]===s)return f[2]=u[2];if(a[r]=f,f[2]=e(t,n,o))return!0}}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function wt(e,t,n){for(var r=0,i=t.length;i>r;r++)ot(e,t[r],n);return n}function Et(e,t,n,r,i){for(var s,o=[],u=0,a=e.length,f=null!=t;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function St(e,t,n,r,i,s){return r&&!r[w]&&(r=St(r)),i&&!i[w]&&(i=St(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||wt(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:Et(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=Et(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?H(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=Et(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):D.apply(o,g)})}function xt(e){for(var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=yt(function(e){return e===t},u,!0),c=yt(function(e){return H(t,e)>-1},u,!0),h=[function(e,n,r){var i=!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,i}];s>a;a++)if(n=r.relative[e[a].type])h=[yt(bt(h),n)];else{if(n=r.filter[e[a].type].apply(null,e[a].matches),n[w]){for(i=++a;s>i;i++)if(r.relative[e[i].type])break;return St(a>1&&bt(h),a>1&&gt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(z,"$1"),n,i>a&&xt(e.slice(a,i)),s>i&&xt(e=e.slice(i)),s>i&&gt(e))}h.push(n)}return bt(h)}function Tt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,h,d,v=0,m="0",g=s&&[],y=[],b=f,w=s||i&&r.find.TAG("*",l),E=S+=null==b?1:Math.random()||.1,x=w.length;for(l&&(f=o!==p&&o);m!==x&&null!=(c=w[m]);m++){if(i&&c){h=0;while(d=e[h++])if(d(c,o,u)){a.push(c);break}l&&(S=E)}n&&((c=!d&&c)&&v--,s&&g.push(c))}if(v+=m,n&&m!==v){h=0;while(d=t[h++])d(g,y,o,u);if(s){if(v>0)while(m--)g[m]||y[m]||(y[m]=M.call(a));y=Et(y)}D.apply(a,y),l&&!s&&y.length>0&&v+t.length>1&&ot.uniqueSort(a)}return l&&(S=E,f=b),g};return n?at(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+1*new Date,E=e.document,S=0,x=0,T=ut(),N=ut(),C=ut(),k=function(e,t){return e===t&&(c=!0),0},L=1<<31,A={}.hasOwnProperty,O=[],M=O.pop,_=O.push,D=O.push,P=O.slice,H=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",I=F.replace("w","w#"),q="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+j+"*\\]",R=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",U=new RegExp(j+"+","g"),z=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),W=new RegExp("^"+j+"*,"+j+"*"),X=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),V=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),$=new RegExp(R),J=new RegExp("^"+I+"$"),K={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,tt=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},it=function(){h()};try{D.apply(O=P.call(E.childNodes),E.childNodes),O[E.childNodes.length].nodeType}catch(st){D={apply:O.length?function(e,t){_.apply(e,P.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=ot.support={},s=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},h=ot.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:E;return o!==p&&9===o.nodeType&&o.documentElement?(p=o,d=o.documentElement,i=o.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",it,!1):i.attachEvent&&i.attachEvent("onunload",it)),v=!s(o),n.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ft(function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(o.getElementsByClassName),n.getById=ft(function(e){return d.appendChild(e).id=w,!o.getElementsByName||!o.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){return v?t.getElementsByClassName(e):void 0},g=[],m=[],(n.qsa=Y.test(o.querySelectorAll))&&(ft(function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),ft(function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ft(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",R)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===o||e.ownerDocument===E&&b(E,e)?-1:t===o||t.ownerDocument===E&&b(E,t)?1:l?H(l,e)-H(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,u=[e],a=[t];if(!i||!s)return e===o?-1:t===o?1:i?-1:s?1:l?H(l,e)-H(l,t):0;if(i===s)return ct(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)a.unshift(n);while(u[r]===a[r])r++;return r?ct(u[r],a[r]):u[r]===E?-1:a[r]===E?1:0},o):p},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(V,"='$1']"),!(!n.matchesSelector||!v||g&&g.test(t)||m&&m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return ot(t,p,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},ot.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==s?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},ot.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,r=[],i=0,s=0;if(c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k),c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=ot.getText=function(e){var t,n="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},r=ot.selectors={cacheLength:50,createPseudo:at,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[3]||e[4]||e[5]||"").replace(nt,rt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(U," ")+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(1===c.nodeType&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++h&&(y&&((c[w]||(c[w]={}))[e]=[S,h]),c===t))break;return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=H(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:at(function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[w]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return e=e.replace(nt,rt),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:at(function(e){return J.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[0>n?n+t:n]}),even:dt(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:dt(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:dt(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:dt(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ht(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pt(t);return mt.prototype=r.filters=r.pseudos,r.setFilters=new mt,o=ot.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){(!n||(i=W.exec(u)))&&(i&&(u=u.slice(i[0].length)||u),a.push(s=[])),n=!1,(i=X.exec(u))&&(n=i.shift(),s.push({value:n,type:i[0].replace(z," ")}),u=u.slice(n.length));for(o in r.filter)!(i=K[o].exec(u))||f[o]&&!(i=f[o](i))||(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)},u=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=xt(t[n]),s[w]?r.push(s):i.push(s);s=C(e,Tt(i,r)),s.selector=e}return s},a=ot.select=function(e,t,i,s){var a,f,l,c,h,p="function"==typeof e&&e,d=!s&&o(e=p.selector||e);if(i=i||[],1===d.length){if(f=d[0]=d[0].slice(0),f.length>2&&"ID"===(l=f[0]).type&&n.getById&&9===t.nodeType&&v&&r.relative[f[1].type]){if(t=(r.find.ID(l.matches[0].replace(nt,rt),t)||[])[0],!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}a=K.needsContext.test(e)?0:f.length;while(a--){if(l=f[a],r.relative[c=l.type])break;if((h=r.find[c])&&(s=h(l.matches[0].replace(nt,rt),et.test(f[0].type)&&vt(t.parentNode)||t))){if(f.splice(a,1),e=s.length&&gt(f),!e)return D.apply(i,s),i;break}}}return(p||u(e,d))(s,t,!v,i,et.test(e)&&vt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=ft(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),ft(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),ft(function(e){return null==e.getAttribute("disabled")})||lt(B,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ot}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;n.filter=function(e,t,r){var i=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?n.find.matchesSelector(i,e)?[i]:[]:n.find.matches(e,n.grep(t,function(e){return 1===e.nodeType}))},n.fn.extend({find:function(e){var t,r=this.length,i=[],s=this;if("string"!=typeof e)return this.pushStack(n(e).filter(function(){for(t=0;r>t;t++)if(n.contains(s[t],this))return!0}));for(t=0;r>t;t++)n.find(e,s[t],i);return i=this.pushStack(r>1?n.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&u.test(e)?n(e):e||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(e,t){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:z.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||y).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof n?t[0]:t,n.merge(this,n.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:l,!0)),v.test(r[1])&&n.isPlainObject(t))for(r in t)n.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=l.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=l,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):n.isFunction(e)?"undefined"!=typeof y.ready?y.ready(e):e(n):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),n.makeArray(e,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(e,t,r){var i=[],s=void 0!==r;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(s&&n(e).is(r))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),n.fn.extend({has:function(e){var t=n(e,this),r=t.length;return this.filter(function(){for(var e=0;r>e;e++)if(n.contains(this,t[e]))return!0})},closest:function(e,t){for(var r,i=0,s=this.length,o=[],a=u.test(e)||"string"!=typeof e?n(e,t||this.context):0;s>i;i++)for(r=this[i];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&n.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?n.unique(o):o)},index:function(e){return e?"string"==typeof e?g.call(n(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(n.unique(n.merge(this.get(),n(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),n.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return n.dir(e,"parentNode")},parentsUntil:function(e,t,r){return n.dir(e,"parentNode",r)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return n.dir(e,"nextSibling")},prevAll:function(e){return n.dir(e,"previousSibling")},nextUntil:function(e,t,r){return n.dir(e,"nextSibling",r)},prevUntil:function(e,t,r){return n.dir(e,"previousSibling",r)},siblings:function(e){return n.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return n.sibling(e.firstChild)},contents:function(e){return e.contentDocument||n.merge([],e.childNodes)}},function(e,t){n.fn[e]=function(r,i){var s=n.map(this,t,r);return"Until"!==e.slice(-5)&&(i=r),i&&"string"==typeof i&&(s=n.filter(i,s)),this.length>1&&(C[e]||n.unique(s),B.test(e)&&s.reverse()),this.pushStack(s)}});var E=/\S+/g,F={};n.Callbacks=function(e){e="string"==typeof e?F[e]||G(e):n.extend({},e);var t,r,i,s,o,u,a=[],f=!e.once&&[],l=function(n){for(t=e.memory&&n,r=!0,u=s||0,s=0,o=a.length,i=!0;a&&o>u;u++)if(a[u].apply(n[0],n[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):t?a=[]:c.disable())},c={add:function(){if(a){var r=a.length;!function u(t){n.each(t,function(t,r){var i=n.type(r);"function"===i?e.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==i&&u(r)})}(arguments),i?o=a.length:t&&(s=r,l(t))}return this},remove:function(){return a&&n.each(arguments,function(e,t){var r;while((r=n.inArray(t,a,r))>-1)a.splice(r,1),i&&(o>=r&&o--,u>=r&&u--)}),this},has:function(e){return e?n.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],o=0,this},disable:function(){return a=f=t=void 0,this},disabled:function(){return!a},lock:function(){return f=void 0,t||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return!a||r&&!f||(t=t||[],t=[e,t.slice?t.slice():t],i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},n.extend({Deferred:function(e){var t=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],r="pending",i={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return n.Deferred(function(r){n.each(t,function(t,o){var u=n.isFunction(e[t])&&e[t];s[o[1]](function(){var e=u&&u.apply(this,arguments);e&&n.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[o[0]+"With"](this===i?r.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?n.extend(e,i):i}},s={};return i.pipe=i.then,n.each(t,function(e,n){var o=n[2],u=n[3];i[n[1]]=o.add,u&&o.add(function(){r=u},t[1^e][2].disable,t[2][2].lock),s[n[0]]=function(){return s[n[0]+"With"](this===s?i:this,arguments),this},s[n[0]+"With"]=o.fireWith}),i.promise(s),e&&e.call(s,s),s},when:function(e){var t=0,r=d.call(arguments),i=r.length,s=1!==i||e&&n.isFunction(e.promise)?i:0,o=1===s?e:n.Deferred(),u=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===a?o.notifyWith(t,n):--s||o.resolveWith(t,n)}},a,f,l;if(i>1)for(a=new Array(i),f=new Array(i),l=new Array(i);i>t;t++)r[t]&&n.isFunction(r[t].promise)?r[t].promise().done(u(t,l,r)).fail(o.reject).progress(u(t,f,a)):--s;return s||o.resolveWith(l,r),o.promise()}});var H;n.fn.ready=function(e){return n.ready.promise().done(e),this},n.extend({isReady:!1,readyWait:1,holdReady:function(e){e?n.readyWait++:n.ready(!0)},ready:function(e){(e===!0?--n.readyWait:n.isReady)||(n.isReady=!0,e!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}}),n.ready.promise=function(e){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(e)},n.ready.promise();var J=n.access=function(e,t,r,i,s,o,u){var a=0,f=e.length,l=null==r;if("object"===n.type(r)){s=!0;for(a in r)n.access(e,t,a,r[a],!0,o,u)}else if(void 0!==i&&(s=!0,n.isFunction(i)||(u=!0),l&&(u?(t.call(e,i),t=null):(l=t,t=function(e,t,r){return l.call(n(e),r)})),t))for(;f>a;a++)t(e[a],r,u?i:i.call(e[a],a,t(e[a],r)));return s?e:l?t.call(e):f?t(e[0],r):o};n.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(e){if(!K.accepts(e))return 0;var t={},r=e[this.expando];if(!r){r=K.uid++;try{t[this.expando]={value:r},Object.defineProperties(e,t)}catch(i){t[this.expando]=r,n.extend(e,t)}}return this.cache[r]||(this.cache[r]={}),r},set:function(e,t,r){var i,s=this.key(e),o=this.cache[s];if("string"==typeof t)o[t]=r;else if(n.isEmptyObject(o))n.extend(this.cache[s],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,r){var i;return void 0===t||t&&"string"==typeof t&&void 0===r?(i=this.get(e,t),void 0!==i?i:this.get(e,n.camelCase(t))):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,i,s,o=this.key(e),u=this.cache[o];if(void 0===t)this.cache[o]={};else{n.isArray(t)?i=t.concat(t.map(n.camelCase)):(s=n.camelCase(t),t in u?i=[t,s]:(i=s,i=i in u?[i]:i.match(E)||[])),r=i.length;while(r--)delete u[i[r]]}},hasData:function(e){return!n.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;n.extend({hasData:function(e){return M.hasData(e)||L.hasData(e)},data:function(e,t,n){return M.access(e,t,n)},removeData:function(e,t){M.remove(e,t)},_data:function(e,t,n){return L.access(e,t,n)},_removeData:function(e,t){L.remove(e,t)}}),n.fn.extend({data:function(e,t){var r,i,s,o=this[0],u=o&&o.attributes;if(void 0===e){if(this.length&&(s=M.get(o),1===o.nodeType&&!L.get(o,"hasDataAttrs"))){r=u.length;while(r--)u[r]&&(i=u[r].name,0===i.indexOf("data-")&&(i=n.camelCase(i.slice(5)),P(o,i,s[i])));L.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){M.set(this,e)}):J(this,function(t){var r,i=n.camelCase(e);if(o&&void 0===t){if(r=M.get(o,e),void 0!==r)return r;if(r=M.get(o,i),void 0!==r)return r;if(r=P(o,i,void 0),void 0!==r)return r}else this.each(function(){var n=M.get(this,i);M.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&M.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){M.remove(this,e)})}}),n.extend({queue:function(e,t,r){var i;return e?(t=(t||"fx")+"queue",i=L.get(e,t),r&&(!i||n.isArray(r)?i=L.access(e,t,n.makeArray(r)):i.push(r)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var r=n.queue(e,t),i=r.length,s=r.shift(),o=n._queueHooks(e,t),u=function(){n.dequeue(e,t)};"inprogress"===s&&(s=r.shift(),i--),s&&("fx"===t&&r.unshift("inprogress"),delete o.stop,s.call(e,u,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return L.get(e,r)||L.access(e,r,{empty:n.Callbacks("once memory").add(function(){L.remove(e,[t+"queue",r])})})}}),n.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?n.queue(this[0],e):void 0===t?this:this.each(function(){var r=n.queue(this,e,t);n._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&n.dequeue(this,e)})},dequeue:function(e){return this.each(function(){n.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,i=1,s=n.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(u--)r=L.get(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(t)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(e,t){return e=t||e,"none"===n.css(e,"display")||!n.contains(e.ownerDocument,e)},T=/^(?:checkbox|radio)$/i;!function(){var e=l.createDocumentFragment(),t=e.appendChild(l.createElement("div")),n=l.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),k.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(e,t,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=L.get(e);if(g){r.handler&&(o=r,r=o.handler,s=o.selector),r.guid||(r.guid=n.guid++),(f=g.events)||(f=g.events={}),(u=g.handle)||(u=g.handle=function(t){return typeof n!==U&&n.event.triggered!==t.type?n.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(E)||[""],l=t.length;while(l--)a=Y.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d&&(h=n.event.special[d]||{},d=(s?h.delegateType:h.bindType)||d,h=n.event.special[d]||{},c=n.extend({type:d,origType:m,data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&n.expr.match.needsContext.test(s),namespace:v.join(".")},o),(p=f[d])||(p=f[d]=[],p.delegateCount=0,h.setup&&h.setup.call(e,i,v,u)!==!1||e.addEventListener&&e.addEventListener(d,u,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),s?p.splice(p.delegateCount++,0,c):p.push(c),n.event.global[d]=!0)}},remove:function(e,t,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=L.hasData(e)&&L.get(e);if(g&&(f=g.events)){t=(t||"").match(E)||[""],l=t.length;while(l--)if(a=Y.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d){h=n.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,p=f[d]||[],a=a[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=p.length;while(o--)c=p[o],!s&&m!==c.origType||r&&r.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(e,c));u&&!p.length&&(h.teardown&&h.teardown.call(e,v,g.handle)!==!1||n.removeEvent(e,d,g.handle),delete f[d])}else for(d in f)n.event.remove(e,d+t[l],r,i,!0);n.isEmptyObject(f)&&(delete g.handle,L.remove(e,"events"))}},trigger:function(e,t,r,i){var s,o,u,f,c,h,p,d=[r||l],v=j.call(e,"type")?e.type:e,m=j.call(e,"namespace")?e.namespace.split("."):[];if(o=u=r=r||l,3!==r.nodeType&&8!==r.nodeType&&!X.test(v+n.event.triggered)&&(v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,e=e[n.expando]?e:new n.Event(v,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=m.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:n.makeArray(t,[e]),p=n.event.special[v]||{},i||!p.trigger||p.trigger.apply(r,t)!==!1)){if(!i&&!p.noBubble&&!n.isWindow(r)){for(f=p.delegateType||v,X.test(f+v)||(o=o.parentNode);o;o=o.parentNode)d.push(o),u=o;u===(r.ownerDocument||l)&&d.push(u.defaultView||u.parentWindow||a)}s=0;while((o=d[s++])&&!e.isPropagationStopped())e.type=s>1?f:p.bindType||v,h=(L.get(o,"events")||{})[e.type]&&L.get(o,"handle"),h&&h.apply(o,t),h=c&&o[c],h&&h.apply&&n.acceptData(o)&&(e.result=h.apply(o,t),e.result===!1&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),t)!==!1||!n.acceptData(r)||c&&n.isFunction(r[v])&&!n.isWindow(r)&&(u=r[c],u&&(r[c]=null),n.event.triggered=v,r[v](),n.event.triggered=void 0,u&&(r[c]=u)),e.result}},dispatch:function(e){e=n.event.fix(e);var t,r,i,s,o,u=[],a=d.call(arguments),f=(L.get(this,"events")||{})[e.type]||[],l=n.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){u=n.event.handlers.call(this,e,f),t=0;while((s=u[t++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,r=0;while((o=s.handlers[r++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((n.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var r,i,s,o,u=[],a=t.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||"click"!==e.type))for(;f!==this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==e.type){for(i=[],r=0;a>r;r++)o=t[r],s=o.selector+" ",void 0===i[s]&&(i[s]=o.needsContext?n(s,this).index(f)>=0:n.find(s,this,null,[f]).length),i[s]&&i.push(o);i.length&&u.push({elem:f,handlers:i})}return a<t.length&&u.push({elem:this,handlers:t.slice(a)}),u},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||l,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[n.expando])return e;var t,r,i,s=e.type,o=e,u=this.fixHooks[s];u||(this.fixHooks[s]=u=W.test(s)?this.mouseHooks:V.test(s)?this.keyHooks:{}),i=u.props?this.props.concat(u.props):this.props,e=new n.Event(o),t=i.length;while(t--)r=i[t],e[r]=o[r];return e.target||(e.target=l),3===e.target.nodeType&&(e.target=e.target.parentNode),u.filter?u.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return n.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,r,i){var s=n.extend(new n.Event,r,{type:e,isSimulated:!0,originalEvent:{}});i?n.event.trigger(s,null,t):n.event.dispatch.call(t,s),s.isDefaultPrevented()&&r.preventDefault()}},n.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},n.Event=function(e,t){return this instanceof n.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?Z:$):this.type=e,t&&n.extend(this,t),this.timeStamp=e&&e.timeStamp||n.now(),void (this[n.expando]=!0)):new n.Event(e,t)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Z,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Z,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Z,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){n.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,i=this,s=e.relatedTarget,o=e.handleObj;return(!s||s!==i&&!n.contains(i,s))&&(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){n.event.simulate(t,e.target,n.event.fix(e),!0)};n.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=L.access(n,t);i||n.addEventListener(e,r,!0),L.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=L.access(n,t)-1;i?L.access(n,t,i):(n.removeEventListener(e,r,!0),L.remove(n,t))}}}),n.fn.extend({on:function(e,t,r,i,s){var o,u;if("object"==typeof e){"string"!=typeof t&&(r=r||t,t=void 0);for(u in e)this.on(u,t,r,e[u],s);return this}if(null==r&&null==i?(i=t,r=t=void 0):null==i&&("string"==typeof t?(i=r,r=void 0):(i=r,r=t,t=void 0)),i===!1)i=$;else if(!i)return this;return 1===s&&(o=i,i=function(e){return n().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=n.guid++)),this.each(function(){n.event.add(this,e,i,r,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,n(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return(t===!1||"function"==typeof t)&&(r=t,t=void 0),r===!1&&(r=$),this.each(function(){n.event.remove(this,e,r,t)})},trigger:function(e,t){return this.each(function(){n.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];return r?n.event.trigger(e,t,r,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td,n.extend({clone:function(e,t,r){var i,s,o,u,a=e.cloneNode(!0),f=n.contains(e.ownerDocument,e);if(!(k.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||n.isXMLDoc(e)))for(u=oa(a),o=oa(e),i=0,s=o.length;s>i;i++)pa(o[i],u[i]);if(t)if(r)for(o=o||oa(e),u=u||oa(a),i=0,s=o.length;s>i;i++)na(o[i],u[i]);else na(e,a);return u=oa(a,"script"),u.length>0&&ma(u,!f&&oa(e,"script")),a},buildFragment:function(e,t,r,i){for(var s,o,u,a,f,l,c=t.createDocumentFragment(),h=[],p=0,d=e.length;d>p;p++)if(s=e[p],s||0===s)if("object"===n.type(s))n.merge(h,s.nodeType?[s]:s);else if(ca.test(s)){o=o||c.appendChild(t.createElement("div")),u=(ba.exec(s)||["",""])[1].toLowerCase(),a=ia[u]||ia._default,o.innerHTML=a[1]+s.replace(aa,"<$1></$2>")+a[2],l=a[0];while(l--)o=o.lastChild;n.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(t.createTextNode(s));c.textContent="",p=0;while(s=h[p++])if((!i||-1===n.inArray(s,i))&&(f=n.contains(s.ownerDocument,s),o=oa(c.appendChild(s),"script"),f&&ma(o),r)){l=0;while(s=o[l++])fa.test(s.type||"")&&r.push(s)}return c},cleanData:function(e){for(var t,r,i,s,o=n.event.special,u=0;void 0!==(r=e[u]);u++){if(n.acceptData(r)&&(s=r[L.expando],s&&(t=L.cache[s]))){if(t.events)for(i in t.events)o[i]?n.event.remove(r,i):n.removeEvent(r,i,t.handle);L.cache[s]&&delete L.cache[s]}delete M.cache[r[M.expando]]}}}),n.fn.extend({text:function(e){return J(this,function(e){return void 0===e?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ja(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ja(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var r,i=e?n.filter(e,this):this,s=0;null!=(r=i[s]);s++)t||1!==r.nodeType||n.cleanData(oa(r)),r.parentNode&&(t&&n.contains(r.ownerDocument,r)&&ma(oa(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(n.cleanData(oa(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return n.clone(this,e,t)})},html:function(e){return J(this,function(e){var t=this[0]||{},r=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!da.test(e)&&!ia[(ba.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(aa,"<$1></$2>");try{for(;i>r;r++)t=this[r]||{},1===t.nodeType&&(n.cleanData(oa(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,n.cleanData(oa(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(t,r){t=e.apply([],t);var i,s,o,u,a,f,l=0,c=this.length,h=this,p=c-1,d=t[0],v=n.isFunction(d);if(v||c>1&&"string"==typeof d&&!k.checkClone&&ea.test(d))return this.each(function(e){var n=h.eq(e);v&&(t[0]=d.call(this,e,n.html())),n.domManip(t,r)});if(c&&(i=n.buildFragment(t,this[0].ownerDocument,!1,this),s=i.firstChild,1===i.childNodes.length&&(i=s),s)){for(o=n.map(oa(i,"script"),ka),u=o.length;c>l;l++)a=i,l!==p&&(a=n.clone(a,!0,!0),u&&n.merge(o,oa(a,"script"))),r.call(this[l],a,l);if(u)for(f=o[o.length-1].ownerDocument,n.map(o,la),l=0;u>l;l++)a=o[l],fa.test(a.type||"")&&!L.access(a,"globalEval")&&n.contains(f,a)&&(a.src?n._evalUrl&&n._evalUrl(a.src):n.globalEval(a.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){n.fn[e]=function(e){for(var r,i=[],s=n(e),o=s.length-1,u=0;o>=u;u++)r=u===o?this:this.clone(!0),n(s[u])[t](r),f.apply(i,r.get());return this.pushStack(i)}});var qa,ra={},ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):a.getComputedStyle(e,null)};!function(){var e,t,r=l.documentElement,i=l.createElement("div"),s=l.createElement("div");if(s.style){s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===s.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(s);function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(i);var n=a.getComputedStyle(s,null);e="1%"!==n.top,t="4px"===n.width,r.removeChild(i)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return null==t&&o(),t},reliableMarginRight:function(){var e,t=s.appendChild(l.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",r.appendChild(i),e=!parseFloat(a.getComputedStyle(t,null).marginRight),r.removeChild(i),s.removeChild(t),e}})}}(),n.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=xa(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,u,a=n.camelCase(t),f=e.style;return t=n.cssProps[a]||(n.cssProps[a]=Fa(f,a)),u=n.cssHooks[t]||n.cssHooks[a],void 0===r?u&&"get"in u&&void 0!==(s=u.get(e,!1,i))?s:f[t]:(o=typeof r,"string"===o&&(s=Ba.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(n.css(e,t)),o="number"),null!=r&&r===r&&("number"!==o||n.cssNumber[a]||(r+="px"),k.clearCloneStyle||""!==r||0!==t.indexOf("background")||(f[t]="inherit"),u&&"set"in u&&void 0===(r=u.set(e,r,i))||(f[t]=r)),void 0)}},css:function(e,t,r,i){var s,o,u,a=n.camelCase(t);return t=n.cssProps[a]||(n.cssProps[a]=Fa(e.style,a)),u=n.cssHooks[t]||n.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,r)),void 0===s&&(s=xa(e,t,i)),"normal"===s&&t in Da&&(s=Da[t]),""===r||r?(o=parseFloat(s),r===!0||n.isNumeric(o)?o||0:s):s}}),n.each(["height","width"],function(e,t){n.cssHooks[t]={get:function(e,r,i){return r?za.test(n.css(e,"display"))&&0===e.offsetWidth?n.swap(e,Ca,function(){return Ia(e,t,i)}):Ia(e,t,i):void 0},set:function(e,r,i){var s=i&&wa(e);return Ga(e,r,i?Ha(e,t,i,"border-box"===n.css(e,"boxSizing",!1,s),s):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(e,t){return t?n.swap(e,{display:"inline-block"},xa,[e,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(e,t){n.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+R[r]+t]=s[r]||s[r-2]||s[0];return i}},ua.test(e)||(n.cssHooks[e+t].set=Ga)}),n.fn.extend({css:function(e,t){return J(this,function(e,t,r){var i,s,o={},u=0;if(n.isArray(t)){for(i=wa(e),s=t.length;s>u;u++)o[t[u]]=n.css(e,t[u],!1,i);return o}return void 0!==r?n.style(e,t,r):n.css(e,t)},e,t,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}}),n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(e,t,r,i,s,o){this.elem=e,this.prop=r,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(n.cssNumber[r]?"":"px")},cur:function(){var e=Ka.propHooks[this.prop];return e&&e.get?e.get(this):Ka.propHooks._default.get(this)},run:function(e){var t,r=Ka.propHooks[this.prop];return this.options.duration?this.pos=t=n.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=n.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){n.fx.step[e.prop]?n.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[n.cssProps[e.prop]]||n.cssHooks[e.prop])?n.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},n.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(e,t){var r=this.createTween(e,t),i=r.cur(),s=Oa.exec(t),o=s&&s[3]||(n.cssNumber[e]?"":"px"),u=(n.cssNumber[e]||"px"!==o&&+i)&&Oa.exec(n.css(r.elem,e)),a=1,f=20;if(u&&u[3]!==o){o=o||u[3],s=s||[],u=+i||1;do a=a||".5",u/=a,n.style(r.elem,e,u+o);while(a!==(a=r.cur()/i)&&1!==a&&--f)}return s&&(u=r.start=+u||+i||0,r.unit=o,r.end=s[1]?u+(s[1]+1)*s[2]:+s[2]),r}]};n.Animation=n.extend(Xa,{tweener:function(e,t){n.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var r,i=0,s=e.length;s>i;i++)r=e[i],Ra[r]=Ra[r]||[],Ra[r].unshift(t)},prefilter:function(e,t){t?Qa.unshift(e):Qa.push(e)}}),n.speed=function(e,t,r){var i=e&&"object"==typeof e?n.extend({},e):{complete:r||!r&&t||n.isFunction(e)&&e,duration:e,easing:r&&t||t&&!n.isFunction(t)&&t};return i.duration=n.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in n.fx.speeds?n.fx.speeds[i.duration]:n.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){n.isFunction(i.old)&&i.old.call(this),i.queue&&n.dequeue(this,i.queue)},i},n.fn.extend({fadeTo:function(e,t,n,r){return this.filter(S).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,r,i){var s=n.isEmptyObject(e),o=n.speed(t,r,i),u=function(){var t=Xa(this,n.extend({},e),o);(s||L.get(this,"finish"))&&t.stop(!0)};return u.finish=u,s||o.queue===!1?this.each(u):this.queue(o.queue,u)},stop:function(e,t,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",o=n.timers,u=L.get(this);if(s)u[s]&&u[s].stop&&i(u[s]);else for(s in u)u[s]&&u[s].stop&&Pa.test(s)&&i(u[s]);for(s=o.length;s--;)o[s].elem!==this||null!=e&&o[s].queue!==e||(o[s].anim.stop(r),t=!1,o.splice(s,1));(t||!r)&&n.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,r=L.get(this),i=r[e+"queue"],s=r[e+"queueHooks"],o=n.timers,u=i?i.length:0;for(r.finish=!0,n.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;u>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete r.finish})}}),n.each(["toggle","show","hide"],function(e,t){var r=n.fn[t];n.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(Ta(t,!0),e,n,i)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){n.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),n.timers=[],n.fx.tick=function(){var e,t=0,r=n.timers;for(La=n.now();t<r.length;t++)e=r[t],e()||r[t]!==e||r.splice(t--,1);r.length||n.fx.stop(),La=void 0},n.fx.timer=function(e){n.timers.push(e),e()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(e,t){return e=n.fx?n.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=l.createElement("input"),t=l.createElement("select"),n=t.appendChild(l.createElement("option"));e.type="checkbox",k.checkOn=""!==e.value,k.optSelected=n.selected,t.disabled=!0,k.optDisabled=!n.disabled,e=l.createElement("input"),e.value="t",e.type="radio",k.radioValue="t"===e.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(e,t){return J(this,n.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){n.removeAttr(this,e)})}}),n.extend({attr:function(e,t,r){var i,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===U?n.prop(e,t,r):(1===o&&n.isXMLDoc(e)||(t=t.toLowerCase(),i=n.attrHooks[t]||(n.expr.match.bool.test(t)?Za:Ya)),void 0===r?i&&"get"in i&&null!==(s=i.get(e,t))?s:(s=n.find.attr(e,t),null==s?void 0:s):null!==r?i&&"set"in i&&void 0!==(s=i.set(e,r,t))?s:(e.setAttribute(t,r+""),r):void n.removeAttr(e,t))},removeAttr:function(e,t){var r,i,s=0,o=t&&t.match(E);if(o&&1===e.nodeType)while(r=o[s++])i=n.propFix[r]||r,n.expr.match.bool.test(r)&&(e[i]=!1),e.removeAttribute(r)},attrHooks:{type:{set:function(e,t){if(!k.radioValue&&"radio"===t&&n.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}}}),Za={set:function(e,t,r){return t===!1?n.removeAttr(e,r):e.setAttribute(r,r),r}},n.each(n.expr.match.bool.source.match(/\w+/g),function(e,t){var r=$a[t]||n.find.attr;$a[t]=function(e,t,n){var i,s;return n||(s=$a[t],$a[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,$a[t]=s),i}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(e,t){return J(this,n.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[n.propFix[e]||e]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,r){var i,s,o,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return o=1!==u||!n.isXMLDoc(e),o&&(t=n.propFix[t]||t,s=n.propHooks[t]),void 0!==r?s&&"set"in s&&void 0!==(i=s.set(e,r,t))?i:e[t]=r:s&&"get"in s&&null!==(i=s.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||_a.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(e){var t,r,i,s,o,u,a="string"==typeof e&&e,f=0,l=this.length;if(n.isFunction(e))return this.each(function(t){n(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(E)||[];l>f;f++)if(r=this[f],i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(ab," "):" ")){o=0;while(s=t[o++])i.indexOf(" "+s+" ")<0&&(i+=s+" ");u=n.trim(i),r.className!==u&&(r.className=u)}return this},removeClass:function(e){var t,r,i,s,o,u,a=0===arguments.length||"string"==typeof e&&e,f=0,l=this.length;if(n.isFunction(e))return this.each(function(t){n(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(E)||[];l>f;f++)if(r=this[f],i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(ab," "):"")){o=0;while(s=t[o++])while(i.indexOf(" "+s+" ")>=0)i=i.replace(" "+s+" "," ");u=e?n.trim(i):"",r.className!==u&&(r.className=u)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):this.each(n.isFunction(e)?function(r){n(this).toggleClass(e.call(this,r,this.className,t),t)}:function(){if("string"===r){var t,i=0,s=n(this),o=e.match(E)||[];while(t=o[i++])s.hasClass(t)?s.removeClass(t):s.addClass(t)}else(r===U||"boolean"===r)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||e===!1?"":L.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ab," ").indexOf(t)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(e){var t,r,i,s=this[0];if(arguments.length)return i=n.isFunction(e),this.each(function(r){var s;1===this.nodeType&&(s=i?e.call(this,r,n(this).val()):e,null==s?s="":"number"==typeof s?s+="":n.isArray(s)&&(s=n.map(s,function(e){return null==e?"":e+""})),t=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))});if(s)return t=n.valHooks[s.type]||n.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(s,"value"))?r:(r=s.value,"string"==typeof r?r.replace(bb,""):null==r?"":r)}}),n.extend({valHooks:{option:{get:function(e){var t=n.find.attr(e,"value");return null!=t?t:n.trim(n.text(e))}},select:{get:function(e){for(var t,r,i=e.options,s=e.selectedIndex,o="select-one"===e.type||0>s,u=o?null:[],a=o?s+1:i.length,f=0>s?a:o?s:0;a>f;f++)if(r=i[f],!(!r.selected&&f!==s||(k.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&n.nodeName(r.parentNode,"optgroup"))){if(t=n(r).val(),o)return t;u.push(t)}return u},set:function(e,t){var r,i,s=e.options,o=n.makeArray(t),u=s.length;while(u--)i=s[u],(i.selected=n.inArray(i.value,o)>=0)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(e,t){return n.isArray(t)?e.checked=n.inArray(n(e).val(),t)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){n.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),n.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var cb=n.now(),db=/\?/;n.parseJSON=function(e){return JSON.parse(e+"")},n.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,t=r.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+e),t};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?sb(sb(e,n.ajaxSettings),t):sb(n.ajaxSettings,e)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(e,t){function T(e,t,o,a){var l,g,y,w,E,x=t;2!==b&&(b=2,u&&clearTimeout(u),r=void 0,s=a||"",S.readyState=e>0?4:0,l=e>=200&&300>e||304===e,o&&(w=tb(c,S,o)),w=ub(c,w,S,l),l?(c.ifModified&&(E=S.getResponseHeader("Last-Modified"),E&&(n.lastModified[i]=E),E=S.getResponseHeader("etag"),E&&(n.etag[i]=E)),204===e||"HEAD"===c.type?x="nocontent":304===e?x="notmodified":(x=w.state,g=w.data,y=w.error,l=!y)):(y=x,(e||!x)&&(x="error",0>e&&(e=0))),S.status=e,S.statusText=(t||x)+"",l?d.resolveWith(h,[g,x,S]):d.rejectWith(h,[S,x,y]),S.statusCode(m),m=void 0,f&&p.trigger(l?"ajaxSuccess":"ajaxError",[S,c,l?g:y]),v.fireWith(h,[S,x]),f&&(p.trigger("ajaxComplete",[S,c]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,s,o,u,a,f,l,c=n.ajaxSetup({},t),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?n(h):n.event,d=n.Deferred(),v=n.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o){o={};while(t=gb.exec(s))o[t[1].toLowerCase()]=t[2]}t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),T(0,t),this}};if(d.promise(S).complete=v.add,S.success=S.done,S.error=S.fail,c.url=((e||c.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=n.trim(c.dataType||"*").toLowerCase().match(E)||[""],null==c.crossDomain&&(a=kb.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===pb[1]&&a[2]===pb[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=n.param(c.data,c.traditional)),rb(lb,c,t,S),2===b)return S;f=n.event&&c.global,f&&0===n.active++&&n.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!ib.test(c.type),i=c.url,c.hasContent||(c.data&&(i=c.url+=(db.test(i)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=fb.test(i)?i.replace(fb,"$1_="+cb++):i+(db.test(i)?"&":"?")+"_="+cb++)),c.ifModified&&(n.lastModified[i]&&S.setRequestHeader("If-Modified-Since",n.lastModified[i]),n.etag[i]&&S.setRequestHeader("If-None-Match",n.etag[i])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&S.setRequestHeader("Content-Type",c.contentType),S.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+nb+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)S.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,S,c)!==!1&&2!==b){w="abort";for(l in{success:1,error:1,complete:1})S[l](c[l]);if(r=rb(mb,c,t,S)){S.readyState=1,f&&p.trigger("ajaxSend",[S,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){S.abort("timeout")},c.timeout));try{b=1,r.send(g,T)}catch(x){if(!(2>b))throw x;T(-1,x)}}else T(-1,"No Transport");return S}return S.abort()},getJSON:function(e,t,r){return n.get(e,t,r,"json")},getScript:function(e,t){return n.get(e,void 0,t,"script")}}),n.each(["get","post"],function(e,t){n[t]=function(e,r,i,s){return n.isFunction(r)&&(s=s||i,i=r,r=void 0),n.ajax({url:e,type:t,dataType:s,data:r,success:i})}}),n._evalUrl=function(e){return n.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(e){var t;return n.isFunction(e)?this.each(function(t){n(this).wrapAll(e.call(this,t))}):(this[0]&&(t=n(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(n.isFunction(e)?function(t){n(this).wrapInner(e.call(this,t))}:function(){var t=n(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=n.isFunction(e);return this.each(function(r){n(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},n.expr.filters.visible=function(e){return!n.expr.filters.hidden(e)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;n.param=function(e,t){var r,i=[],s=function(e,t){t=n.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(e)||e.jquery&&!n.isPlainObject(e))n.each(e,function(){s(this.name,this.value)});else for(r in e)Ab(r,e[r],t,s);return i.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=n.prop(this,"elements");return e?n.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(e)&&(this.checked||!T.test(e))}).map(function(e,t){var r=n(this).val();return null==r?null:n.isArray(r)?n.map(r,function(e){return{name:t.name,value:e.replace(xb,"\r\n")}}):{name:t.name,value:r.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var e in Cb)Cb[e]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(e){var t;return k.cors||Eb&&!e.crossDomain?{send:function(n,r){var i,s=e.xhr(),o=++Bb;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Cb[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?r(s.status,s.statusText):r(Db[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=Cb[o]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(t)throw u}},abort:function(){t&&t()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return n.globalEval(e),e}}}),n.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),n.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(i,s){t=n("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&s("error"===e.type?404:200,e.type)}),l.head.appendChild(t[0])},abort:function(){r&&r()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fb.pop()||n.expando+"_"+cb++;return this[e]=!0,e}}),n.ajaxPrefilter("json jsonp",function(e,t,r){var i,s,o,u=e.jsonp!==!1&&(Gb.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(e.data)&&"data");return u||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=n.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,u?e[u]=e[u].replace(Gb,"$1"+i):e.jsonp!==!1&&(e.url+=(db.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||n.error(i+" was not called"),o[0]},e.dataTypes[0]="json",s=a[i],a[i]=function(){o=arguments},r.always(function(){a[i]=s,e[i]&&(e.jsonpCallback=t.jsonpCallback,Fb.push(i)),o&&n.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),n.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||l;var i=v.exec(e),s=!r&&[];return i?[t.createElement(i[1])]:(i=n.buildFragment([e],t,s),s&&s.length&&n(s).remove(),n.merge([],i.childNodes))};var Hb=n.fn.load;n.fn.load=function(e,t,r){if("string"!=typeof e&&Hb)return Hb.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=n.trim(e.slice(a)),e=e.slice(0,a)),n.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(s="POST"),u.length>0&&n.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){o=arguments,u.html(i?n("<div>").append(n.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,o||[e.responseText,t,e])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){n.fn[t]=function(e){return this.on(t,e)}}),n.expr.filters.animated=function(e){return n.grep(n.timers,function(t){return e===t.elem}).length};var Ib=a.document.documentElement;n.offset={setOffset:function(e,t,r){var i,s,o,u,a,f,l,c=n.css(e,"position"),h=n(e),p={};"static"===c&&(e.style.position="relative"),a=h.offset(),o=n.css(e,"top"),f=n.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+f).indexOf("auto")>-1,l?(i=h.position(),u=i.top,s=i.left):(u=parseFloat(o)||0,s=parseFloat(f)||0),n.isFunction(t)&&(t=t.call(e,r,a)),null!=t.top&&(p.top=t.top-a.top+u),null!=t.left&&(p.left=t.left-a.left+s),"using"in t?t.using.call(e,p):h.css(p)}},n.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){n.offset.setOffset(this,e,t)});var t,r,i=this[0],s={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,n.contains(t,i)?(typeof i.getBoundingClientRect!==U&&(s=i.getBoundingClientRect()),r=Jb(o),{top:s.top+r.pageYOffset-t.clientTop,left:s.left+r.pageXOffset-t.clientLeft}):s},position:function(){if(this[0]){var e,t,r=this[0],i={top:0,left:0};return"fixed"===n.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),n.nodeName(e[0],"html")||(i=e.offset()),i.top+=n.css(e[0],"borderTopWidth",!0),i.left+=n.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-n.css(r,"marginTop",!0),left:t.left-i.left-n.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||Ib;while(e&&!n.nodeName(e,"html")&&"static"===n.css(e,"position"))e=e.offsetParent;return e||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;n.fn[e]=function(n){return J(this,function(e,n,i){var s=Jb(e);return void 0===i?s?s[t]:e[n]:void (s?s.scrollTo(r?a.pageXOffset:i,r?i:a.pageYOffset):e[n]=i)},e,n,arguments.length,null)}}),n.each(["top","left"],function(e,t){n.cssHooks[t]=ya(k.pixelPosition,function(e,r){return r?(r=xa(e,t),va.test(r)?n(e).position()[t]+"px":r):void 0})}),n.each({Height:"height",Width:"width"},function(e,t){n.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,i){n.fn[i]=function(i,s){var o=arguments.length&&(r||"boolean"!=typeof i),u=r||(i===!0||s===!0?"margin":"border");return J(this,function(t,r,i){var s;return n.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?n.css(t,r,u):n.style(t,r,i,u)},t,o?i:void 0,o,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(e){return a.$===n&&(a.$=Lb),e&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n}),define("utils/jqDomUtils",["jquery"],function(e){"use strict";var t=e.fn.append,n=e.fn.prepend,r=e.fn.remove;e.fn.append=function(){var e=t.apply(this,arguments);return this.trigger("domchange",this),e},e.fn.prepend=function(){var e=n.apply(this,arguments);return this.trigger("domchange",this),e},e.fn.remove=function(){return this.trigger("domchange",this),r.apply(this,arguments)}}),define("utils/globalElements",["jquery"],function(e){"use strict";return{doc:e(document),win:e(window),html:e("html"),body:e("body"),scrollTarget:e("html, body")}}),define("managers/eventManager",[],function(){"use strict";function e(){var e,t,n;e=this,t={listeners:{}},n={addListener:function(e,n){return t.listeners[e]||(t.listeners[e]=[]),t.listeners[e].push(n),n},removeListener:function(e,n){var r=t.listeners[e],i;if(!r)return;for(i=r.length;i>=0;i-=1)if(r[i]===n)return r.splice(i,1)[0]},emit:function(e){var n=t.listeners[e],r=n?n.length:null,i=0;if(!n||!r)return;while(i<r)n[i++].apply(this,Array.prototype.slice.call(arguments,1))}},e.addListener=n.addListener,e.removeListener=n.removeListener,e.emit=n.emit}return new e}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t==0?n:t==i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;o||(o=i*.3*1.5);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return t<1?-0.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),(t/=i/2)<1?r/2*t*t*(((s*=1.525)+1)*t-s)+n:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){return t<i/2?jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n:jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}}),define("easing",["jquery"],function(e){return function(){var t,n;return t||e.jQuery.easing}}(this)),!function(e){"function"==typeof define&&define.amd?define("mousewheel",["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,u=a.call(arguments,1),f=0,h=0,p=0,v=0,m=0,g=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(p=-1*o.detail),"wheelDelta"in o&&(p=o.wheelDelta),"wheelDeltaY"in o&&(p=o.wheelDeltaY),"wheelDeltaX"in o&&(h=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(h=-1*p,p=0),f=0===p?h:p,"deltaY"in o&&(p=-1*o.deltaY,f=p),"deltaX"in o&&(h=o.deltaX,0===p&&(f=-1*h)),0!==p||0!==h){if(1===o.deltaMode){var y=e.data(this,"mousewheel-line-height");f*=y,p*=y,h*=y}else if(2===o.deltaMode){var b=e.data(this,"mousewheel-page-height");f*=b,p*=b,h*=b}if(v=Math.max(Math.abs(p),Math.abs(h)),(!s||s>v)&&(s=v,r(o,v)&&(s/=40)),r(o,v)&&(f/=40,h/=40,p/=40),f=Math[f>=1?"floor":"ceil"](f/s),h=Math[h>=1?"floor":"ceil"](h/s),p=Math[p>=1?"floor":"ceil"](p/s),l.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();m=t.clientX-w.left,g=t.clientY-w.top}return t.deltaX=h,t.deltaY=p,t.deltaFactor=s,t.offsetX=m,t.offsetY=g,t.deltaMode=0,u.unshift(t,f,h,p),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,u)}}function n(){s=null}function r(e,t){return l.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,s,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],u="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],a=Array.prototype.slice;if(e.event.fixHooks)for(var f=o.length;f;)e.event.fixHooks[o[--f]]=e.event.mouseHooks;var l=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=u.length;n;)this.addEventListener(u[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",l.getLineHeight(this)),e.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=u.length;n;)this.removeEventListener(u[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),define("utils/functionUtil",[],function(){"use strict";var e={};return e.debounce=function(e,t,n){var r,i;return t||(t=100),function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},e.throttle=function(t,n,r){var i,s,o,u=null,a=0,f;return r||(r={}),f=function(){a=r.leading===!1?0:e.now(),u=null,o=t.apply(i,s),u||(i=s=null)},function(){var l=e.now(),c;return!a&&r.leading===!1&&(a=l),c=n-(l-a),i=this,s=arguments,c<=0||c>n?(u&&(clearTimeout(u),u=null),a=l,o=t.apply(i,s),u||(i=s=null)):!u&&r.trailing!==!1&&(u=setTimeout(f,c)),o}},e.now=Date.now||function(){return(new Date).getTime()},e}),define("services/AnchorLinkObserver",["jquery","managers/eventManager"],function(e,t){"use strict";var n=function(r){var i,s,o,u;i=e.extend({$e:null,selector:"body"},r),s={name:"AnchorLinkObserver",$e:i.$e||e(i.selector)},o={init:function(){s.$e.on("click",'a[href^="#"]',u.anchorLinkClick),s.$e.on("click","a[href]",u.hrefLinkClick)}},u={anchorLinkClick:function(r){var i,o;i=e(this.hash,s.$e),i.length===1&&(r.preventDefault(),o={hash:this.hash,$anchor:e(this),$target:i},t.emit(n.eventTypes.ANCHOR_CLICK,o))},hrefLinkClick:function(r){var i,s;s=this.href,s.length&&!this.hash.length&&(i={href:s,$anchor:e(this),event:r},t.emit(n.eventTypes.HREF_CLICK,i))}},o.init()};return n.eventTypes={ANCHOR_CLICK:"anchorLinkClick",HREF_CLICK:"hrefLinkClick"},n.on={hrefLinkClick:function(e){t.addListener(n.eventTypes.HREF_CLICK,e)}},n}),define("services/scroller",["jquery","easing","mousewheel","utils/functionUtil","utils/globalElements","managers/eventManager","services/AnchorLinkObserver"],function(e,t,n,r,i,s,o){"use strict";var u=function(t){var n,u,a,f,l,c,h,p;n=this,u=e.extend({scrollDuration:800,scrollEasing:"easeInOutCubic",compressedHeaderHeight:80},t),a={},f={SCROLL:"scrollerScroll"},l={name:"Scroller",scrollTop:0,isWheeling:!1,wheelingTimeout:null},c={win:i.win,doc:i.doc,scrollTarget:i.scrollTarget},h={init:function(){h.updateScrollTop(),c.doc.on("scroll",p.scroll),c.doc.on("mousewheel",p.mousewheel),s.addListener(o.eventTypes.ANCHOR_CLICK,p.anchorLinkClick)},scrollToYPos:function(t,n){var r=!1;c.scrollTarget.stop(!0,!1).animate({scrollTop:t},{duration:u.scrollDuration,easing:u.scrollEasing,complete:function(){e.isFunction(n)&&!r&&(r=!0,n())}})},scrollToElement:function(e,t){var n=e.offset().top-u.compressedHeaderHeight;return h.scrollToYPos(n,t)},getScrollTarget:function(){return c.scrollTarget},getScrollTop:function(){return l.scrollTop},updateScrollTop:function(){l.scrollTop=c.doc.scrollTop()},handleScrollOrMousewheelEvent:r.throttle(function(){h.updateScrollTop(),s.emit(f.SCROLL,{scrollTop:l.scrollTop})},75),onScroll:function(e){return s.addListener(f.SCROLL,e)},offScroll:function(e){return s.removeListener(f.SCROLL,e)}},p={scroll:function(){l.isWheeling||h.handleScrollOrMousewheelEvent()},mousewheel:function(){l.isWheeling=!0,l.wheelingTimeout&&clearTimeout(l.wheelingTimeout),l.wheelingTimeout=setTimeout(function(){l.isWheeling=!1},100),h.handleScrollOrMousewheelEvent()},anchorLinkClick:function(e){var t=e.$target,n=t.attr("id");h.scrollToElement(t,function(){n&&t.removeAttr("id"),window.location.hash=e.hash,n&&t.attr("id",n)})}},n.o=u,n.eventTypes=f,n.scrollToYPos=h.scrollToYPos,n.scrollToElement=h.scrollToElement,n.getScrollTarget=h.getScrollTarget,n.getScrollTop=h.getScrollTop,n.onScroll=h.onScroll,n.offScroll=h.offScroll,h.init()};return new u}),define("services/layout",["jquery","utils/functionUtil","utils/globalElements","managers/eventManager"],function(e,t,n,r){"use strict";var i=function(i){var s,o,u,a,f,l,c,h,p,d;s=this,o=e.extend({},i),u={},a={RESIZE:"layoutResize"},f={FULL:{columnCount:4,columnUnitCount:4,minWidth:1081},MEDIUM:{columnCount:3,columnUnitCount:4,maxWidth:1080,minWidth:761},SMALL:{columnCount:2,columnUnitCount:4,maxWidth:760,minWidth:421},TINY:{columnCount:1,columnUnitCount:4,maxWidth:420}},l={BASE_UNIT:10},c={name:"Layout",info:null},h={win:n.win},p={init:function(){p.updateInfo(),h.win.on("resize",d.resize)},updateInfo:function(){var e=h.win,t=e.width(),n=e.height(),r=p.deriveBreakpoint(t),i=p.deriveColumnWidth(t,r),s=p.deriveColumnUnit(i,r);c.info={width:t,height:n,breakpoint:r,columnWidth:i,columnUnit:s}},deriveBreakpoint:function(t){var n;return e.each(f,function(e,r){if(r.minWidth){if(t>=r.minWidth){if(!r.maxWidth)return n=r,!1;if(t<=r.maxWidth)return n=r,!1}}else if(r.maxWidth&&t<=r.maxWidth)return n=r,!1}),n},deriveColumnWidth:function(e,t){return Math.ceil(e/t.columnCount)},deriveColumnUnit:function(e,t){return Math.ceil(e/t.columnUnitCount)},getInfo:function(){return c.info},onResize:function(e){return r.addListener(a.RESIZE,e)},offResize:function(e){return r.removeListener(a.RESIZE,e)},trigger:function(){p.updateInfo(),r.emit(a.RESIZE,c.info)},breakpointIs:function(e){var t;return t=c.info.breakpoint,t===f[e]},getFullWidth:function(){var e,t,n;return e=c.info.breakpoint,t=c.info.columnWidth,n=e.columnCount,t*n},getColumnWidth:function(){return c.info.columnWidth},hasTouchSupport:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},d={resize:t.debounce(function(){p.trigger()},25)},s.eventTypes=a,s.breakpoints=f,s.dimensions=l,s.getInfo=p.getInfo,s.onResize=p.onResize,s.offResize=p.offResize,s.trigger=p.trigger,s.breakpointIs=p.breakpointIs,s.getFullWidth=p.getFullWidth,s.getColumnWidth=p.getColumnWidth,s.hasTouchSupport=p.hasTouchSupport,p.init()};return new i}),define("utils/statesUtil",["jquery"],function(e){"use strict";var t={};return t.markup={READY:"state-ready",ACTIVE:"state-active",INACTIVE:"state-inactive",OPEN:"state-open",CLOSED:"state-closed",SELECTED:"state-selected",CURRENT:"state-current",HIGHLIGHT:"state-highlight",FOCUS:"state-focus",BLUR:"state-blur",HOVER:"state-hover",HAS_VALUE:"state-has-value",PLACEHOLDER:"state-placeholder",SHOW:"state-show",HIDE:"state-hide",VISIBLE:"state-visible",INVISIBLE:"state-invisible",DISABLED:"state-disabled",ENABLED:"state-enabled",INVALID:"state-invalid",VALID:"state-valid",COLLAPSE:"state-collapse",EXPAND:"state-expand",INITED:"state-inited",SETUP:"state-setup",FULL_SCREEN:"state-full-screen",PROCESSING:"state-processing"},t.extend=function(n){var r={};e.extend(r,t.markup,n),e.extend(n,r)},t.m=t.markup,t}),define("ui/Header",["jquery","utils/globalElements","managers/eventManager","services/scroller","services/layout","utils/statesUtil"],function(e,t,n,r,i,s){"use strict";var o=function(s){var u,a,f,l,c,h,p;u=this,a=e.extend({$e:null,selector:""},s),f=o.markup,l={name:"Header",$e:a.$e||e(a.selector),compressThreshold:null,isCompressed:null},c={win:t.win},h={init:function(){l.isCompressed=l.$e.hasClass(f.COMPRESSED),h.updateFromDimensions(i.getInfo()),l.$e.on("click",".global-header-nav a[data-target]",p.targetNavLinkClick),r.onScroll(p.scroll),i.onResize(p.resize)},destroy:function(){l.$e.off("click",".global-header-nav a[data-target]",p.targetNavLinkClick),r.offScroll(p.scroll),i.offResize(p.resize)},updateFromDimensions:function(e){l.compressThreshold=e.height/3,h.updatePositionState(r.getScrollTop())},updatePositionState:function(e){l.isCompressed?e<l.compressThreshold&&(l.$e.removeClass(f.COMPRESSED),l.isCompressed=!1):e>=l.compressThreshold&&(l.$e.addClass(f.COMPRESSED),l.isCompressed=!0)},isCompressed:function(){return l.isCompressed}},p={targetNavLinkClick:function(t){var r,i;t.preventDefault(),r=e(this).data("target"),i={target:r},n.emit(o.eventTypes.TARGET_NAV_ITEM_CLICK,i)},scroll:function(e){h.updatePositionState(e.scrollTop)},resize:function(e){h.updateFromDimensions(e)}},u.isCompressed=h.isCompressed,u.destroy=h.destroy,h.init()};return o.eventTypes={TARGET_NAV_ITEM_CLICK:"headerTargetNavItemClick"},o.markup={COMPRESSED:"state-compressed"},s.extend(o.markup),o}),define("utils/keycodes",{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}),define("ui/Drawer",["jquery","utils/globalElements","managers/eventManager","ui/Header","utils/keycodes","utils/statesUtil"],function(e,t,n,r,i,s){"use strict";var o=function(s){var u,a,f,l,c,h,p;u=this,a=e.extend({$e:null,selector:""},s),f=o.markup,l={name:"Drawer",$e:a.$e||e(a.selector),currentPane:null},c={body:t.body,panes:e(".global-drawer-pane",l.$e)},h={init:function(){n.addListener(r.eventTypes.TARGET_NAV_ITEM_CLICK,p.headerTargetNavItemClick),l.$e.on("keydown",p.keydown)},destroy:function(){n.removeListener(r.eventTypes.TARGET_NAV_ITEM_CLICK,p.headerTargetNavItemClick),l.$e.off("keydown",p.keydown)},activatePane:function(e){var t;l.currentPane&&(c.body.removeClass(f.GLOBAL_DRAWER_PANE_PREFIX+l.currentPane),c.panes.removeClass(f.CURRENT)),e?(t=c.panes.filter('[data-pane="'+e+'"]'),t.addClass(f.CURRENT),l.currentPane=e,c.body.addClass(f.GLOBAL_DRAWER_PANE_PREFIX+e),h.setPaneFocus(t)):l.currentPane=null},setPaneFocus:function(e){var t=e.find("input:visible:first");t.length>0?t.focus():l.$e.focus()},open:function(e){h.activatePane(e),c.body.addClass(f.GLOBAL_DRAWER_OPEN)},close:function(){c.body.removeClass(f.GLOBAL_DRAWER_OPEN),h.activatePane(null)},isOpen:function(){return c.body.hasClass(f.GLOBAL_DRAWER_OPEN)}},p={headerTargetNavItemClick:function(e){var t,n;t=e.target,n=l.currentPane,h.isOpen()?n&&n===t?h.close():h.open(t):h.open(t)},keydown:function(e){e.which===i.ESCAPE&&h.isOpen()&&h.close()}},u.destroy=h.destroy,h.init()};return o.markup={GLOBAL_DRAWER_OPEN:"state-drawer-open",GLOBAL_DRAWER_PANE_PREFIX:"state-drawer-pane-",CURRENT:"state-current"},s.extend(o.markup),o}),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("handlebars",[],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(){var e=g();return e.compile=function(t,n){return l.compile(t,n,e)},e.precompile=function(t,n){return l.precompile(t,n,e)},e.AST=a["default"],e.Compiler=l.Compiler,e.JavaScriptCompiler=h["default"],e.Parser=f.parser,e.parse=f.parse,e}var i=n(1)["default"];t.__esModule=!0;var s=n(2),o=i(s),u=n(35),a=i(u),f=n(36),l=n(41),c=n(42),h=i(c),p=n(39),d=i(p),v=n(34),m=i(v),g=o["default"].create,y=r();y.create=r,m["default"](y),y.Visitor=d["default"],y["default"]=y,t["default"]=y,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t,n){"use strict";function r(){var e=new u.HandlebarsEnvironment;return p.extend(e,u),e.SafeString=f["default"],e.Exception=c["default"],e.Utils=p,e.escapeExpression=p.escapeExpression,e.VM=v,e.template=function(t){return v.template(t,e)},e}var i=n(3)["default"],s=n(1)["default"];t.__esModule=!0;var o=n(4),u=i(o),a=n(21),f=s(a),l=n(6),c=s(l),h=n(5),p=i(h),d=n(22),v=i(d),m=n(34),g=s(m),y=r();y.create=r,g["default"](y),y["default"]=y,t["default"]=y,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},t.__esModule=!0},function(e,t,n){"use strict";function r(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},a.registerDefaultHelpers(this),f.registerDefaultDecorators(this)}var i=n(1)["default"];t.__esModule=!0,t.HandlebarsEnvironment=r;var s=n(5),o=n(6),u=i(o),a=n(10),f=n(18),l=n(20),c=i(l),h="4.0.11";t.VERSION=h;var p=7;t.COMPILER_REVISION=p;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=d;var v="[object Object]";r.prototype={constructor:r,logger:c["default"],log:c["default"].log,registerHelper:function(e,t){if(s.toString.call(e)===v){if(t)throw new u["default"]("Arg not supported with multiple helpers");s.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(s.toString.call(e)===v)s.extend(this.partials,e);else{if("undefined"==typeof t)throw new u["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(s.toString.call(e)===v){if(t)throw new u["default"]("Arg not supported with multiple decorators");s.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var m=c["default"].log;t.log=m,t.createFrame=s.createFrame,t.logger=c["default"]},function(e,t){"use strict";function n(e){return l[e]}function r(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function i(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function s(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return h.test(e)?e.replace(c,n):e}function o(e){return!e&&0!==e||!!v(e)&&0===e.length}function u(e){var t=r({},e);return t._parent=e,t}function a(e,t){return e.path=t,e}function f(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=r,t.indexOf=i,t.escapeExpression=s,t.isEmpty=o,t.createFrame=u,t.blockParams=a,t.appendContextPath=f;var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},c=/[&<>"'`=]/g,h=/[&<>"'`=]/,p=Object.prototype.toString;t.toString=p;var d=function(e){return"function"==typeof e};d(/x/)&&(t.isFunction=d=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)}),t.isFunction=d;var v=Array.isArray||function(e){return!!e&&"object"==typeof e&&"[object Array]"===p.call(e)};t.isArray=v},function(e,t,n){"use strict";function r(e,t){var n=t&&t.loc,o=void 0,u=void 0;n&&(o=n.start.line,u=n.start.column,e+=" - "+o+":"+u);for(var a=Error.prototype.constructor.call(this,e),l=0;l<s.length;l++)this[s[l]]=a[s[l]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{n&&(this.lineNumber=o,i?Object.defineProperty(this,"column",{value:u,enumerable:!0}):this.column=u)}catch(c){}}var i=n(7)["default"];t.__esModule=!0;var s=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=new Error,t["default"]=r,e.exports=t["default"]},function(e,t,n){e.exports={"default":n(8),__esModule:!0}},function(e,t,n){var r=n(9);e.exports=function(e,t,n){return r.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";function r(e){o["default"](e),a["default"](e),l["default"](e),h["default"](e),d["default"](e),m["default"](e),y["default"](e)}var i=n(1)["default"];t.__esModule=!0,t.registerDefaultHelpers=r;var s=n(11),o=i(s),u=n(12),a=i(u),f=n(13),l=i(f),c=n(14),h=i(c),p=n(15),d=i(p),v=n(16),m=i(v),g=n(17),y=i(g)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,s=n.fn;if(t===!0)return s(this);if(t===!1||null==t)return i(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var o=r.createFrame(n.data);o.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:o}}return s(t,n)})},e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=!0;var i=n(5),s=n(6),o=r(s);t["default"]=function(e){e.registerHelper("each",function(e,t){function n(t,n,s){f&&(f.key=t,f.index=n,f.first=0===n,f.last=!!s,l&&(f.contextPath=l+t)),a+=r(e[t],{data:f,blockParams:i.blockParams([e[t],t],[l+t,null])})}if(!t)throw new o["default"]("Must pass iterator to #each");var r=t.fn,s=t.inverse,u=0,a="",f=void 0,l=void 0;if(t.data&&t.ids&&(l=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),i.isFunction(e)&&(e=e.call(this)),t.data&&(f=i.createFrame(t.data)),e&&"object"==typeof e)if(i.isArray(e))for(var c=e.length;u<c;u++)u in e&&n(u,u,u===e.length-1);else{var h=void 0;for(var p in e)e.hasOwnProperty(p)&&(void 0!==h&&n(h,u-1),h=p,u++);void 0!==h&&n(h,u-1,!0)}return 0===u&&(a=s(this)),a})},e.exports=t["default"]},function(e,t,n){"use strict";var r=n(1)["default"];t.__esModule=!0;var i=n(6),s=r(i);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new s["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);t["default"]=function(e){e.registerHelper("if",function(e,t){return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),t[0]=i,e.log.apply(e,t)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);t["default"]=function(e){e.registerHelper("with",function(e,t){r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&(i=r.createFrame(t.data),i.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:r.blockParams([e],[i&&i.contextPath])})})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){o["default"](e)}var i=n(1)["default"];t.__esModule=!0,t.registerDefaultDecorators=r;var s=n(19),o=i(s)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);t["default"]=function(e){e.registerDecorator("inline",function(e,t,n,i){var s=e;return t.partials||(t.partials={},s=function(i,s){var o=n.partials;n.partials=r.extend({},o,t.partials);var u=e(i,s);return n.partials=o,u}),t.partials[i.args[0]]=i.fn,s})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(i.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=i.lookupLevel(e),"undefined"!=typeof console&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];console[t].apply(console,r)}}};t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){var t=e&&e[0]||1,n=y.COMPILER_REVISION;if(t!==n){if(t<n){var r=y.REVISION_CHANGES[n],i=y.REVISION_CHANGES[t];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function i(e,t){function n(n,r,i){i.hash&&(r=v.extend({},r,i.hash),i.ids&&(i.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,i);var s=t.VM.invokePartial.call(this,n,r,i);if(null==s&&t.compile&&(i.partials[i.name]=t.compile(n,e.compilerOptions,t),s=i.partials[i.name](r,i)),null!=s){if(i.indent){for(var o=s.split("\n"),u=0,a=o.length;u<a&&(o[u]||u+1!==a);u++)o[u]=i.indent+o[u];s=o.join("\n")}return s}throw new g["default"]("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function r(t){function n(t){return""+e.main(i,t,i.helpers,i.partials,o,a,u)}var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=s.data;r._setup(s),!s.partial&&e.useData&&(o=f(t,o));var u=void 0,a=e.useBlockParams?[]:void 0;return e.useDepths&&(u=s.depths?t!=s.depths[0]?[t].concat(s.depths):s.depths:[t]),(n=l(e.main,n,i,s.depths||[],o,a))(t,s)}if(!t)throw new g["default"]("No environment passed to template");if(!e||!e.main)throw new g["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var i={strict:function(e,t){if(t in e)return e[t];throw new g["default"]('"'+t+'" not defined in '+e)},lookup:function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:v.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,i){var o=this.programs[e],u=this.fn(e);return t||i||r||n?o=s(this,e,u,t,n,r,i):o||(o=this.programs[e]=s(this,e,u)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=v.extend({},t,e)),n},nullContext:c({}),noop:t.VM.noop,compilerInfo:e.compiler};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials,i.decorators=n.decorators):(i.helpers=i.merge(n.helpers,t.helpers),e.usePartial&&(i.partials=i.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(i.decorators=i.merge(n.decorators,t.decorators)))},r._child=function(t,n,r,o){if(e.useBlockParams&&!r)throw new g["default"]("must pass block params");if(e.useDepths&&!o)throw new g["default"]("must pass parent depths");return s(i,t,e[t],n,0,r,o)},r}function s(e,t,n,r,i,s,o){function u(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],u=o;return!o||t==o[0]||t===e.nullContext&&null===o[0]||(u=[t].concat(o)),n(e,t,e.helpers,e.partials,i.data||r,s&&[i.blockParams].concat(s),u)}return u=l(n,u,e,o,r,s),u.program=t,u.depth=o?o.length:0,u.blockParams=i||0,u}function o(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function u(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==a&&!function(){n.data=y.createFrame(n.data);var e=n.fn;i=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=y.createFrame(n.data),n.data["partial-block"]=r,e(t,n)},e.partials&&(n.partials=v.extend({},n.partials,e.partials))}(),void 0===e&&i&&(e=i),void 0===e)throw new g["default"]("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function a(){return""}function f(e,t){return t&&"root"in t||(t=t?y.createFrame(t):{},t.root=e),t}function l(e,t,n,r,i,s){if(e.decorator){var o={};t=e.decorator(t,o,n,r&&r[0],i,s,r),v.extend(t,o)}return t}var c=n(23)["default"],h=n(3)["default"],p=n(1)["default"];t.__esModule=!0,t.checkRevision=r,t.template=i,t.wrapProgram=s,t.resolvePartial=o,t.invokePartial=u,t.noop=a;var d=n(5),v=h(d),m=n(6),g=p(m),y=n(4)},function(e,t,n){e.exports={"default":n(24),__esModule:!0}},function(e,t,n){n(25),e.exports=n(30).Object.seal},function(e,t,n){var r=n(26);n(27)("seal",function(e){return function(t){return e&&r(t)?e(t):t}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(28),i=n(30),s=n(33);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*s(function(){n(1)}),"Object",o)}},function(e,t,n){var r=n(29),i=n(30),s=n(31),o="prototype",u=function(e,t,n){var a,l,c,p=e&u.F,v=e&u.G,m=e&u.S,y=e&u.P,b=e&u.B,w=e&u.W,E=v?i:i[t]||(i[t]={}),S=v?r:m?r[t]:(r[t]||{})[o];v&&(n=t);for(a in n)l=!p&&S&&a in S,l&&a in E||(c=l?S[a]:n[a],E[a]=v&&"function"!=typeof S[a]?n[a]:b&&l?s(c,r):w&&S[a]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[o]=e[o],t}(c):y&&"function"==typeof c?s(Function.call,c):c,y&&((E[o]||(E[o]={}))[a]=c))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,e.exports=u},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(32);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){(function(n){"use strict";t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof n?n:window,r=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=r),e}},e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if("Program"===e.type)return e;u["default"].yy=p,p.locInfo=function(e){return new p.SourceLocation(t&&t.srcName,e)};var n=new f["default"](t);return n.accept(u["default"].parse(e))}var i=n(1)["default"],s=n(3)["default"];t.__esModule=!0,t.parse=r;var o=n(37),u=i(o),a=n(38),f=i(a),l=n(40),c=s(l),h=n(5);t.parser=u["default"];var p={};h.extend(p,c)},function(e,t){"use strict";t.__esModule=!0;var n=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,r,i,s,o){var u=s.length-1;switch(i){case 1:return s[u-1];case 2:this.$=r.prepareProgram(s[u]);break;case 3:this.$=s[u];break;case 4:this.$=s[u];break;case 5:this.$=s[u];break;case 6:this.$=s[u];break;case 7:this.$=s[u];break;case 8:this.$=s[u];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(s[u]),strip:r.stripFlags(s[u],s[u]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:s[u],value:s[u],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(s[u-2],s[u-1],s[u],this._$);break;case 12:this.$={path:s[u-3],params:s[u-2],hash:s[u-1]};break;case 13:this.$=r.prepareBlock(s[u-3],s[u-2],s[u-1],s[u],!1,this._$);break;case 14:this.$=r.prepareBlock(s[u-3],s[u-2],s[u-1],s[u],!0,this._$);break;case 15:this.$={open:s[u-5],path:s[u-4],params:s[u-3],hash:s[u-2],blockParams:s[u-1],strip:r.stripFlags(s[u-5],s[u])};break;case 16:this.$={path:s[u-4],params:s[u-3],hash:s[u-2],blockParams:s[u-1],strip:r.stripFlags(s[u-5],s[u])};break;case 17:this.$={path:s[u-4],params:s[u-3],hash:s[u-2],blockParams:s[u-1],strip:r.stripFlags(s[u-5],s[u])};break;case 18:this.$={strip:r.stripFlags(s[u-1],s[u-1]),program:s[u]};break;case 19:var a=r.prepareBlock(s[u-2],s[u-1],s[u],s[u],!1,this._$),f=r.prepareProgram([a],s[u-1].loc);f.chained=!0,this.$={strip:s[u-2].strip,program:f,chain:!0};break;case 20:this.$=s[u];break;case 21:this.$={path:s[u-1],strip:r.stripFlags(s[u-2],s[u])};break;case 22:this.$=r.prepareMustache(s[u-3],s[u-2],s[u-1],s[u-4],r.stripFlags(s[u-4],s[u]),this._$);break;case 23:this.$=r.prepareMustache(s[u-3],s[u-2],s[u-1],s[u-4],r.stripFlags(s[u-4],s[u]),this._$);break;case 24:this.$={type:"PartialStatement",name:s[u-3],params:s[u-2],hash:s[u-1],indent:"",strip:r.stripFlags(s[u-4],s[u]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(s[u-2],s[u-1],s[u],this._$);break;case 26:this.$={path:s[u-3],params:s[u-2],hash:s[u-1],strip:r.stripFlags(s[u-4],s[u])};break;case 27:this.$=s[u];break;case 28:this.$=s[u];break;case 29:this.$={type:"SubExpression",path:s[u-3],params:s[u-2],hash:s[u-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:s[u],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(s[u-2]),value:s[u],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(s[u-1]);break;case 33:this.$=s[u];break;case 34:this.$=s[u];break;case 35:this.$={type:"StringLiteral",value:s[u],original:s[u],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(s[u]),original:Number(s[u]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===s[u],original:"true"===s[u],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:this.$=s[u];break;case 41:this.$=s[u];break;case 42:this.$=r.preparePath(!0,s[u],this._$);break;case 43:this.$=r.preparePath(!1,s[u],this._$);break;case 44:s[u-2].push({part:r.id(s[u]),original:s[u],separator:s[u-1]}),this.$=s[u-2];break;case 45:this.$=[{part:r.id(s[u]),original:s[u]}];break;case 46:this.$=[];break;case 47:s[u-1].push(s[u]);break;case 48:this.$=[s[u]];break;case 49:s[u-1].push(s[u]);break;case 50:this.$=[];break;case 51:s[u-1].push(s[u]);break;case 58:this.$=[];break;case 59:s[u-1].push(s[u]);break;case 64:this.$=[];break;case 65:s[u-1].push(s[u]);break;case 70:this.$=[];break;case 71:s[u-1].push(s[u]);break;case 78:this.$=[];break;case 79:s[u-1].push(s[u]);break;case 82:this.$=[];break;case 83:s[u-1].push(s[u]);break;case 86:this.$=[];break;case 87:s[u-1].push(s[u]);break;case 90:this.$=[];break;case 91:s[u-1].push(s[u]);break;case 94:this.$=[];break;case 95:s[u-1].push(s[u]);break;case 98:this.$=[s[u]];break;case 99:s[u-1].push(s[u]);break;case 100:this.$=[s[u]];break;case 101:s[u-1].push(s[u])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,r=[0],i=[null],s=[],o=this.table,u="",a=0,f=0,l=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;s.push(c);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,d,v,m,g,y,b,w,E,S={};;){if(v=r[r.length-1],this.defaultActions[v]?m=this.defaultActions[v]:(null!==p&&"undefined"!=typeof p||(p=t()),m=o[v]&&o[v][p]),"undefined"==typeof m||!m.length||!m[0]){var x="";if(!l){E=[];for(y in o[v])this.terminals_[y]&&y>2&&E.push("'"+this.terminals_[y]+"'");x=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:c,expected:E})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+p);switch(m[0]){case 1:r.push(p),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),r.push(m[1]),p=null,d?(p=d,d=null):(f=this.lexer.yyleng,u=this.lexer.yytext,a=this.lexer.yylineno,c=this.lexer.yylloc,l>0&&l--);break;case 2:if(b=this.productions_[m[1]][1],S.$=i[i.length-b],S._$={first_line:s[s.length-(b||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(b||1)].first_column,last_column:s[s.length-1].last_column},h&&(S._$.range=[s[s.length-(b||1)].range[0],s[s.length-1].range[1]]),g=this.performAction.call(S,u,f,a,this.yy,m[1],i,s),"undefined"!=typeof g)return g;b&&(r=r.slice(0,-1*b*2),i=i.slice(0,-1*b),s=s.slice(0,-1*b)),r.push(this.productions_[m[1]][0]),i.push(S.$),s.push(S._$),w=o[r[r.length-2]][r[r.length-1]],r.push(w);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=(new Array(e.length+1)).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r,i;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length&&(n=this._input.match(this.rules[s[o]]),!n||t&&!(n[0].length>t[0].length)||(t=n,r=o,this.options.flex));o++);return t?(i=t[0].match(/(?:\r\n?|\n).*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,r){function i(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(i(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(i(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(t.yytext=t.yytext.substr(5,t.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=i(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=i(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function i(e,t,n){void 0===t&&(t=e.length);var r=e[t-1],i=e[t-2];return r?"ContentStatement"===r.type?(i||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:n}function s(e,t,n){void 0===t&&(t=-1);var r=e[t+1],i=e[t+2];return r?"ContentStatement"===r.type?(i||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:n}function o(e,t,n){var r=e[null==t?0:t+1];if(r&&"ContentStatement"===r.type&&(n||!r.rightStripped)){var i=r.value;r.value=r.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.value!==i}}function u(e,t,n){var r=e[null==t?e.length-1:t-1];if(r&&"ContentStatement"===r.type&&(n||!r.leftStripped)){var i=r.value;return r.value=r.value.replace(n?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.value!==i,r.leftStripped}}var a=n(1)["default"];t.__esModule=!0;var f=n(39),l=a(f);r.prototype=new l["default"],r.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var r=e.body,a=0,f=r.length;a<f;a++){var l=r[a],c=this.accept(l);if(c){var p=i(r,a,n),d=s(r,a,n),v=c.openStandalone&&p,m=c.closeStandalone&&d,y=c.inlineStandalone&&p&&d;c.close&&o(r,a,!0),c.open&&u(r,a,!0),t&&y&&(o(r,a),u(r,a)&&"PartialStatement"===l.type&&(l.indent=/([ \t]+$)/.exec(r[a-1].original)[1])),t&&v&&(o((l.program||l.inverse).body),u(r,a)),t&&m&&(o(r,a),u((l.inverse||l.program).body))}}return e},r.prototype.BlockStatement=r.prototype.DecoratorBlock=r.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,r=n,a=n;if(n&&n.chained)for(r=n.body[0].program;a.chained;)a=a.body[a.body.length-1].program;var f={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:s(t.body),closeStandalone:i((r||t).body)};if(e.openStrip.close&&o(t.body,null,!0),n){var l=e.inverseStrip;l.open&&u(t.body,null,!0),l.close&&o(r.body,null,!0),e.closeStrip.open&&u(a.body,null,!0),!this.options.ignoreStandalone&&i(t.body)&&s(r.body)&&(u(t.body),o(r.body))}else e.closeStrip.open&&u(t.body,null,!0);return f},r.prototype.Decorator=r.prototype.MustacheStatement=function(e){return e.strip},r.prototype.PartialStatement=r.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";function r(){this.parents=[]}function i(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function s(e){i.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function o(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var u=n(1)["default"];t.__esModule=!0;var a=n(6),f=u(a);r.prototype={constructor:r,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!r.prototype[n.type])throw new f["default"]('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new f["default"](e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new f["default"]("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:t!==!1?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:i,Decorator:i,BlockStatement:s,DecoratorBlock:s,PartialStatement:o,PartialBlockStatement:function(e){o.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:i,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new m["default"](e.path.original+" doesn't match "+t,n)}}function i(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function s(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e}function o(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function u(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function a(e,t,n){n=this.locInfo(n);for(var r=e?"@":"",i=[],s=0,o="",u=0,a=t.length;u<a;u++){var f=t[u].part,l=t[u].original!==f;if(r+=(t[u].separator||"")+f,l||".."!==f&&"."!==f&&"this"!==f)i.push(f);else{if(i.length>0)throw new m["default"]("Invalid path: "+r,{loc:n});".."===f&&(s++,o+="../")}}return{type:"PathExpression",data:e,depth:s,parts:i,original:r,loc:n}}function f(e,t,n,r,i,s){var o=r.charAt(3)||r.charAt(2),u="{"!==o&&"&"!==o,a=/\*/.test(r);return{type:a?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:u,strip:i,loc:this.locInfo(s)}}function l(e,t,n,i){r(e,n),i=this.locInfo(i);var s={type:"Program",body:t,strip:{},loc:i};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:s,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}}function c(e,t,n,i,s,o){i&&i.path&&r(e,i);var u=/\*/.test(e.open);t.blockParams=e.blockParams;var a=void 0,f=void 0;if(n){if(u)throw new m["default"]("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=i.strip),f=n.strip,a=n.program}return s&&(s=a,a=t,t=s),{type:u?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:a,openStrip:e.strip,inverseStrip:f,closeStrip:i&&i.strip,loc:this.locInfo(o)}}function h(e,t){if(!t&&e.length){var n=e[0].loc,r=e[e.length-1].loc;n&&r&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function p(e,t,n,i){return r(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(i)}}var d=n(1)["default"];t.__esModule=!0,t.SourceLocation=i,t.id=s,t.stripFlags=o,t.stripComment=u,t.preparePath=a,t.prepareMustache=f,t.prepareRawBlock=l,t.prepareBlock=c,t.prepareProgram=h,t.preparePartialBlock=p;var v=n(6),m=d(v)},function(e,t,n){"use strict";function r(){}function i(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new l["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var r=n.parse(e,t),i=(new n.Compiler).compile(r,t);return(new n.JavaScriptCompiler).compile(i,t)}function s(e,t,n){function r(){var r=n.parse(e,t),i=(new n.Compiler).compile(r,t),s=(new n.JavaScriptCompiler).compile(i,t,void 0,!0);return n.template(s)}function i(e,t){return s||(s=r()),s.call(this,e,t)}if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new l["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=c.extend({},t),"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var s=void 0;return i._setup=function(e){return s||(s=r()),s._setup(e)},i._child=function(e,t,n,i){return s||(s=r()),s._child(e,t,n,i)},i}function o(e,t){if(e===t)return!0;if(c.isArray(e)&&c.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!o(e[n],t[n]))return!1;return!0}}function u(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var a=n(1)["default"];t.__esModule=!0,t.Compiler=r,t.precompile=i,t.compile=s;var f=n(6),l=a(f),c=n(5),h=n(35),p=a(h),d=[].slice;r.prototype={compiler:r,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var r=this.opcodes[n],i=e.opcodes[n];if(r.opcode!==i.opcode||!o(r.args,i.args))return!1}t=this.children.length;for(var n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var n=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},n)for(var r in n)r in n&&(this.options.knownHelpers[r]=n[r]);return this.accept(e)},compileProgram:function(e){var t=new this.compiler,n=t.compile(e,this.options),r=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[r]=n,this.useDepths=this.useDepths||n.useDepths,r},accept:function(e){if(!this[e.type])throw new l["default"]("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,r=0;r<n;r++)this.accept(t[r]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){u(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var r=this.classifySexpr(e);"helper"===r?this.helperSexpr(e,t,n):"simple"===r?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),r=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,r.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new l["default"]("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var r=e.name.original,i="SubExpression"===e.name.type;i&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var s=e.indent||"";this.options.preventIndent&&s&&(this.opcode("appendContent",s),s=""),this.opcode("invokePartial",i,r,s),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){u(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var r=e.path,i=r.parts[0],s=null!=t||null!=n;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),r.strict=!0,this.accept(r),this.opcode("invokeAmbiguous",i,s)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var r=this.setupFullMustacheParams(e,t,n),i=e.path,s=i.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",r.length,s);else{if(this.options.knownHelpersOnly)throw new l["default"]("You specified knownHelpersOnly, but used the unknown helper "+s,e);i.strict=!0,i.falsy=!0,this.accept(i),this.opcode("invokeHelper",r.length,i.original,p["default"].helpers.simpleId(i))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=p["default"].helpers.scopedId(e),r=!e.depth&&!n&&this.blockParamIndex(t);r?this.opcode("lookupBlockParam",r,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,r=t.length;for(this.opcode("pushHash");n<r;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:d.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=p["default"].helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),r=!n&&p["default"].helpers.helperExpression(e),i=!n&&(r||t);if(i&&!r){var s=e.path.parts[0],o=this.options;o.knownHelpers[s]?r=!0:o.knownHelpersOnly&&(i=!1)}return r?"helper":i?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||p["default"].helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var r=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,r)}else t=e.original||t,t.replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,r){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",r),i},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var r=this.options.blockParams[t],i=r&&c.indexOf(r,e);if(r&&i>=0)return[t,i]}}}},function(e,t,n){"use strict";function r(e){this.value=e}function i(){}function s(e,t,n,r){var i=t.popStack(),s=0,o=n.length;for(e&&o--;s<o;s++)i=t.nameLookup(i,n[s],r);return e?[t.aliasable("container.strict"),"(",i,", ",t.quotedString(n[s]),")"]:i}var o=n(1)["default"];t.__esModule=!0;var u=n(4),a=n(6),f=o(a),l=n(5),c=n(43),h=o(c);i.prototype={nameLookup:function(e,t){return i.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=u.COMPILER_REVISION,t=u.REVISION_CHANGES[e];return[e,t]},appendToBuffer:function(e,t,n){return l.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(e,t,n,r){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var i=e.opcodes,s=void 0,o=void 0,u=void 0,a=void 0;for(u=0,a=i.length;u<a;u++)s=i[u],this.source.currentLocation=s.loc,o=o||s.loc,this[s.opcode].apply(this,s.args);if(this.source.currentLocation=o,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new f["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),r?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var l=this.createFunctionContext(r);if(this.isChild)return l;var c={compiler:this.compilerInfo(),main:l};this.decorators&&(c.main_d=this.decorators,c.useDecorators=!0);var h=this.context,p=h.programs,d=h.decorators;for(u=0,a=p.length;u<a;u++)p[u]&&(c[u]=p[u],d[u]&&(c[u+"_d"]=d[u],c.useDecorators=!0));return this.environment.usePartial&&(c.usePartial=!0),this.options.data&&(c.useData=!0),this.useDepths&&(c.useDepths=!0),this.useBlockParams&&(c.useBlockParams=!0),this.options.compat&&(c.compat=!0),r?c.compilerOptions=this.options:(c.compiler=JSON.stringify(c.compiler),this.source.currentLocation={start:{line:1,column:0}},c=this.objectLiteral(c),t.srcName?(c=c.toStringWithSourceMap({file:t.destName}),c.map=c.map&&c.map.toString()):c=c.toString()),c},preamble:function(){this.lastContext=0,this.source=new h["default"](this.options.srcName),this.decorators=new h["default"](this.options.srcName)},createFunctionContext:function(e){var t="",n=this.stackVars.concat(this.registers.list);n.length>0&&(t+=", "+n.join(", "));var r=0;for(var i in this.aliases){var s=this.aliases[i];this.aliases.hasOwnProperty(i)&&s.children&&s.referenceCount>1&&(t+=", alias"+ ++r+"="+i,s.children[0]="alias"+r)}var o=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&o.push("blockParams"),this.useDepths&&o.push("depths");var u=this.mergeSource(t);return e?(o.push(u),Function.apply(this,o)):this.source.wrap(["function(",o.join(","),") {\n  ",u,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,r=void 0,i=void 0,s=void 0,o=void 0;return this.source.each(function(e){e.appendToBuffer?(s?e.prepend("  + "):s=e,o=e):(s&&(i?s.prepend("buffer += "):r=!0,o.add(";"),s=o=void 0),i=!0,t||(n=!1))}),n?s?(s.prepend("return "),o.add(";")):i||this.source.push('return "";'):(e+=", buffer = "+(r?"":this.initializeBuffer()),s?(s.prepend("return buffer + "),o.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(r?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var r=this.popStack();n.splice(1,0,r),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,r){var i=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[i++])),this.resolvePath("context",e,i,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,r,i){var o=this;if(this.options.strict||this.options.assumeObjects)return void this.push(s(this.options.strict&&i,this,t,e));for(var u=t.length;n<u;n++)this.replaceStack(function(i){var s=o.nameLookup(i,t[n],e);return r?[" && ",s]:[" != null ? ",s," : ",i]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),r=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",r])," || fn;"])},invokeHelper:function(e,t,n){var r=this.popStack(),i=this.setupHelper(e,t),s=n?[i.name," || "]:"",o=["("].concat(s,r);this.options.strict||o.push(" || ",this.aliasable("helpers.helperMissing")),o.push(")"),this.push(this.source.functionCall(o,"call",i.callParams))},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var r=this.setupHelper(0,e,t),i=this.lastHelper=this.nameLookup("helpers",e,"helper"),s=["(","(helper = ",i," || ",n,")"];this.options.strict||(s[0]="(helper = ",s.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",s,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function(e,t,n){var r=[],i=this.setupParams(t,1,r);e&&(t=this.popStack(),delete i.name),n&&(i.indent=JSON.stringify(n)),i.helpers="helpers",i.partials="partials",i.decorators="container.decorators",e?r.unshift(t):r.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(i.depths="depths"),i=this.objectLiteral(i),r.push(i),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function(e){var t=this.popStack(),n=void 0,r=void 0,i=void 0;this.trackIds&&(i=this.popStack()),this.stringParams&&(r=this.popStack(),n=this.popStack());var s=this.hash;n&&(s.contexts[e]=n),r&&(s.types[e]=r),i&&(s.ids[e]=i),s.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:i,compileChildren:function(e,t){for(var n=e.children,r=void 0,i=void 0,s=0,o=n.length;s<o;s++){r=n[s],i=new this.compiler;var u=this.matchExistingProgram(r);if(null==u){this.context.programs.push("");var a=this.context.programs.length;r.index=a,r.name="program"+a,this.context.programs[a]=i.compile(r,t,this.context,!this.precompile),this.context.decorators[a]=i.decorators,this.context.environments[a]=r,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams,r.useDepths=this.useDepths,r.useBlockParams=this.useBlockParams}else r.index=u.index,r.name="program"+u.index,this.useDepths=this.useDepths||u.useDepths,this.useBlockParams=this.useBlockParams||u.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var r=this.context.environments[t];if(r&&r.equals(e))return r}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof r||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new r(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,i=void 0,s=void 0;if(!this.isInline())throw new f["default"]("replaceStack on non-inline");var o=this.popStack(!0);if(o instanceof r)n=[o.value],t=["(",n],s=!0;else{i=!0;var u=this.incrStack();t=["((",this.push(u)," = ",o,")"],n=this.topStack()}var a=e.call(this,n);s||this.popStack(),i&&this.stackSlot--,this.push(t.concat(a,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i instanceof r)this.compileStack.push(i);else{var s=this.incrStack();this.pushSource([s," = ",i,";"]),this.compileStack.push(s)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof r)return n.value;if(!t){if(!this.stackSlot)throw new f["default"]("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof r?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):(t=this.aliases[e]=this.source.wrap(e),t.aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var r=[],i=this.setupHelperArgs(t,e,r,n),s=this.nameLookup("helpers",t,"helper"),o=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:r,paramsInit:i,name:s,callParams:[o].concat(r)}},setupParams:function(e,t,n){var r={},i=[],s=[],o=[],u=!n,a=void 0;u&&(n=[]),r.name=this.quotedString(e),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var f=this.popStack(),l=this.popStack();(l||f)&&(r.fn=l||"container.noop",r.inverse=f||"container.noop");for(var c=t;c--;)a=this.popStack(),n[c]=a,this.trackIds&&(o[c]=this.popStack()),this.stringParams&&(s[c]=this.popStack(),i[c]=this.popStack());return u&&(r.args=this.source.generateArray(n)),this.trackIds&&(r.ids=this.source.generateArray(o)),this.stringParams&&(r.types=this.source.generateArray(s),r.contexts=this.source.generateArray(i)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(e,t,n,r){var i=this.setupParams(e,t,n);return i=this.objectLiteral(i),r?(this.useRegister("options"),n.push("options"),["options=",i]):n?(n.push(i),""):i}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=i.RESERVED_WORDS={},n=0,r=e.length;n<r;n++)t[e[n]]=!0}(),i.isValidJavaScriptVariableName=function(e){return!i.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t,n){if(s.isArray(e)){for(var r=[],i=0,o=e.length;i<o;i++)r.push(t.wrap(e[i],n));return r}return"boolean"==typeof e||"number"==typeof e?e+"":e}function i(e){this.srcFile=e,this.source=[]}t.__esModule=!0;var s=n(5),o=void 0;try{}catch(u){}o||(o=function(e,t,n,r){this.src="",r&&this.add(r)},o.prototype={add:function(e){s.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){s.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),i.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new o(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof o?e:(e=r(e,this,t),new o(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=r(e[n],this);"undefined"!==i&&t.push([this.quotedString(n),":",i])}var s=this.generateList(t);return s.prepend("{"),s.add("}"),s},generateList:function(e){for(var t=this.empty(),n=0,i=e.length;n<i;n++)n&&t.add(","),t.add(r(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t["default"]=i,e.exports=t["default"]}])}),define("utils/stringUtil",[],function(){"use strict";var e={};return e.camelCaseify=function(t){var n=t.split("-"),r=n.shift();return n=n.map(function(t){return e.capitalize(t)}),r+n.join("")},e.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.decapitalize=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},e.slugify=function(e){return $.trim(e.replace(/\W/g," ")).replace(/\s\s+/g," ").replace(/\s/g,"-").toLowerCase()},e}),define("factories/moduleFactory",["jquery","handlebars","utils/stringUtil","utils/statesUtil"],function(e,t,n,r){"use strict";var i=function(i){var s,o,u,a;return s={setup:function(){var e;return s.buildModule(),e=function(){i.internal.explicitInit||s.init()},typeof i.fn.afterSetup=="function"?i.fn.afterSetup(e):e(),o},init:function(){if(i.internal.$e.data(i.internal.name+"Inited"))return;typeof i.fn.beforeInit=="function"&&i.fn.beforeInit(),s.bindEvents(),s.applyInitedState(),i.fn.init(),typeof i.fn.afterInit=="function"&&i.fn.afterInit(),i.internal.$e.trigger("initComplete")},isInited:function(){return i.internal.$e.hasClass(u.INITED)&&!!i.internal.$e.data(i.internal.name+"Inited")},buildModule:function(){var e;s.ensureRootEl();if(!i.internal.$e.length)return;e=n.decapitalize(i.internal.name)+"Instance",s.extend({fn:a,m:u}),s.getComponents(),s.getTemplates(),s.getModuleVariants(),s.extendModuleWithApi(),i.internal.$e.addClass(u.SETUP),i.internal.$e.data(e,i.self)},ensureRootEl:function(){if(!i.internal.$e||!i.internal.$e.length)i.internal.$e=i.o.$e||e(i.o.selector)},extend:function(t){return e.each(t,function(t,n){var r={};i[t]?(e.extend(!0,r,n,i[t]),e.extend(!0,i[t],r)):i[t]=n}),o},getComponents:function(){if(!i||!i.internal.components)return;e.each(i.internal.components,function(t,n){var r;r=s.getDomEl(n),r.length&&(i.elements[t]=r,n.constructor&&r.each(function(t,r){var i,s;i=e(r),i.hasClass(u.INITED)||(s=e.extend({$e:i},n.moduleOptions),new n.constructor(s))}))})},getTemplates:function(){if(!i.internal.templates)return;e.each(i.internal.templates,function(n,r){var o,u;o=s.getDomEl(r),o.first().data("type")==="handlebars"?u=t.compile(o.first().html()):(u=e(),o.each(function(t,n){u=u.add(e(n).html())}));if(typeof u=="function"||u.length)i.templates[n]=u})},getDomEl:function(t,n){var r,o,u,a,f,l;return n=n||{},r="find",o=t.selector,l=i.internal.$componentsRoot||i.internal.$e,o.indexOf("!")===0?(o=o.replace("!",""),f=e(o)):(o.indexOf("^")===0&&(o=o.replace("^",""),r="closest",u=o.split(" "),o=u[0],a=u.slice(1)),f=l[r](o),a&&a.length&&(f=f.find(a.join(" ")))),t.ignoreNested&&(f=s.removeNestedComponents(f,o)),t.directChildrenOnly&&(f=s.reduceToDirectChildren(f,i.o.selector)),f},removeNestedComponents:function(t,n){var r,i;return r=[],i=[],t.each(function(t,s){r.indexOf(s)<0&&(i.push(s),e(s).find(n).each(function(e,t){var n=i.indexOf(t);n>-1?i.splice(n,e):r.push(t)}),e.each(i,function(e,t){r.indexOf(t)>-1&&i.splice(e,1)}))}),e(i)},reduceToDirectChildren:function(t,n){var r;return r=[],t.each(function(t,s){var o;o=e(s).closest(n),o[0]===i.internal.$e[0]&&r.push(s)}),e(r)},getModuleVariants:function(){var e,t;if(!i.internal.$e.length)return;e=i.internal.$e[0].className,t=e.match(/variant-([^\s]+)/g),i.internal.isVariant=i.internal.isVariant||{},t&&t.forEach(function(e){e=e.replace(/variant-/,""),e=n.camelCaseify(e),i.internal.isVariant[e]=!0})},bindEvents:function(){i.internal.events&&e.each(i.internal.events,function(e,t){s.bindEvent(e,t)}),i.internal.$e.on("modremove."+i.internal.name,function(e,t){t===i.internal.$e[0]&&(s.destroy(),s.removeEl())})},bindEvent:function(t,n){var r,s,o,u,a,f,l;r=t.split(" "),s=r.shift(),o=r.slice(0),a=i.handlers[n],f=i.internal.$componentsRoot||i.internal.$e;if(o.length)if(o[0].indexOf("@")===0){u=o[0].replace("@","");if(!i.internal.components[u])return;o[0]=i.internal.components[u].selector}else o[0].indexOf("!")===0&&(l=o.shift().replace("!",""),l==="window"?f=e(window):f=i.elements[l]);if(!f)return;s.indexOf(".")<0&&(s=s+"."+i.internal.name);if(!e.isFunction(a))throw"[moduleFactory] : Event handler is with name "+n+" undefined. Module:"+i.internal.name;o.length?(f.off(s,o.join(" "),a),f.on(s,o.join(" "),a)):(f.off(s,a),f.on(s,a))},unbindEvents:function(){if(!i.internal.events)return;e.each(i.internal.events,function(t,n){var r,s,o,u,a,f,l;r=t.split(" "),s=r.shift(),o=r.slice(0),a=i.handlers[n],f=i.internal.$componentsRoot||i.internal.$e;if(o.length)if(o[0].indexOf("@")===0){u=o[0].replace("@","");if(!i.internal.components[u])return;o[0]=i.internal.components[u].selector}else o[0].indexOf("!")===0&&(l=o.shift().replace("!",""),l==="window"?f=e(window):f=i.elements[l]);if(!f)return;s.indexOf(".")<0&&(s=s+"."+i.internal.name);if(!e.isFunction(a))throw"[moduleFactory] : Event handler is with name "+n+" undefined. Module:"+i.internal.name;o.length?f.off(s,o.join(" "),a):f.off(s,a)}),i.internal.$e.off("modremove."+i.internal.name)},reBindEvents:function(){s.unbindEvents(),s.bindEvents()},extendModuleWithApi:function(){e.extend(i.self,a),i.self.init=s.init,i.self.destroy=s.destroy,i.self.removeEl=s.removeEl,i.self.removeChildren=s.removeChildren,i.api&&e.extend(i.self,i.api)},getEl:function(){return i?i.internal.$e:e()},destroy:function(e){var t,r;e=e||{},r=i.internal.$componentsRoot||i.internal.$e;if(!i||i.destroyed||i.removed)return;e.removeChildren&&s.removeChildren(),i.destroyed=!0,t=n.decapitalize(i.internal.name)+"Instance",typeof i.fn.beforeDestroy=="function"&&i.fn.beforeDestroy(),s.unbindEvents(),r.trigger("destroy",i),r.data(t,null),r.data(i.internal.name+"Inited",!1),typeof i.fn.destroy=="function"&&i.fn.destroy()},removeEl:function(){if(!i||i.removed||i.internal.$e[0].isRemoving)return;i.destroyed||s.destroy(),i.internal.$e[0].isRemoving=!0,i.removed=!0,s.removeChildren(),i.internal.$e.trigger("moderemove",i.internal.$e[0]),i.internal.$e.remove(),i=null},removeChildren:function(){var t;t=i.internal.$componentsRoot||i.internal.$e,t.find("."+u.INITED).each(function(t,n){var r=e(n);n.isRemoving||r.trigger("modremove",n),n.isRemoving=!0})},applyInitedState:function(){i.internal.$e.data(i.internal.name+"Inited",!0),i.internal.$e.addClass(u.INITED)}},u={},r.extend(u),a={getEl:s.getEl,getComponents:s.getComponents,isInited:s.isInited,reBindEvents:s.reBindEvents,destroy:s.destroy},o={create:s.setup,extend:s.extend},o};return i});var jss=function(){function e(e){for(var t=e.cssRules||e.rules||[],n={},r=0;r<t.length;r++){var i=s(t[r].selectorText);n[i]||(n[i]=[]),n[i].push({sheet:e,index:r,style:t[r].style})}return n}function t(e,t){var n=e.cssRules||e.rules||[],r=[];t=t.toLowerCase();for(var i=0;i<n.length;i++){var s=n[i].selectorText;!s||s!=t&&s!=c(t)&&s!=h(t)||r.push({sheet:e,index:i,style:n[i].style})}return r}function n(e,t){var n=e.cssRules||e.rules||[],s=n.length,o=i(e,t,n,s);return o||r(e,t,s),{sheet:e,index:s,style:n[s].style}}function r(e,t,n){e.insertRule?e.insertRule(t+" { }",n):e.addRule(t,null,n)}function i(e,t,n,i){var u,a;if(b.exec(t))u=t,a=o(t);else{if(!w.exec(t))return!1;u=s(t),a=t}return g||(r(e,u,i),n.length<=i&&(g=!0)),g&&r(e,a,i),!0}function s(e){return e.replace(w,function(e,t,n,r){return t+"::"+r})}function o(e){return e.replace(b,function(e,t,n){return":"+n})}function u(e){var t=e.sheet;t.deleteRule?t.deleteRule(e.index):t.removeRule&&t.removeRule(e.index)}function a(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function f(e){for(var t={},n=0;n<e.length;n++)a(t,l(e[n].style));return t}function l(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=e[d(e[n])];return t}function c(e){for(var t="",n=0;null!=(match=y.exec(e))&&""!==match[0];)t+=e.substring(n,match.index),t+=e.substr(match.index+match[1].length,match[2].length),t+=e.substr(match.index,match[1].length),n=match.index+match[0].length;return t+=e.substr(n)}function h(e){return b.exec(e)?o(e):e}function p(e,t){for(var n in t){var r=t[n],i=r.indexOf(" !important");e.style.removeProperty(n),i>0?e.style.setProperty(n,r.substr(0,i),"important"):e.style.setProperty(n,r)}}function d(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function v(e){var t={};for(var n in e)t[m(n)]=e[n];return t}function m(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}var g,y=/((?:\.|#)[^\.\s#]+)((?:\.|#)[^\.\s#]+)/g,b=/(::)(before|after|first-line|first-letter|selection)/,w=/([^:])(:)(before|after|first-line|first-letter|selection)/,E=function(e){this.doc=e,this.head=this.doc.head||this.doc.getElementsByTagName("head")[0],this.sheets=this.doc.styleSheets||[]};E.prototype={get:function(n){if(!this.defaultSheet)return{};if(n)return f(t(this.defaultSheet,n));var r=e(this.defaultSheet);for(n in r)r[n]=f(r[n]);return r},getAll:function(e){for(var n={},r=0;r<this.sheets.length;r++)a(n,f(t(this.sheets[r],e)));return n},set:function(e,r){this.defaultSheet||(this.defaultSheet=this._createSheet()),r=v(r);var i=t(this.defaultSheet,e);i.length||(i=[n(this.defaultSheet,e)]);for(var s=0;s<i.length;s++)p(i[s],r)},remove:function(e){if(this.defaultSheet){if(!e)return this._removeSheet(this.defaultSheet),void delete this.defaultSheet;for(var n=t(this.defaultSheet,e),r=0;r<n.length;r++)u(n[r]);return n.length}},_createSheet:function(){var e=this.doc.createElement("style");return e.type="text/css",e.rel="stylesheet",this.head.appendChild(e),e.sheet},_removeSheet:function(e){var t=e.ownerNode;t.parentNode.removeChild(t)}};var S=new E(document);return S.forDocument=function(e){return new E(e)},S}();"undefined"!=typeof module&&module.exports&&(module.exports=jss),define("jss",function(e){return function(){var t,n;return t||e.jss}}(this)),define("utils/arrayUtil",[],function(){"use strict";var e={};return e.shuffle=function(t){var n=t.slice(0),r=!0;t.sort(function(){return.5-Math.random()}),t.forEach(function(e,t){e!==n[t]&&(r=!1)}),r&&e.shuffle(t)},e.contains=function(e){return this.indexOf(e)>=0},e.excludes=function(e){return this.indexOf(e)<0},e.union=function(e,t){var n=e;return $.each(t,function(e,t){n.indexOf(t)<0&&n.push(t)}),n},e}),function(e){function t(t,r,i){var s=this;return this.on("click.pjax",t,function(t){var o=e.extend({},y(r,i));o.container||(o.container=e(this).attr("data-pjax")||s),n(t,o)})}function n(t,n,r){r=y(n,r);var s=t.currentTarget;if(s.tagName.toUpperCase()!=="A")throw"$.fn.pjax or $.pjax.click requires an anchor element";if(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)return;if(location.protocol!==s.protocol||location.hostname!==s.hostname)return;if(s.href.indexOf("#")>-1&&g(s)==g(location))return;if(t.isDefaultPrevented())return;var o={url:s.href,container:e(s).attr("data-pjax"),target:s},u=e.extend({},o,r),a=e.Event("pjax:click");e(s).trigger(a,[u]),a.isDefaultPrevented()||(i(u),t.preventDefault(),e(s).trigger("pjax:clicked",[u]))}function r(t,n,r){r=y(n,r);var s=t.currentTarget,o=e(s);if(s.tagName.toUpperCase()!=="FORM")throw"$.pjax.submit requires a form element";var u={type:(o.attr("method")||"GET").toUpperCase(),url:o.attr("action"),container:o.attr("data-pjax"),target:s};if(u.type!=="GET"&&window.FormData!==undefined)u.data=new FormData(s),u.processData=!1,u.contentType=!1;else{if(e(s).find(":file").length)return;u.data=e(s).serializeArray()}i(e.extend({},u,r)),t.preventDefault()}function i(t){function u(t,r,i){i||(i={}),i.relatedTarget=n;var o=e.Event(t,i);return s.trigger(o,r),!o.isDefaultPrevented()}t=e.extend(!0,{},e.ajaxSettings,i.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var n=t.target,r=m(t.url).hash,s=t.context=b(t.container);t.data||(t.data={}),e.isArray(t.data)?t.data.push({name:"_pjax",value:s.selector}):t.data._pjax=s.selector;var a;t.beforeSend=function(e,n){n.type!=="GET"&&(n.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",s.selector);if(!u("pjax:beforeSend",[e,n]))return!1;n.timeout>0&&(a=setTimeout(function(){u("pjax:timeout",[e,t])&&e.abort("timeout")},n.timeout),n.timeout=0);var i=m(n.url);r&&(i.hash=r),t.requestUrl=v(i)},t.complete=function(e,n){a&&clearTimeout(a),u("pjax:complete",[e,n,t]),u("pjax:end",[e,t])},t.error=function(e,n,r){var i=S("",e,t),s=u("pjax:error",[e,n,r,t]);t.type=="GET"&&n!=="abort"&&s&&o(i.url)},t.success=function(n,a,f){var l=i.state,c=typeof e.pjax.defaults.version=="function"?e.pjax.defaults.version():e.pjax.defaults.version,h=f.getResponseHeader("X-PJAX-Version"),d=S(n,f,t),v=m(d.url);r&&(v.hash=r,d.url=v.href);if(c&&h&&c!==h){o(d.url);return}if(!d.contents){o(d.url);return}i.state={id:t.id||p(),url:d.url,title:d.title,container:s.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(i.state,d.title,d.url);var g=e.contains(t.container,document.activeElement);if(g)try{document.activeElement.blur()}catch(y){}d.title&&(document.title=d.title),u("pjax:beforeReplace",[d.contents,t],{state:i.state,previousState:l}),t.append?s.append(d.contents):s.html(d.contents);var b=s.find("input[autofocus], textarea[autofocus]").last()[0];b&&document.activeElement!==b&&b.focus(),x(d.scripts);var w=t.scrollTo;if(r){var E=decodeURIComponent(r.slice(1)),T=document.getElementById(E)||document.getElementsByName(E)[0];T&&(w=e(T).offset().top)}typeof w=="number"&&(t.scrollTarget?t.scrollTarget.scrollTop(w):e(window).scrollTop(w)),u("pjax:success",[n,a,f,t])},i.state||(i.state={id:p(),url:window.location.href,title:document.title,container:s.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(i.state,document.title)),h(i.xhr),i.options=t;var f=i.xhr=e.ajax(t);return f.readyState>0&&(t.push&&!t.replace&&(k(i.state.id,d(s)),window.history.pushState(null,"",t.requestUrl)),u("pjax:start",[f,t]),u("pjax:send",[f,t])),i.xhr}function s(t,n){var r={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return i(e.extend(r,y(t,n)))}function o(e){window.history.replaceState(null,"",i.state.url),window.location.replace(e)}function l(t){u||h(i.xhr);var n=i.state,r=t.state,s;if(r&&r.container){if(u&&a==r.url)return;if(n){if(n.id===r.id)return;s=n.id<r.id?"forward":"back"}var f=T[r.id]||[],l=e(f[0]||r.container),c=f[1];if(l.length){n&&L(s,n.id,d(l));var p=e.Event("pjax:popstate",{state:r,direction:s});l.trigger(p);var v={id:r.id,url:r.url,container:l,push:!1,fragment:r.fragment,timeout:r.timeout,scrollTo:!1};if(c){l.trigger("pjax:start",[null,v]),i.state=r,r.title&&(document.title=r.title);var m=e.Event("pjax:beforeReplace",{state:r,previousState:n});l.trigger(m,[c,v]),l.html(c),l.trigger("pjax:end",[null,v])}else i(v);l[0].offsetHeight}else o(location.href)}u=!1}function c(t){var n=e.isFunction(t.url)?t.url():t.url,r=t.type?t.type.toUpperCase():"GET",i=e("<form>",{method:r==="GET"?"GET":"POST",action:n,style:"display:none"});r!=="GET"&&r!=="POST"&&i.append(e("<input>",{type:"hidden",name:"_method",value:r.toLowerCase()}));var s=t.data;if(typeof s=="string")e.each(s.split("&"),function(t,n){var r=n.split("=");i.append(e("<input>",{type:"hidden",name:r[0],value:r[1]}))});else if(e.isArray(s))e.each(s,function(t,n){i.append(e("<input>",{type:"hidden",name:n.name,value:n.value}))});else if(typeof s=="object"){var o;for(o in s)i.append(e("<input>",{type:"hidden",name:o,value:s[o]}))}e(document.body).append(i),i.submit()}function h(t){t&&t.readyState<4&&(t.onreadystatechange=e.noop,t.abort())}function p(){return(new Date).getTime()}function d(e){var t=e.clone();return t.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[e.selector,t.contents()]}function v(e){return e.search=e.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),e.href.replace(/\?($|#)/,"$1")}function m(e){var t=document.createElement("a");return t.href=e,t}function g(e){return e.href.replace(/#.*/,"")}function y(t,n){return t&&n?n.container=t:e.isPlainObject(t)?n=t:n={container:t},n.container&&(n.container=b(n.container)),n}function b(t){t=e(t);if(!t.length)throw"no pjax container for "+t.selector;if(t.selector!==""&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}function w(e,t){return e.filter(t).add(e.find(t))}function E(t){return e.parseHTML(t,document,!0)}function S(t,n,r){var i={},s=/<html/i.test(t),o=n.getResponseHeader("X-PJAX-URL");i.url=o?v(m(o)):r.requestUrl;if(s)var u=e(E(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),a=e(E(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var u=a=e(E(t));if(a.length===0)return i;i.title=w(u,"title").last().text();if(r.fragment){if(r.fragment==="body")var f=a;else var f=w(a,r.fragment).first();f.length&&(i.contents=r.fragment==="body"?f:f.contents(),i.title||(i.title=f.attr("title")||f.data("title")))}else s||(i.contents=a);return i.contents&&(i.contents=i.contents.not(function(){return e(this).is("title")}),i.contents.find("title").remove(),i.scripts=w(i.contents,"script[src]").remove(),i.contents=i.contents.not(i.scripts)),i.title&&(i.title=e.trim(i.title)),i}function x(t){if(!t)return;var n=e("script[src]");t.each(function(){var t=this.src,r=n.filter(function(){return this.src===t});if(r.length)return;var i=document.createElement("script"),s=e(this).attr("type");s&&(i.type=s),i.src=e(this).attr("src"),document.head.appendChild(i)})}function k(e,t){T[e]=t,C.push(e),A(N,0),A(C,i.defaults.maxCacheLength)}function L(e,t,n){var r,s;T[t]=n,e==="forward"?(r=C,s=N):(r=N,s=C),r.push(t),(t=s.pop())&&delete T[t],A(r,i.defaults.maxCacheLength)}function A(e,t){while(e.length>t)delete T[e.shift()]}function O(){return e("meta").filter(function(){var t=e(this).attr("http-equiv");return t&&t.toUpperCase()==="X-PJAX-VERSION"}).attr("content")}function M(){e.fn.pjax=t,e.pjax=i,e.pjax.enable=e.noop,e.pjax.disable=_,e.pjax.click=n,e.pjax.submit=r,e.pjax.reload=s,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,scrollTarget:null,maxCacheLength:20,version:O,append:!1},e(window).on("popstate.pjax",l)}function _(){e.fn.pjax=function(){return this},e.pjax=c,e.pjax.enable=M,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).off("popstate.pjax",l)}var u=!0,a=window.location.href,f=window.history.state;f&&f.container&&(i.state=f),"state"in window.history&&(u=!1);var T={},N=[],C=[];e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),e.support.pjax?M():_()}(jQuery),define("pjax",["jquery"],function(e){return function(){var t,n;return t||e.jQuery.pjax}}(this)),define("ui/Paginator",["jquery","pjax","managers/eventManager"],function(e,t,n){"use strict";var r=function(t){var i,s,o,u,a;i=e.extend({$e:null,selector:"[data-pjax-pagination]",previousSelector:"[data-pjax-pagination-previous]",nextSelector:"[data-pjax-pagination-next]",paginationContainer:".pagination"},t),s={name:"Paginator",$e:i.$e||e(i.selector)},o={},u={init:function(){s.$e.on("click",i.previousSelector,a.paginationButtonClick),s.$e.on("click",i.nextSelector,a.paginationButtonClick),s.$e.on("pjax:success",a.pjaxSuccess)},hideClickedButton:function(t){e(t.currentTarget).closest(i.paginationContainer).remove()}},a={paginationButtonClick:function(t){e.pjax.click(t,{container:s.$e,fragment:i.selector,scrollTo:!1,append:!0,timeout:6e3}),u.hideClickedButton(t)},pjaxSuccess:function(){n.emit(r.eventTypes.PAGE_ADDED,{$e:s.$e})}},u.init()};return r.eventTypes={PAGE_ADDED:"paginatorPageAdded"},r.onPageAdded=function(e){n.addListener(r.eventTypes.PAGE_ADDED,e)},r}),define("ui/FeedPaginator",["jquery","pjax","managers/eventManager"],function(e,t,n){"use strict";var r=function(t){var i,s,o,u,a;i=e.extend({$e:null,selector:"[data-feed-pagination]",pksSelector:"[data-extra-pks]",nextSelector:"[data-feed-pagination-next]",paginationContainer:".pagination"},t),s={name:"FeedPaginator",$e:i.$e||e(i.selector),pagedPks:[],editable:!1},o={},u={init:function(){var e=s.$e.find(i.pksSelector);s.$e.on("click",i.nextSelector,a.moreClick),s.pagedPks=e.data("extraPks"),s.editable=e.data("editable"),s.listStyle=e.data("listStyle")},insertFeedItems:function(e){s.$e.find(i.paginationContainer).before(e)},hideClickedButton:function(){e(i.nextSelector).remove()}},a={moreClick:function(){e.get("/feed_items/",{pks:s.pagedPks.shift(),listStyle:s.listStyle,editable:!!s.editable},a.nextPageSuccess)},nextPageSuccess:function(e){u.insertFeedItems(e),s.pagedPks.length===0&&u.hideClickedButton(),n.emit(r.eventTypes.PAGE_ADDED,{$e:s.$e})}},u.init()};return r.eventTypes={PAGE_ADDED:"feedPaginatorPageAdded"},r.onPageAdded=function(e){n.addListener(r.eventTypes.PAGE_ADDED,e)},r}),define("forms/widgets/DropMenu",["jquery","utils/globalElements","factories/moduleFactory","utils/keycodes"],function(e,t,n,r){"use strict";var i=null,s=function(o){var u,a,f,l,c,h,p,d;u=this,f=s.markup,a=e.extend({menuControl:".drop-menu-control",menuItemsWrapper:".drop-menu-items-wrap",menuItem:".drop-menu-item",onSelect:function(){},viewportEdgePadding:40,selfToggle:!1,autocomplete:!1},o),l={name:"DropMenu",$e:a.$e||e(a.selector),closeDelay:100,closeTimeout:null,maxVisibleItems:6.5,heights:{full:0,max:0},components:{menuControl:{selector:a.menuControl},menuItemsWrapper:{selector:a.menuItemsWrapper},menuItem:{selector:a.menuItem}},events:{keyup:"keyup",mouseenter:"mouseenter",mouseleave:"mouseleave","mousewheel @menuItemsWrapper":"menuItemsWrapperMousewheel","DOMMouseScroll @menuItemsWrapper":"menuItemsWrapperMousewheel","mouseenter @menuItem":"menuItemMouseenter","mouseleave @menuItem":"menuItemMouseleave","click @menuItem":"menuItemClick","click @menuControl":"menuControlClick"},keyHandlers:[{event:"keyup",which:r.UP,handler:"upKeyup"},{event:"keyup",which:r.DOWN,handler:"downKeyup"},{event:"keyup",which:r.SPACE,handler:"spaceKeyup"},{event:"keyup",which:r.ENTER,handler:"enterKeyup"},{event:"keyup",which:r.ESCAPE,handler:"escapeKeyup"}]},c={allOptions:null},h={init:function(){h.setup()},destroy:function(){h.closeMenu({force:!0})},setup:function(){h.setHeight(),h.closeMenu(),h.cacheOptions(),h.setReady()},reset:function(){h.unsetReady(),h.unsetHeight(),h.unsetMaxHeight(),h.setup()},update:function(){h.getComponents(),h.setHeight(),h.setScrollState()},cacheOptions:function(){c.menuItem&&(c.allOptions=c.menuItem.clone())},isOpen:function(){return l.$e.hasClass(f.OPEN)},isActive:function(){return l.$e.hasClass(f.ACTIVE)},setOpen:function(){l.$e.addClass(f.OPEN)},unsetOpen:function(){l.$e.removeClass(f.OPEN)},setInvisible:function(){c.menuItemsWrapper.addClass(f.INVISIBLE)},unsetInvisible:function(){c.menuItemsWrapper.removeClass(f.INVISIBLE)},setReady:function(){l.$e.addClass(f.READY)},unsetReady:function(){l.$e.removeClass(f.READY)},setGlobalOpen:function(){t.body.addClass(f.GLOBAL_OPEN),c.menuItemsWrapper.hasClass(f.ABOVE)&&t.body.addClass(f.ABOVE)},unsetGlobalOpen:function(){t.body.removeClass(f.GLOBAL_OPEN),t.body.removeClass(f.ABOVE)},bindWindowScroll:function(){t.win.on("scroll.DropMenu",function(){h.determineWrapperPosition()})},unbindWindowScroll:function(){t.win.off("scroll.DropMenu")},bindWindowClick:function(){t.win.on("click.DropMenu",function(){h.closeMenu()})},unbindWindowClick:function(){t.win.off("click.DropMenu")},setOpenInstance:function(){i&&i.close(),i=u},unsetOpenInstance:function(){i===u&&(i=null)},setCloseDelay:function(e,t){var n;e=e||{},n=e.delay?l.closeDelay:0,l.closeTimeout=setTimeout(t,n)},clearCloseDelay:function(){l.closeTimeout&&(clearTimeout(l.closeTimeout),l.closeTimeout=null)},setHeight:function(){var e;h.isOpen()?(h.getComponentDimensions(),e=l.components.menuItemsWrapper.bounds,c.menuItemsWrapper.height(e.height),l.heights.full=e.height,h.setMaxHeight()):(h.unsetMaxHeight(),c.menuItemsWrapper.css("height",0))},setMaxHeight:function(){var e,t;e=l.components.menuItem.bounds,t=c.menuItem&&c.menuItem.length>7?l.maxVisibleItems*e.height:null,l.heights.max=t,c.menuItemsWrapper.css({"max-height":t})},unsetHeight:function(){c.menuItemsWrapper.css("height","auto")},unsetMaxHeight:function(){c.menuItemsWrapper.css({"max-height":""})},setScrollState:function(){l.$e.toggleClass(f.SCROLLMENU,!!l.heights.max&&l.heights.full>l.heights.max)},unsetScrollState:function(){l.$e.removeClass(f.SCROLLMENU)},getComponentDimensions:function(t){t=t||{},h.setInvisible(),h.unsetHeight(),h.unsetMaxHeight(),e.each(l.components,function(t,n){var r,i;i=c[t],i=i&&i.filter?i.filter(":visible"):[];if(!i.length)return;r=i.length>1&&!e(i[1]).hasClass("drop-menu-items-wrap")?i[1]:i[0],n.bounds=r.getBoundingClientRect()}),h.unsetInvisible()},openMenu:function(){if(h.isOpen())return;h.setOpenInstance(),h.clearCloseDelay(),h.getComponentDimensions(),h.determineWrapperPosition(),h.setGlobalOpen(),h.bindWindowScroll(),h.bindWindowClick(),h.unsetScrollState(),requestAnimationFrame(function(){h.setOpen(),h.setHeight(),h.setScrollState()})},closeMenu:function(e){e=e||{};if(!h.isActive()||e.force)h.clearCloseDelay(),h.setCloseDelay(e,function(){h.unbindWindowScroll(),h.unbindWindowClick(),h.unsetGlobalOpen(),h.unsetOpenInstance(),h.unsetOpen(),h.setHeight(),h.resetItemHighlightStates(),h.resetItemSelectedStates(),h.unsetScrollState()})},toggleMenu:function(e){e=e||{},h.isOpen()?h.closeMenu(e):h.openMenu(e)},determineWrapperPosition:function(){var e,t,n,r,i,s,o,u=!0;if(u)return;e=c.menuItemsWrapper[0].getBoundingClientRect(),t=l.components.menuItemsWrapper.bounds,n=c.menuControl[0].getBoundingClientRect(),r=n.top-a.viewportEdgePadding,i=window.innerHeight-(n.top+n.height)-a.viewportEdgePadding,s=!1,c.menuItemsWrapper.css({"max-height":""}).hide().show(0),l.$e.removeClass(f.SCROLLMENU),t.height>r&&t.height>i?(r>i?(s=!0,o=r):o=i,c.menuItemsWrapper.css({"max-height":o+"px"}).hide().show(0),l.$e.addClass(f.SCROLLMENU)):s=t.height>i,l.$e.hasClass(f.DOWN_ONLY)||c.menuItemsWrapper.toggleClass(f.ABOVE,s)},getHighlightItem:function(){return c.menuItem?c.menuItem.filter(function(t,n){return e(n).hasClass(f.HIGHLIGHT)}):[]},setHighlightItem:function(e){if(e.hasClass(f.NOOP))return;h.resetItemHighlightStates(),e.addClass(f.HIGHLIGHT)},unsetHighlightItem:function(e){if(e.hasClass(f.NOOP))return;e.removeClass(f.HIGHLIGHT)},setHighlightPrevItem:function(){var e,t;e=h.getHighlightItem(),e.length?(t=e.prev(l.components.menuItem.selector),t.length||(t=l.$e.find(l.components.menuItem.selector).last())):t=l.$e.find(l.components.menuItem.selector).last(),h.setHighlightItem(t),h.isOpen()||h.openMenu()},setHighlightNextItem:function(){var e,t;e=h.getHighlightItem(),e.length?(t=e.next(l.components.menuItem.selector),t.length||(t=l.$e.find(l.components.menuItem.selector).first())):t=l.$e.find(l.components.menuItem.selector).first(),h.setHighlightItem(t),h.isOpen()||h.openMenu()},getSelectedItem:function(){return c.menuItem.filter(function(t,n){return e(n).hasClass(f.SELECTED)})},selectItemByEl:function(e){if(!e.length||e.hasClass(f.NOOP))return;h.resetItemSelectedStates(),e.addClass(f.SELECTED),h.closeMenu({force:!0})},selectItemByVal:function(e){var t=c.menuItem.filter('[data-value="'+e+'"]');if(t.hasClass(f.NOOP))return;h.selectItemByEl(t)},filter:function(e){c.menuItem.each(e),h.reset(),h.getComponents()},unfilter:function(){c.menuItemsWrapper.html(c.allOptions),h.getComponents()},resetItemHighlightStates:function(){c.menuItem&&c.menuItem.removeClass(f.HIGHLIGHT)},resetItemSelectedStates:function(){c.menuItem&&c.menuItem.removeClass(f.SELECTED)}},p={keyup:function(t){var n=this;e.each(l.keyHandlers,function(e,r){r.event==="keyup"&&t.which===r.which&&p[r.handler].call(n,t)})},mouseenter:function(){l.$e.addClass(f.ACTIVE)},mouseleave:function(){l.$e.removeClass(f.ACTIVE)},menuControlClick:function(e){var t=e.originalEvent||e;a.selfToggle&&(t.dropMenuClick=!0,h.toggleMenu({force:h.isOpen()}))},menuItemsWrapperMousewheel:function(e){var t=e.originalEvent.wheelDelta||-e.originalEvent.detail,n=t>0?"up":"down",r=n==="up"&&this.scrollTop===0||n==="down"&&this.scrollTop===this.scrollHeight-this.offsetHeight;r&&e.preventDefault()},menuItemMouseenter:function(){h.setHighlightItem(e(this))},menuItemMouseleave:function(){h.unsetHighlightItem(e(this))},menuItemClick:function(t){var n=e(this),r=t.originalEvent||t;r.dropMenuClick=!0;if(n.hasClass(f.NOOP))return;h.selectItemByEl(n),a.onSelect(n)},upKeyup:function(e){e.preventDefault(),h.setHighlightPrevItem()},downKeyup:function(e){e.preventDefault(),h.setHighlightNextItem()},spaceKeyup:function(){var e=h.getHighlightItem();if(!e.length||e.hasClass(f.NOOP))return;h.selectItemByEl(e),a.onSelect(e)},enterKeyup:function(e){var t=h.getHighlightItem();e.originalEvent.intercepted=!0,h.selectItemByEl(t),a.onSelect(t)},escapeKeyup:function(){h.closeMenu({force:!0})}},d={toggle:h.toggleMenu,open:h.openMenu,close:h.closeMenu,selectItemByEl:h.selectItemByEl,selectItemByVal:h.selectItemByVal,reset:h.reset,filter:h.filter,unfilter:h.unfilter,isOpen:h.isOpen,isActive:h.isActive,update:h.update},n({self:u,o:a,m:f,internal:l,elements:c,fn:h,handlers:p,api:d}).create()};return s.markup={ABOVE:"state-above",SCROLLMENU:"state-scroll-menu",GLOBAL_OPEN:"state-dropmenu-open",NOOP:"noop",DOWN_ONLY:"variant-down-only"},s}),define("ui/Slideshow",["jquery","factories/moduleFactory","utils/keycodes"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h,p;s=this,u=r.markup,o=e.extend({$e:null,selector:".slideshow",data:null,modal:null},i),a={name:"Slideshow",$e:o.$e||e(o.selector),data:o.data,currentIndex:0,modal:o.modal,templates:{slideshow:{selector:"!.slideshow-template"}},components:{prevImage:{selector:".prev-image"},nextImage:{selector:".next-image"},imageWrapper:{selector:".image-wrapper"},currentIndex:{selector:".current-index"},totalCount:{selector:".total-count"},imageCaption:{selector:".slideshow-image-caption"},imageTitleBody:{selector:".slideshow-meta-body .slideshow-image-title"},imageTitleFooter:{selector:".slideshow-meta-footer .slideshow-image-title"}},events:{"click @prevImage":"prevImageClick","click @nextImage":"nextImageClick"}},f={},l={},c={init:function(){a.data&&c.render()},render:function(){c.unbindWindowKeyEvents(),a.$e.html(l.slideshow(a.data)),c.getComponents(),c.updateView(),a.modal&&(a.modal.modal.addClass(u.FULL_SCREEN),a.modal.modal.addClass(u.SLIDESHOW_MODAL)),c.bindToWindowKeyEvents()},bindToWindowKeyEvents:function(){e(window).on("keydown.slideshow",function(e){h.windowKeydown(e)})},unbindWindowKeyEvents:function(){e(window).off("keydown.slideshow")},update:function(e){a.data=e,c.render()},setPositionState:function(t,n){var r=e(n);t===a.currentIndex?(r.removeClass(u.OUT_LEFT),r.removeClass(u.OUT_RIGHT)):t<a.currentIndex?r.addClass(u.OUT_LEFT):t>a.currentIndex&&r.addClass(u.OUT_RIGHT)},updateView:function(){if(!f.imageWrapper)return;f.imageWrapper.each(c.setPositionState),f.imageCaption.each(c.setPositionState),f.imageTitleBody.each(c.setPositionState),f.imageTitleFooter.each(c.setPositionState),f.currentIndex.html(a.currentIndex+1),f.totalCount.html(f.imageWrapper.length),f.prevImage.removeClass(u.DISABLED),f.nextImage.removeClass(u.DISABLED),a.currentIndex===0?f.prevImage.addClass(u.DISABLED):a.currentIndex===f.imageWrapper.length-1&&f.nextImage.addClass(u.DISABLED)},showPrevImage:function(){a.currentIndex=Math.max(0,a.currentIndex-1),c.updateView()},showNextImage:function(){a.currentIndex=Math.min(f.imageWrapper.length-1,a.currentIndex+1),c.updateView()},beforeDestroy:function(){c.unbindWindowKeyEvents()}},h={prevImageClick:function(){c.showPrevImage()},nextImageClick:function(){c.showNextImage()},windowKeydown:function(e){e.which===n.LEFT?c.showPrevImage():e.which===n.RIGHT&&c.showNextImage()}},p={update:c.update},t({self:s,o:o,internal:a,elements:f,templates:l,fn:c,handlers:h,m:u,api:p}).create()};return r.markup={SHALLOW_PADDING:"variant-shallow-padding",SLIDESHOW_MODAL:"variant-slideshow-modal",OUT_LEFT:"state-out-left",OUT_RIGHT:"state-out-right"},r}),define("ui/ItemContainer",["jquery","factories/moduleFactory","ui/Paginator","ui/FeedPaginator","forms/widgets/DropMenu","ui/Slideshow"],function(e,t,n,r,i,s){"use strict";var o=function(u){var a,f,l,c,h,p,d,v;a=this,l=o.markup,f=e.extend({$e:null,selector:"."+l.CONTAINER,itemSelector:"."+l.ITEM,layout:null,onPageAdded:e.noop},u),c={name:"ItemContainer",$e:f.$e||e(f.selector),components:{item:{selector:f.itemSelector},launchSlideshow:{selector:".launch-slideshow"},itemAnchor:{selector:f.itemSelector+" a"},editDrop:{selector:".module .edit-drop, .listing-layout-item .edit-drop",constructor:i,moduleOptions:{selfToggle:!0}},feedFieldset:{selector:'fieldset[name="feed"]'},removeModule:{selector:".remove-module"},moduleDisplaySize:{selector:".module .display-size"}},events:{"mouseenter @item":"itemMouseenter","mouseleave @item":"itemMouseleave","click @item":"itemClick","click @itemAnchor":"itemAnchorClick",prependitem:"prependItem",appenditem:"appendItem","change @moduleDisplaySize":"moduleDisplaySizeChange","click @removeModule":"removeModuleClick",removetier:"removeTier","click @launchSlideshow":"launchSlideshow"}},h={},p={init:function(){n.onPageAdded(d.paginatorPageAdded),r.onPageAdded(d.feedPaginatorPageAdded)},isEditable:function(){return c.$e.hasClass(l.EDITABLE)},prependItem:function(e){f.layout.prependItems(e),p.getComponents(),p.isEditable()&&e.trigger("new:fieldset")},appendItem:function(e){f.layout.appendItems(e),p.getComponents(),p.isEditable()&&e.trigger("new:fieldset")},removeModule:function(t){var n,r,i,s;n=e(t),r=n.closest("fieldset."+l.ITEM),i=r.data("fieldsetInstance"),s=i.getData(),c.$e.trigger("removeitem",s),p.trackDeletedItemPk(s.items[0].pk),i.removeEl()},trackDeletedItemPk:function(e){var t,n;if(!h.feedFieldset)return;n=h.feedFieldset.data("fieldsetInstance"),t=n.getVal("deleted_pks");if(!t)return;t.push(e),n.setVals({deleted_pks:t})},updateModuleDisplaySize:function(t){var n,r,i,s;n=e(t),r=n.closest("."+l.MODULE),i=n.data("customRadioInstance"),s=i.getVal(),r.toggleClass(l.LARGE_MODULE,s==="LARGE"),r.trigger("sizechange")},launchSlideshow:function(t){var n,r,i,o,u,a;n=e(t),r=e('<div class="slideshow-wrapper" />'),o=n.data("images"),u=n.data("galleryTitle"),a=n.data("galleryTags"),i=f.modalsManager.launchModal({content:r}),new s({$e:r,data:{readView:!0,gallery_title:u,images:o,tags:a},modal:i})}},d={itemMouseenter:function(){var t=e(this);t.addClass(l.HOVER)},itemMouseleave:function(){var t=e(this);t.removeClass(l.HOVER)},itemClick:function(t){var n=e(this).data("href");n&&!t.interceptedByAnchor&&!t.originalEvent.dropMenuClick&&(t.preventDefault(),t.metaKey?window.open(n,"_blank"):window.location.assign(n))},itemAnchorClick:function(e){e.interceptedByAnchor=!0},prependItem:function(t,n){var r=e(n);p.prependItem(r)},appendItem:function(t,n){var r=e(n);p.appendItem(r)},feedPaginatorPageAdded:function(e){d.paginatorPageAdded(e)},paginatorPageAdded:function(t){var n,r;n=t.$e;if(!e.contains(n[0],c.$e[0]))return;r=e(),n.find("."+l.CONTAINER+":not(."+l.SETUP+")").each(function(){var t=e(this);r=r.add(t.find(f.itemSelector).detach()),t.remove()}),r.length&&f.layout.appendItems(r)},removeModuleClick:function(e){e.stopPropagation(),p.removeModule(this)},moduleDisplaySizeChange:function(){p.updateModuleDisplaySize(this)},launchSlideshow:function(e){e.stopPropagation(),p.launchSlideshow(e.currentTarget)},removeTier:function(e,t){p.trackDeletedItemPk(t.items[0].pk)}},v={isEditable:p.isEditable,appendItem:p.appendItem,prependItem:p.prependItem},t({self:a,o:f,m:l,internal:c,elements:h,fn:p,handlers:d,api:v}).create()};return o.markup={CONTAINER:"item-container",ITEM:"container-item",MODULE:"module",ITEM_FIELDSET:'fieldset[name="items[]"]',EDITABLE:"state-editable",LARGE_MODULE:"variant-x2"},o}),define("ui/ShelfPacker",["jquery","factories/moduleFactory","services/layout"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h;s=this,o=r.markup,u=e.extend({$e:null,selector:"."+o.ITEM_SHELF,itemsPerShelf:n.getFullWidth()/n.getInfo().columnWidth,shelfWidth:n.getFullWidth(),stamps:[],itemSelector:"."+o.SHELF_ITEM,isSortable:!1},i),a={name:"ShelfPacker",$e:u.$e||e(u.selector),slotCount:0,lastEmptySlotIndex:0,slots:[],stamps:[],sortedItems:[],shelfItems:[],lastSwap:[],shelfTopOffsets:[0],lastShelfBottomOffset:0,slotSize:{height:u.shelfWidth/u.itemsPerShelf,width:u.shelfWidth/u.itemsPerShelf},components:{item:{selector:u.itemSelector}},events:{"dragstart @item":"itemDragstart","drag @item":"itemDrag","dragend @item":"itemDragend","dragenter @item":"itemDragenter","dragleave @item":"itemDragleave"}},f={draggingItem:null},l={init:function(){l.setupContainer(),l.prepStamps(),l.packStamps(),l.sortItems(),l.prepItems(),l.packItems(),l.autoHeightLastRow(),l.updateContainerHeight(),a.$e.addClass(o.STATE_PACKED)},repack:function(){l.resetPositions(),l.packStamps(),l.packItems(),l.autoHeightLastRow(),l.updateContainerHeight()},setupContainer:function(){a.$e.css({width:u.shelfWidth,left:0,top:0,position:"relative"})},prepStamps:function(){var e,t,n,r,i;e=a.$e[0].getBoundingClientRect(),u.stamps.forEach(function(s){s&&(t=s[0].getBoundingClientRect(),t.top<e.bottom&&t.bottom>e.top&&t.left<e.right&&t.right>e.left&&(r=e.left-t.left,i=e.top-t.top,n={stamp:!0,xSlots:Math.round((t.width-r)/a.slotSize.width),ySlots:Math.ceil((t.height-i)/a.slotSize.height)},a.slotCount+=n.xSlots*n.ySlots,a.stamps.push(n)))}),!a.stamps.length&&u.itemsPerShelf>2&&f.item&&f.item.length<u.itemsPerShelf&&(a.stamps.push({stamp:!0,xSlots:1,ySlots:1}),a.slotCount+=1)},sortItems:function(){var t,n,r,i,s,o;a.sortedItems=[],t=[],n=[],r=0,f.item&&f.item.each(function(r,i){var s,o,u;s=e(i),u=s.data("index"),o=u===undefined?r:u;while(!!n[o])o+=1;t[o]={el:i,data:s.data("item")}});for(i=0;i<t.length;i++)o=t[i],o?(s=r+i,a.sortedItems[s]=o.el,n[s]=o.data):r-=1;a.shelfItems=n},prepItems:function(){a.sortedItems.forEach(function(t,n){var r,i,s,f,c;r=e(t),r.hasClass(o.PROMO_TIER)||r.hasClass(o.VARIANT_FULL)?f=l.prepPromoTier(r,n):(i=r.hasClass(o.VARIANT_WITH_IMG),s=r.hasClass(o.VARIANT_X2),c=r.hasClass(o.STATE_Y2),f={$e:r,xSlots:Math.round(r.width()/a.slotSize.width),ySlots:Math.ceil(r.height()/a.slotSize.height),slotIndex:null,index:r.data("index")||n},u.itemsPerShelf===1&&(f.useItemHeight=!0,f.height=r.height(),f.ySlots=1)),a.shelfItems[n]=f,a.slotCount+=f.xSlots+f.ySlots,u.isSortable&&(r.attr("draggable",!0),r.attr("ondragstart","event.dataTransfer.setData('text/plain', '');")),r.data("index",n),r.data("item",f)})},prepPromoTier:function(e,t){return{$e:e,xSlots:u.itemsPerShelf,ySlots:1,minXSlots:Math.min(u.itemsPerShelf,3),slotIndex:null,index:e.data("index")||t,useItemHeight:!0,height:e.height(),useMinXSlots:!1,fullRow:!0}},prepackSlots:function(){a.slots=new Array(a.slotCount)},packStamps:function(){a.stamps.forEach(function(e){l.packSlots(e,a.lastEmptySlotIndex,!0),l.fillSlots(e)})},packItems:function(){a.shelfItems.forEach(function(e){l.packSlots(e,a.lastEmptySlotIndex,!0),l.fillSlots(e)}),l.calculateShelfTopOffsets(),a.shelfItems.forEach(function(e){l.positionItem(e)})},packSlots:function(e,t,n){var r;n=n||!1,r=l.itemWillFit(e,t),r?(e.slotIndex=t,n&&(a.lastEmptySlotIndex=l.getNextEmptySlot())):l.packSlots(e,t+1)},itemWillFit:function(e,t){var n,r,i,s,f,l,c,h,p;s=e.minXSlots||e.xSlots,n=!1,f=!1,l=!1;if(u.itemsPerShelf===1)return a.slots[t]===undefined;if(a.slots[t]!==undefined||t%u.itemsPerShelf+s>u.itemsPerShelf)n=!1;else if(e.xSlots===1&&e.ySlots===1)n=!0;else{f=!0,l=!0,c=u.itemsPerShelf-t%u.itemsPerShelf,h=0;for(r=0;r<c;r++){if(a.slots[t+r]!==undefined)break;h+=1}f=s<=h,e.fullRow&&(p=t%u.itemsPerShelf,p===0||p===1&&a.slots[t-1]&&a.slots[t-1].stamp||(f=!1));if(f&&e.ySlots>1)for(r=0;r<e.xSlots;r++)for(i=1;i<e.ySlots;i++)l=l?a.slots[t+r+u.itemsPerShelf*i]===undefined:!1;n=f&&l,n&&e.minXSlots&&(e.useMinXSlots=h!==u.itemsPerShelf&&h===e.minXSlots,e.$e.toggleClass(o.VARIANT_MIN_FULL,e.useMinXSlots))}return n},fillSlots:function(e){var t,n,r;r=e.useMinXSlots?e.minXSlots:e.xSlots;for(t=0;t<r;t++){a.slots[e.slotIndex+t]=e;if(e.ySlots>1)for(n=1;n<e.ySlots;n++)a.slots[e.slotIndex+t+u.itemsPerShelf*n]=e}},getNextEmptySlot:function(){var e,t;t=0;for(e=a.lastEmptySlotIndex;e<a.slots.length;e++)if(a.slots[e]===undefined&&t===0){t=e;break}return t},calculateShelfTopOffsets:function(){var e,t;e=a.shelfItems.slice(0),a.shelfTopOffsets=[0],t=0,e.sort(function(e,t){var n,r,i;return i=u.itemsPerShelf,n=Math.floor(e.slotIndex/i),r=Math.floor(t.slotIndex/i),n-r}),e.forEach(function(e){var n,r,i,s,o,f;r=u.itemsPerShelf,n=Math.floor(e.slotIndex/r),t=n,i=a.shelfTopOffsets[n],o=n,f=[];while(i===undefined)f.push(o),o-=1,i=a.shelfTopOffsets[o];f.forEach(function(e){a.shelfTopOffsets[e]=i}),a.shelfTopOffsets[n]=i,e.useItemHeight?(s=e.$e.height()-a.slotSize.height,a.shelfTopOffsets[n+1]=i+s):a.shelfTopOffsets[n+1]=i})},positionItem:function(e){var t,n,r,i,s,o,f,l;s=u.itemsPerShelf,o=a.slotSize.height,f=a.slotSize.width,t=Math.floor(e.slotIndex/s),n=t*s,l=a.shelfTopOffsets[t],r=t*o+l+"px",i=(e.slotIndex-n)*f+"px",e.$e.css({transform:"translate3d("+i+", "+r+", 0)"})},autoHeightLastRow:function(){var e,t,n,r,i,s,f,c,h,p,d,v;t=u.itemsPerShelf,s=l.getUsedShelfCount(),r=s*t,i=r-t,h=-a.slotSize.height,n=[];for(e=i;e<=r;e++)f=a.slots[e],f&&!f.stamp&&n.push(f);for(e=0;e<n.length;e++)c=n[e],c.$e.removeClass(o.VARIANT_AUTO_HEIGHT),p=c.$e.height(),c.$e.addClass(o.VARIANT_AUTO_HEIGHT),d=c.$e.height(),v=d-p,v>h&&(h=v);a.lastShelfBottomOffset=h},updateContainerHeight:function(){var e,t,n,r,i;e=l.getUsedShelfCount(),n=e,r=a.shelfTopOffsets[n],i=a.lastShelfBottomOffset;while(r===undefined)n-=1,r=a.shelfTopOffsets[n];t=e*a.slotSize.height+r+i,a.$e.css({height:t+"px"}),a.$e.closest(o.STREAM_BLOCK).toggleClass(o.VARIANT_AUTO_HEIGHT,i!==0)},getUsedShelfCount:function(){var e,t,n,r,i,s,o;e=a.slots.length/u.itemsPerShelf,e=Math.ceil(e),t=0;for(n=0;n<e;n++){i=n*u.itemsPerShelf,s=!1;for(r=0;r<u.itemsPerShelf;r++)o=a.slots[i+r],s=s||o&&!o.stamp;s&&(t+=1)}return t},swapItems:function(e,t){var n,r,i,s,o,u,f,c,h;o=!0;if(!e||!t)return;n=e.data("index"),r=t.data("index");if(n===r||n===a.lastSwap[1]&&r===a.lastSwap[0])return!1;i=a.shelfItems[n],s=a.shelfItems[r],a.shelfItems[r]=i,a.shelfItems[n]=s,e.data("index",r),t.data("index",n),i.xSlots===s.xSlots&&i.ySlots===s.ySlots&&(o=!1,u=e.attr("style"),f=t.attr("style"),c=i.slotIndex,h=s.slotIndex,e.attr("style",f),t.attr("style",u),i.slotIndex=h,s.slotIndex=c);if(i.useItemHeight||s.useItemHeight)o=!0;return clearTimeout(a.lastSwapTimeout),a.lastSwap=[n,r],a.lastSwapTimeout=setTimeout(function(){a.lastSwap=[]},100),l.sortItems(),{requiresRepack:o}},resetPositions:function(){a.slots=[],a.lastEmptySlotIndex=0},reset:function(){var t,r;u.shelfWidth=n.getFullWidth(),u.itemsPerShelf=u.shelfWidth/n.getInfo().columnWidth,a.shelfItems=[],a.stamps=[],a.slots=[],a.slotCount=0,a.slotSize={height:u.shelfWidth/u.itemsPerShelf,width:u.shelfWidth/u.itemsPerShelf},a.shelfTopOffsets=[0],f.item&&(t=0,r=-1,f.item.each(function(n,i){var s,o;s=e(i),o=s.data("index"),o!==undefined?(s.data("index",o+t),r=o+t):(s.data("index",r+1),r+=1,t+=1)})),l.resetPositions(),l.init()},getElements:function(){return a.sortedItems},remove:function(e){f.item=f.item.not(e),l.reset()},hardReset:function(){l.getComponents(),l.reset()}},c={itemDragstart:function(){var t;t=e(this),f.draggingItem=t,t.addClass(o.DRAGGING)},itemDrag:function(){},itemDragend:function(){var t;t=e(this),t.removeClass(o.DRAGGING)},itemDragenter:function(){var t;t=l.swapItems(f.draggingItem,e(this)),t&&t.requiresRepack&&l.repack()},itemDragleave:function(){},handleResize:function(){l.reset()}},h={handleResize:c.handleResize,getElements:l.getElements,remove:l.remove,hardReset:l.hardReset},t({self:s,o:u,m:o,internal:a,elements:f,fn:l,handlers:c,api:h}).create()};return r.markup={ITEM_SHELF:"item-shelf",SHELF_ITEM:"shelf-item",PROMO_TIER:"promo-tier",MODULE_HEAD:"module-head",STREAM_BLOCK:"stream-block",VARIANT_WITH_IMG:"variant-with-img",VARIANT_X2:"variant-x2",VARIANT_FULL:"variant-full",VARIANT_MIN_FULL:"variant-min-full",VARIANT_AUTO_HEIGHT:"variant-auto-height",STATE_PACKED:"state-packed",DRAGGING:"state-dragging",STATE_Y2:"state-y2",EDITABLE:"state-editable"},r}),define("ui/ModuleLayout",["jquery","factories/moduleFactory","jss","services/layout","utils/stringUtil","utils/arrayUtil","ui/ItemContainer","ui/ShelfPacker"],function(e,t,n,r,i,s,o,u){"use strict";var a=function(f){var l,c,h,p,d,v,m,g;l=this,h=a.markup,c=e.extend({$e:null,selector:"."+h.CONTAINER,moduleComponents:["head","body"],cyclicBackgroundIndexes:[1,2,3,4,5,6],baseUnit:r.dimensions.BASE_UNIT,columnWidth:function(){return r.getInfo().columnWidth},maxHeightY2:function(){return c.columnWidth()*1.75-c.baseUnit*3},jssRules:function(){var e=r.breakpoints,t=r.getInfo(),n=t.breakpoint,i=t.columnWidth,s=t.columnUnit,o=n.columnCount,u=i*n.columnCount;return{".rail":{"margin-top":function(){return n===e.FULL||n===e.MEDIUM?0-s:0}()+"px"},".module-layout":{width:u+"px"},".module":{position:"absolute",left:"0px",top:"0px"},".module, .rail":{width:i+"px"},".module.variant-x2":{width:function(){return n===e.FULL||n===e.MEDIUM?2*i:i}()+"px"},".module.variant-x3":{width:function(){return n===e.FULL||n===e.MEDIUM?3*i:i}()+"px"},".module.variant-full":{width:u+"px"},".module .module-head":{height:i+"px"},".module .module-body":{height:function(){return o>1?i+"px":"auto"}()},".module.variant-x2 .module-head":{height:function(){return n===e.FULL||n===e.MEDIUM?2*i:i}()+"px"},".module.state-y2 .module-body":{height:function(){return o>1?2*i+"px":"auto"}()}}}},f),p={name:"ModuleLayout",$e:c.$e||e(c.selector),shelfPacker:null,modules:[],domChangeTimeout:null,components:{module:{selector:"."+h.MODULE},rail:{selector:"!."+h.RAIL},globalPage:{selector:"!."+h.GLOBAL_PAGE},itemsFieldset:{selector:"."+h.ITEMS_FIELDSET},itemContainer:{selector:"."+h.ITEM_CONTAINER},promoTier:{selector:"."+h.PROMO_TIER}},events:{"modremove @module":"moduleRemove","dragend @module":"moduleDragEnd","sizechange @module":"moduleSizeChange","domchange !globalPage":"relatedDomChange","change !globalPage":"relatedDomChange"},itemContainer:null},d={},v={init:function(){v.initPacker(),v.isZeroState()||(s.shuffle(c.cyclicBackgroundIndexes),v.updateModuleStyles(),v.cacheModuleOrder(),v.processModules(),v.applyCyclicBackgrounds(),r.onResize(m.resize),v.isSortable()&&v.setOrderedFieldsetsMethod()),p.itemContainer=new o(e.extend({$e:p.$e,layout:l,itemSelector:"."+h.MODULE,modalsManager:a._core.getInstance("modalsManager")},f))},isEditable:function(){return p.itemContainer.isEditable()},isSortable:function(){return p.$e.hasClass(h.SORTABLE)},isZeroState:function(){return p.$e.find("."+h.ZERO_BLOCK).length?!0:!1},getContainer:function(){return d.itemsFieldset||p.$e},initPacker:function(){p.shelfPacker=new u({$e:p.$e,itemSelector:"."+h.MODULE,isSortable:v.isSortable(),stamps:[d.rail]})},setOrderedFieldsetsMethod:function(){var t;t=v.getItemsFieldset(),t&&t.data("orderedFieldsets",function(){return e(p.shelfPacker.getElements())})},getItemsFieldset:function(){return d.itemsFieldset||e()},reflow:function(e){e&&(v.updateModuleStyles(),v.processModules()),v.cacheModuleOrder(),v.applyCyclicBackgrounds()},updateModuleStyles:function(){var t=c.jssRules();e.each(t,function(e,t){n.remove(e),n.set(e,t)})},cacheModuleOrder:function(){var e=[];p.shelfPacker.getElements().forEach(function(t,n){p.modules.forEach(function(r){r[0]===t&&(e[n]=r)})}),p.modules=e},processModules:function(){var t=r.getInfo().breakpoint;p.modules=[],p.shelfPacker.getElements().forEach(function(n){var r=e(n);e.extend(r,{components:{},hasVariant:{},contentGuards:{},heights:{contentGuards:{}}}),v.getModuleComponents(r),v.getModuleVariants(r),v.getModuleContentGuards(r),v.resetHeight(r),v.getModuleHeights(r),v.handleContentHeights(r,t),v.applyContentGuards(r),r.hasVariant.list&&t.columnCount>1&&v.heightToNextCol(r),p.modules.push(r)}),p.shelfPacker.hardReset()},getModuleComponents:function(e){c.moduleComponents.forEach(function(t){var n=e.find("."+h.MODULE_COMPONENTS[t]);n.length&&(e.components[t]=n)})},getModuleVariants:function(e){var t=e[0].className,n=t.match(/variant-([^\s]+)/g);n&&n.forEach(function(t){t=t.replace(/variant-/,""),t=i.camelCaseify(t),e.hasVariant[t]=!0})},getModuleContentGuards:function(t){e.each(t.components,function(e,n){var r=n.find("."+h.MODULE_CONTENT_GUARD);r.length&&(t.contentGuards[e]=r)})},getModuleHeights:function(t){e.each(t.components,function(e,n){var r;t.heights[e]={height:n.height(),scrollHeight:n[0].scrollHeight},t.contentGuards[e]&&(r=t.contentGuards[e],t.heights.contentGuards[e]={height:r.height(),scrollHeight:r[0].scrollHeight})})},handleContentHeights:function(e,t){e.components.body&&t.columnCount>1&&e.heights.body.scrollHeight>c.columnWidth()&&!e.hasVariant.list&&(e.addClass(h.STATE_Y2),v.getModuleHeights(e))},applyContentGuards:function(t){e.each(t.contentGuards,function(e,n){var r=t.heights.contentGuards[e].scrollHeight,i=t.heights[e].height,s,o;o=v.calcGuardedMaxHeight(i,n),s=r>o,n.toggleClass(h.GUARDED,s),n.css("max-height",o)})},applyCyclicBackgrounds:function(){var e=0,t,n;p.modules.forEach(function(r){r.components.head&&!r.hasVariant.withImg&&!r.hasVariant.withGradient&&!r.hasVariant.person&&!r.hasVariant.group&&(t=c.cyclicBackgroundIndexes[e],n=r.attr("class").match(/state\-bg\-./g),n&&r.removeClass(n[0]),r.addClass(h.CYCLIC_BG+t),e+=1,e===c.cyclicBackgroundIndexes.length&&(e=0))})},calcGuardedMaxHeight:function(t,n){var r=0,i=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-bottom"),10),o;return n.siblings().each(function(t,n){var i=e(n),s=i.outerHeight(!0);r+=s}),o=t,o-=i,o-=s,o-=r,o},resetHeight:function(t){t.removeClass(h.STATE_Y2),t.removeClass(h.HEIGHT_ADJUSTED),t.removeClass(h.HEIGHT_ADJUSTED_TO_TIER),t.css("height",""),t.contentGuards&&e.each(t.contentGuards,function(e,t){t.css("max-height","")})},heightToNextCol:function(e){var t=e.outerHeight(),n=parseInt(e.css("margin-top"),10),r=c.columnWidth(),i=(t-n)/r;e.css({height:Math.ceil(i)*r-n}),e.addClass(h.HEIGHT_ADJUSTED)},appendModules:function(e){v.getContainer().append(e),v.onDomChange(e)},prependModules:function(e){v.getContainer().prepend(e),v.onDomChange(e)},onDomChange:function(t){clearTimeout(p.domChangeTimeout),p.domChangeTimeout=setTimeout(function(){v.reflow(!0)},50),p.shelfPacker.hardReset(),v.isEditable()&&t&&t.each(function(t,n){e(n).first().trigger("new:fieldset")})}},m={resize:function(){p.shelfPacker.handleResize(),v.processModules(),v.reflow(!0)},moduleRemove:function(){this.moduleRemoving||(this.moduleRemoving=!0,p.shelfPacker.remove(this),v.reflow())},moduleDragEnd:function(){v.getItemsFieldset().trigger("orderfieldsets"),v.reflow()},moduleSizeChange:function(){v.reflow(!0),p.shelfPacker.handleResize()},relatedDomChange:function(){clearTimeout(p.domChangeTimeout),p.domChangeTimeout=setTimeout(function(){p.shelfPacker.hardReset(),v.reflow()},50)}},g={getContainer:v.getContainer,appendItems:v.appendModules,prependItems:v.prependModules},t({self:l,o:c,m:h,internal:p,elements:d,fn:v,handlers:m,api:g}).create()};return a.markup={CONTAINER:"module-layout",GLOBAL_PAGE:"global-page",RAIL:"rail",MODULE:"module",MODULE_CONTENT_GUARD:"module-content-guard",MODULE_COMPONENTS:{head:"module-head",body:"module-body"},ITEMS_FIELDSET:"items-fieldset",ITEM_CONTAINER:"item-container",PROMO_TIER:"promo-tier",ZERO_BLOCK:"zero-block",GUARDED:"state-guarded",STATE_Y2:"state-y2",HEIGHT_ADJUSTED:"state-height-adjusted",CYCLIC_BG:"state-bg-",DRAGGING:"state-dragging",SORTABLE:"state-sortable",EDITABLE:o.markup.EDITABLE,HEIGHT_ADJUSTED_TO_TIER:"state-height-adjusted-to-tier"},a}),define("ui/ListingLayout",["jquery","factories/moduleFactory","ui/ItemContainer"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h;s=this,u=r.markup,o=e.extend({$e:null,selector:"."+u.CONTAINER,itemSelector:"."+u.LISTING_ITEM},i),a={name:"ListingLayout",$e:o.$e||e(o.selector),components:{},events:{},itemContainer:null},f={},l={init:function(){a.itemContainer=new n(e.extend({$e:a.$e,layout:s,itemSelector:o.itemSelector},i))},getContainer:function(){return a.$e},appendItems:function(t){var n,r;n=l.getContainer(),r=n.find(o.itemSelector).last(),r.length?r.after(t):n.append(t),a.itemContainer.isEditable()&&t.each(function(t,n){e(n).first().trigger("new:fieldset")})},prependItems:function(t){var n,r;n=l.getContainer(),r=n.find(o.itemSelector).first(),r.length?r.before(t):n.prepend(t),a.itemContainer.isEditable()&&t.each(function(t,n){e(n).first().trigger("new:fieldset")})}},c={},h={getContainer:l.getContainer,appendItems:l.appendItems,prependItems:l.prependItems},t({self:s,o:o,m:u,internal:a,elements:f,fn:l,handlers:c,api:h}).create()};return r.markup={CONTAINER:"listing-layout",LISTING_ITEM:"listing-layout-item"},r}),define("services/ExternalLinkObserver",["jquery"],function(e){"use strict";var t=function(t,n){var r,i,s,o;r=e.extend({$e:null,selector:"body"},t),i={name:"ExternalLinkObserver",$e:r.$e||e(r.selector),linksInModal:r.linksInModal||!1,coreInstances:n,nonHTMLURLRegex:new RegExp(".(pdf|doc|docx|ppt|pptx|xls|xlsx)$"),localLinkRegex:new RegExp("/"+window.location.host+"/"),qualifiedURLRegex:new RegExp("^[A-Za-z]{3,7}://")},s={init:function(){var e=i.linksInModal?"a":'a[target!="_blank"]';i.$e.on("click",e,o.linkClick)},checkAndHandleExternalLink:function(t){var n=e(t),r=t.href,s=null,o=null,u=null;if(r&&i.qualifiedURLRegex.test(r)&&!i.localLinkRegex.test(r)){if(i.linksInModal||n.data("showInModal"))return o=new URL(location),o.protocol==="https:"&&(u=new URL(r),u.protocol="https:",r=u.toString()),i.nonHTMLURLRegex.test(r)||(s=i.coreInstances.modalsManager.launchModal({content:'<iframe src="'+r+'" height="100%" width="100%"></iframe>'}),s.modal.addClass("variant-external-link-modal")),!1;n.attr("target","_blank")}return!0}},o={linkClick:function(){return s.checkAndHandleExternalLink(this)}},s.init()};return t}),define("utils/transitionUtil",[],function(){"use strict";var e={},t={end:"transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd"};return e={oneEnd:function(e,n){e.one(t.end,n)},onEnd:function(e,n){e.on(t.end,n)}},e});var _slice=Array.prototype.slice,_slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(a){i=!0,s=a}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define("parsley",["jquery"],t):e.parsley=t(e.jQuery)}(this,function(e){"use strict";function t(e,t){return e.parsleyAdaptedCallback||(e.parsleyAdaptedCallback=function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(this),e.apply(t||_,n)}),e.parsleyAdaptedCallback}function n(e){return 0===e.lastIndexOf(P,0)?e.substr(P.length):e}function r(){var t=this,n=window||global;_extends(this,{isNativeEvent:function(e){return e.originalEvent&&e.originalEvent.isTrusted!==!1},fakeInputEvent:function(n){t.isNativeEvent(n)&&e(n.target).trigger("input")},misbehaves:function(n){t.isNativeEvent(n)&&(t.behavesOk(n),e(document).on("change.inputevent",n.data.selector,t.fakeInputEvent),t.fakeInputEvent(n))},behavesOk:function(n){t.isNativeEvent(n)&&e(document).off("input.inputevent",n.data.selector,t.behavesOk).off("change.inputevent",n.data.selector,t.misbehaves)},install:function(){if(!n.inputEventPatched){n.inputEventPatched="0.0.3";for(var r=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'],i=0;i<r.length;i++){var s=r[i];e(document).on("input.inputevent",s,{selector:s},t.behavesOk).on("change.inputevent",s,{selector:s},t.misbehaves)}}},uninstall:function(){delete n.inputEventPatched,e(document).off(".inputevent")}})}var i=1,s={},o={attr:function(e,t,n){var r,i,s,o=new RegExp("^"+t,"i");if("undefined"==typeof n)n={};else for(r in n)n.hasOwnProperty(r)&&delete n[r];if(!e)return n;for(s=e.attributes,r=s.length;r--;)i=s[r],i&&i.specified&&o.test(i.name)&&(n[this.camelize(i.name.slice(t.length))]=this.deserializeValue(i.value));return n},checkAttr:function(e,t,n){return e.hasAttribute(t+n)},setAttr:function(e,t,n,r){e.setAttribute(this.dasherize(t+n),String(r))},getType:function(e){return e.getAttribute("type")||"text"},generateID:function(){return""+i++},deserializeValue:function(e){var t;try{return e?"true"==e||"false"!=e&&("null"==e?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?JSON.parse(e):e:t):e}catch(n){return e}},camelize:function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},dasherize:function(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function(){var e;window.console&&"function"==typeof window.console.warn&&(e=window.console).warn.apply(e,arguments)},warnOnce:function(e){s[e]||(s[e]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){s={}},trimString:function(e){return e.replace(/^\s+|\s+$/g,"")},parse:{date:function j(e){var t=e.match(/^(\d{4,})-(\d\d)-(\d\d)$/);if(!t)return null;var n=t.map(function(e){return parseInt(e,10)}),r=_slicedToArray(n,4),i=(r[0],r[1]),s=r[2],o=r[3],j=new Date(i,s-1,o);return j.getFullYear()!==i||j.getMonth()+1!==s||j.getDate()!==o?null:j},string:function(e){return e},integer:function(e){return isNaN(e)?null:parseInt(e,10)},number:function(e){if(isNaN(e))throw null;return parseFloat(e)},"boolean":function(e){return!/^\s*false\s*$/i.test(e)},object:function(e){return o.deserializeValue(e)},regexp:function(e){var t="";return/^\/.*\/(?:[gimy]*)$/.test(e)?(t=e.replace(/.*\/([gimy]*)$/,"$1"),e=e.replace(new RegExp("^/(.*?)/"+t+"$"),"$1")):e="^"+e+"$",new RegExp(e,t)}},parseRequirement:function(e,t){var n=this.parse[e||"string"];if(!n)throw'Unknown requirement specification: "'+e+'"';var r=n(t);if(null===r)throw"Requirement is not a "+e+': "'+t+'"';return r},namespaceEvents:function(t,n){return t=this.trimString(t||"").split(/\s+/),t[0]?e.map(t,function(e){return e+"."+n}).join(" "):""},difference:function(t,n){var r=[];return e.each(t,function(e,t){n.indexOf(t)==-1&&r.push(t)}),r},all:function(t){return e.when.apply(e,_toConsumableArray(t).concat([42,42]))},objectCreate:Object.create||function(){var e=function(){};return function(t){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof t)throw TypeError("Argument must be an object");e.prototype=t;var n=new e;return e.prototype=null,n}}(),_SubmitSelector:'input[type="submit"], button:submit'},u={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(e){},errorsContainer:function(e){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},a=function(){this.__id__=o.generateID()};a.prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function(){var t=this,n=function(){var n=e.Deferred();return!0!==t.validationResult&&n.reject(),n.resolve().promise()};return[n,n]},actualizeOptions:function(){return o.attr(this.element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(e){this.domOptions=o.objectCreate(this.parent.options),this.options=o.objectCreate(this.domOptions);for(var t in e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.actualizeOptions()},_listeners:null,on:function(e,t){this._listeners=this._listeners||{};var n=this._listeners[e]=this._listeners[e]||[];return n.push(t),this},subscribe:function(t,n){e.listenTo(this,t.toLowerCase(),n)},off:function(e,t){var n=this._listeners&&this._listeners[e];if(n)if(t)for(var r=n.length;r--;)n[r]===t&&n.splice(r,1);else delete this._listeners[e];return this},unsubscribe:function(t,n){e.unsubscribeTo(this,t.toLowerCase())},trigger:function(e,t,n){t=t||this;var r,i=this._listeners&&this._listeners[e];if(i)for(var s=i.length;s--;)if(r=i[s].call(t,t,n),r===!1)return r;return!this.parent||this.parent.trigger(e,t,n)},asyncIsValid:function(e,t){return o.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:e,force:t})},_findRelated:function(){return this.options.multiple?e(this.parent.element.querySelectorAll("["+this.options.namespace+'multiple="'+this.options.multiple+'"]')):this.$element}};var f=function(e,t){var n=e.match(/^\s*\[(.*)\]\s*$/);if(!n)throw'Requirement is not an array: "'+e+'"';var r=n[1].split(",").map(o.trimString);if(r.length!==t)throw"Requirement has "+r.length+" values when "+t+" are needed";return r},l=function(e,t,n){var r=null,i={};for(var s in e)if(s){var u=n(s);"string"==typeof u&&(u=o.parseRequirement(e[s],u)),i[s]=u}else r=o.parseRequirement(e[s],t);return[r,i]},c=function(t){e.extend(!0,this,t)};c.prototype={validate:function(e,t){if(this.fn)return arguments.length>3&&(t=[].slice.call(arguments,1,-1)),this.fn(e,t);if(Array.isArray(e)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}var n=arguments[arguments.length-1];if(this.validateDate&&n._isDateInput())return arguments[0]=o.parse.date(arguments[0]),null!==arguments[0]&&this.validateDate.apply(this,arguments);if(this.validateNumber)return!isNaN(e)&&(arguments[0]=parseFloat(arguments[0]),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function(t,n){if("string"!=typeof t)return Array.isArray(t)?t:[t];var r=this.requirementType;if(Array.isArray(r)){for(var i=f(t,r.length),s=0;s<i.length;s++)i[s]=o.parseRequirement(r[s],i[s]);return i}return e.isPlainObject(r)?l(r,t,n):[o.parseRequirement(r,t)]},requirementType:"string",priority:2};var h=function(e,t){this.__class__="ValidatorRegistry",this.locale="en",this.init(e||{},t||{})},p={email:/^((([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,date:{test:function(e){return null!==o.parse.date(e)}},url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$")};p.range=p.number;var d=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},v=function(e,t){return t.map(o.parse[e])},m=function(e,t){return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.pop(),t.apply(void 0,[n].concat(_toConsumableArray(v(e,i))))}},g=function(e){return{validateDate:m("date",e),validateNumber:m("number",e),requirementType:e.length<=2?"string":["string","string"],priority:30}};h.prototype={init:function(e,t){this.catalog=t,this.validators=_extends({},this.validators);for(var n in e)this.addValidator(n,e[n].fn,e[n].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function(e){if("undefined"==typeof this.catalog[e])throw new Error(e+" is not available in the catalog");return this.locale=e,this},addCatalog:function(e,t,n){return"object"==typeof t&&(this.catalog[e]=t),!0===n?this.setLocale(e):this},addMessage:function(e,t,n){return"undefined"==typeof this.catalog[e]&&(this.catalog[e]={}),this.catalog[e][t]=n,this},addMessages:function(e,t){for(var n in t)this.addMessage(e,n,t[n]);return this},addValidator:function(e,t,n){if(this.validators[e])o.warn('Validator "'+e+'" is already defined.');else if(u.hasOwnProperty(e))return void o.warn('"'+e+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},hasValidator:function(e){return!!this.validators[e]},updateValidator:function(e,t,n){return this.validators[e]?this._setValidator.apply(this,arguments):(o.warn('Validator "'+e+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(e){return this.validators[e]||o.warn('Validator "'+e+'" is not defined.'),delete this.validators[e],this},_setValidator:function(e,t,n){"object"!=typeof t&&(t={fn:t,priority:n}),t.validate||(t=new c(t)),this.validators[e]=t;for(var r in t.messages||{})this.addMessage(r,e,t.messages[r]);return this},getErrorMessage:function(e){var t;if("type"===e.name){var n=this.catalog[this.locale][e.name]||{};t=n[e.requirements]}else t=this.formatMessage(this.catalog[this.locale][e.name],e.requirements);return t||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(e,t){if("object"==typeof t){for(var n in t)e=this.formatMessage(e,t[n]);return e}return"string"==typeof e?e.replace(/%s/i,t):""},validators:{notblank:{validateString:function(e){return/\S/.test(e)},priority:2},required:{validateMultiple:function(e){return e.length>0},validateString:function(e){return/\S/.test(e)},priority:512},type:{validateString:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.step,i=void 0===r?"any":r,s=n.base,o=void 0===s?0:s,u=p[t];if(!u)throw new Error("validator type `"+t+"` is not supported");if(!u.test(e))return!1;if("number"===t&&!/^any$/i.test(i||"")){var a=Number(e),f=Math.max(d(i),d(o));if(d(a)>f)return!1;var l=function(e){return Math.round(e*Math.pow(10,f))};if((l(a)-l(o))%l(i)!=0)return!1}return!0},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function(e,t){return t.test(e)},requirementType:"regexp",priority:64},minlength:{validateString:function(e,t){return e.length>=t},requirementType:"integer",priority:30},maxlength:{validateString:function(e,t){return e.length<=t},requirementType:"integer",priority:30},length:{validateString:function(e,t,n){return e.length>=t&&e.length<=n},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(e,t){return e.length>=t},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(e,t){return e.length<=t},requirementType:"integer",priority:30},check:{validateMultiple:function(e,t,n){return e.length>=t&&e.length<=n},requirementType:["integer","integer"],priority:30},min:g(function(e,t){return e>=t}),max:g(function(e,t){return e<=t}),range:g(function(e,t,n){return e>=t&&e<=n}),equalto:{validateString:function(t,n){var r=e(n);return r.length?t===r.val():t===n},priority:256}}};var y={},b=function F(e,t,n){for(var r=[],i=[],s=0;s<e.length;s++){for(var o=!1,u=0;u<t.length;u++)if(e[s].assert.name===t[u].assert.name){o=!0;break}o?i.push(e[s]):r.push(e[s])}return{kept:i,added:r,removed:n?[]:F(t,e,!0).added}};y.Form={_actualizeTriggers:function(){var e=this;this.$element.on("submit.Parsley",function(t){e.onSubmitValidate(t)}),this.$element.on("click.Parsley",o._SubmitSelector,function(t){e.onSubmitButton(t)}),!1!==this.options.uiEnabled&&this.element.setAttribute("novalidate","")},focus:function(){if(this._focusedField=null,!0===this.validationResult||"none"===this.options.focus)return null;for(var e=0;e<this.fields.length;e++){var t=this.fields[e];if(!0!==t.validationResult&&t.validationResult.length>0&&"undefined"==typeof t.options.noFocus&&(this._focusedField=t.$element,"first"===this.options.focus))break}return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function(){this.$element.off(".Parsley")}},y.Field={_reflowUI:function(){if(this._buildUI(),this._ui){var e=b(this.validationResult,this._ui.lastValidationResult);this._ui.lastValidationResult=this.validationResult,this._manageStatusClass(),this._manageErrorsMessages(e),this._actualizeTriggers(),!e.kept.length&&!e.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers())}},getErrorsMessages:function(){if(!0===this.validationResult)return[];for(var e=[],t=0;t<this.validationResult.length;t++)e.push(this.validationResult[t].errorMessage||this._getErrorMessage(this.validationResult[t].assert));return e},addError:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.message,r=t.assert,i=t.updateClass,s=void 0===i||i;this._buildUI(),this._addError(e,{message:n,assert:r}),s&&this._errorClass()},updateError:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.message,r=t.assert,i=t.updateClass,s=void 0===i||i;this._buildUI(),this._updateError(e,{message:n,assert:r}),s&&this._errorClass()},removeError:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.updateClass,r=void 0===n||n;this._buildUI(),this._removeError(e),r&&this._manageStatusClass()},_manageStatusClass:function(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():this.validationResult.length>0?this._errorClass():this._resetClass()},_manageErrorsMessages:function(t){if("undefined"==typeof this.options.errorsMessagesDisabled){if("undefined"!=typeof this.options.errorMessage)return t.added.length||t.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(e(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(this.options.errorMessage)):this._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var n=0;n<t.removed.length;n++)this._removeError(t.removed[n].assert.name);for(n=0;n<t.added.length;n++)this._addError(t.added[n].assert.name,{message:t.added[n].errorMessage,assert:t.added[n].assert});for(n=0;n<t.kept.length;n++)this._updateError(t.kept[n].assert.name,{message:t.kept[n].errorMessage,assert:t.kept[n].assert})}},_addError:function(t,n){var r=n.message,i=n.assert;this._insertErrorWrapper(),this._ui.$errorClassHandler.attr("aria-describedby",this._ui.errorsWrapperId),this._ui.$errorsWrapper.addClass("filled").append(e(this.options.errorTemplate).addClass("parsley-"+t).html(r||this._getErrorMessage(i)))},_updateError:function(e,t){var n=t.message,r=t.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(n||this._getErrorMessage(r))},_removeError:function(e){this._ui.$errorClassHandler.removeAttr("aria-describedby"),this._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove()},_getErrorMessage:function(e){var t=e.name+"Message";return"undefined"!=typeof this.options[t]?window.Parsley.formatMessage(this.options[t],e.requirements):window.Parsley.getErrorMessage(e)},_buildUI:function(){if(!this._ui&&!1!==this.options.uiEnabled){var t={};this.element.setAttribute(this.options.namespace+"id",this.__id__),t.$errorClassHandler=this._manageClassHandler(),t.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__),t.$errorsWrapper=e(this.options.errorsWrapper).attr("id",t.errorsWrapperId),t.lastValidationResult=[],t.validationInformationVisible=!1,this._ui=t}},_manageClassHandler:function(){if("string"==typeof this.options.classHandler&&e(this.options.classHandler).length)return e(this.options.classHandler);var t=this.options.classHandler;if("string"==typeof this.options.classHandler&&"function"==typeof window[this.options.classHandler]&&(t=window[this.options.classHandler]),"function"==typeof t){var n=t.call(this,this);if("undefined"!=typeof n&&n.length)return n}else{if("object"==typeof t&&t instanceof jQuery&&t.length)return t;t&&o.warn("The class handler `"+t+"` does not exist in DOM nor as a global JS function")}return this._inputHolder()},_inputHolder:function(){return this.options.multiple&&"SELECT"!==this.element.nodeName?this.$element.parent():this.$element},_insertErrorWrapper:function(){var t=this.options.errorsContainer;if(0!==this._ui.$errorsWrapper.parent().length)return this._ui.$errorsWrapper.parent();if("string"==typeof t){if(e(t).length)return e(t).append(this._ui.$errorsWrapper);"function"==typeof window[t]?t=window[t]:o.warn("The errors container `"+t+"` does not exist in DOM nor as a global JS function")}return"function"==typeof t&&(t=t.call(this,this)),"object"==typeof t&&t.length?t.append(this._ui.$errorsWrapper):this._inputHolder().after(this._ui.$errorsWrapper)},_actualizeTriggers:function(){var e,t=this,n=this._findRelated();n.off(".Parsley"),this._failedOnce?n.on(o.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),function(){t._validateIfNeeded()}):(e=o.namespaceEvents(this.options.trigger,"Parsley"))&&n.on(e,function(e){t._validateIfNeeded(e)})},_validateIfNeeded:function(e){var t=this;e&&/key|input/.test(e.type)&&(!this._ui||!this._ui.validationInformationVisible)&&this.getValue().length<=this.options.validationThreshold||(this.options.debounce?(window.clearTimeout(this._debounced),this._debounced=window.setTimeout(function(){return t.validate()},this.options.debounce)):this.validate())},_resetUI:function(){this._failedOnce=!1,this._actualizeTriggers(),"undefined"!=typeof this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function(){this._resetUI(),"undefined"!=typeof this._ui&&this._ui.$errorsWrapper.remove(),delete this._ui},_successClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass)}};var w=function(t,n,r){this.__class__="Form",this.element=t,this.$element=e(t),this.domOptions=n,this.options=r,this.parent=window.Parsley,this.fields=[],this.validationResult=null},E={pending:null,resolved:!0,rejected:!1};w.prototype={onSubmitValidate:function(e){var t=this;if(!0!==e.parsley){var n=this._submitSource||this.$element.find(o._SubmitSelector)[0];if(this._submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),!n||null===n.getAttribute("formnovalidate")){window.Parsley._remoteCache={};var r=this.whenValidate({event:e});"resolved"===r.state()&&!1!==this._trigger("submit")||(e.stopImmediatePropagation(),e.preventDefault(),"pending"===r.state()&&r.done(function(){t._submit(n)}))}}},onSubmitButton:function(e){this._submitSource=e.currentTarget},_submit:function(t){if(!1!==this._trigger("submit")){if(t){var n=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1);0===n.length&&(n=e('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)),n.attr({name:t.getAttribute("name"),value:t.getAttribute("value")})}this.$element.trigger(_extends(e.Event("submit"),{parsley:!0}))}},validate:function(t){if(arguments.length>=1&&!e.isPlainObject(t)){o.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated.");var n=_slice.call(arguments),r=n[0],i=n[1],s=n[2];t={group:r,force:i,event:s}}return E[this.whenValidate(t).state()]},whenValidate:function(){var t,n=this,r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=r.group,s=r.force,u=r.event;this.submitEvent=u,u&&(this.submitEvent=_extends({},u,{preventDefault:function(){o.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`"),n.validationResult=!1}})),this.validationResult=!0,this._trigger("validate"),this._refreshFields();var a=this._withoutReactualizingFormOptions(function(){return e.map(n.fields,function(e){return e.whenValidate({force:s,group:i})})});return(t=o.all(a).done(function(){n._trigger("success")}).fail(function(){n.validationResult=!1,n.focus(),n._trigger("error")}).always(function(){n._trigger("validated")})).pipe.apply(t,_toConsumableArray(this._pipeAccordingToValidationResult()))},isValid:function(t){if(arguments.length>=1&&!e.isPlainObject(t)){o.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated.");var n=_slice.call(arguments),r=n[0],i=n[1];t={group:r,force:i}}return E[this.whenValid(t).state()]},whenValid:function(){var t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=n.group,i=n.force;this._refreshFields();var s=this._withoutReactualizingFormOptions(function(){return e.map(t.fields,function(e){return e.whenValid({group:r,force:i})})});return o.all(s)},refresh:function(){return this._refreshFields(),this},reset:function(){for(var e=0;e<this.fields.length;e++)this.fields[e].reset();this._trigger("reset")},destroy:function(){this._destroyUI();for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var t=this,n=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){t.$element.find(t.options.inputs).not(t.options.excluded).each(function(e,n){var r=new window.Parsley.Factory(n,{},t);if(("Field"===r.__class__||"FieldMultiple"===r.__class__)&&!0!==r.options.excluded){var i=r.__class__+"-"+r.__id__;"undefined"==typeof t.fieldsMappedById[i]&&(t.fieldsMappedById[i]=r,t.fields.push(r))}}),e.each(o.difference(n,t.fields),function(e,t){t.reset()})}),this},_withoutReactualizingFormOptions:function(e){var t=this.actualizeOptions;this.actualizeOptions=function(){return this};var n=e();return this.actualizeOptions=t,n},_trigger:function(e){return this.trigger("form:"+e)}};var S=function(e,t,n,r,i){var s=window.Parsley._validatorRegistry.validators[t],o=new c(s);r=r||e.options[t+"Priority"]||o.priority,i=!0===i,_extends(this,{validator:o,name:t,requirements:n,priority:r,isDomConstraint:i}),this._parseRequirements(e.options)},x=function(e){var t=e[0].toUpperCase();return t+e.slice(1)};S.prototype={validate:function(e,t){var n;return(n=this.validator).validate.apply(n,[e].concat(_toConsumableArray(this.requirementList),[t]))},_parseRequirements:function(e){var t=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(n){return e[t.name+x(n)]})}};var T=function(t,n,r,i){this.__class__="Field",this.element=t,this.$element=e(t),"undefined"!=typeof i&&(this.parent=i),this.options=r,this.domOptions=n,this.constraints=[],this.constraintsByName={},this.validationResult=!0,this._bindConstraints()},N={pending:null,resolved:!0,rejected:!1};T.prototype={validate:function(t){arguments.length>=1&&!e.isPlainObject(t)&&(o.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),t={options:t});var n=this.whenValidate(t);if(!n)return!0;switch(n.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function(){var e,t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=n.force,i=n.group;if(this.refresh(),!i||this._isInGroup(i))return this.value=this.getValue(),this._trigger("validate"),(e=this.whenValid({force:r,value:this.value,_refreshed:!0}).always(function(){t._reflowUI()}).done(function(){t._trigger("success")}).fail(function(){t._trigger("error")}).always(function(){t._trigger("validated")})).pipe.apply(e,_toConsumableArray(this._pipeAccordingToValidationResult()))},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(e){return"undefined"==typeof e&&(e=this.getValue()),!!e.length||!!this._isRequired()||"undefined"!=typeof this.options.validateIfEmpty},_isInGroup:function(t){return Array.isArray(this.options.group)?-1!==e.inArray(t,this.options.group):this.options.group===t},isValid:function(t){if(arguments.length>=1&&!e.isPlainObject(t)){o.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated.");var n=_slice.call(arguments),r=n[0],i=n[1];t={force:r,value:i}}var s=this.whenValid(t);return!s||N[s.state()]},whenValid:function(){var t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=n.force,i=void 0!==r&&r,s=n.value,u=n.group,a=n._refreshed;if(a||this.refresh(),!u||this._isInGroup(u)){if(this.validationResult=!0,!this.hasConstraints())return e.when();if("undefined"!=typeof s&&null!==s||(s=this.getValue()),!this.needsValidation(s)&&!0!==i)return e.when();var f=this._getGroupedConstraints(),l=[];return e.each(f,function(n,r){var i=o.all(e.map(r,function(e){return t._validateConstraint(s,e)}));if(l.push(i),"rejected"===i.state())return!1}),o.all(l)}},_validateConstraint:function(t,n){var r=this,i=n.validate(t,this);return!1===i&&(i=e.Deferred().reject()),o.all([i]).fail(function(e){r.validationResult instanceof Array||(r.validationResult=[]),r.validationResult.push({assert:n,errorMessage:"string"==typeof e&&e})})},getValue:function(){var e;return e="function"==typeof this.options.value?this.options.value(this):"undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof e||null===e?"":this._handleWhitespace(e)},reset:function(){return this._resetUI(),this._trigger("reset")},destroy:function(){this._destroyUI(),this.$element.removeData("Parsley"),this.$element.removeData("FieldMultiple"),this._trigger("destroy")},refresh:function(){return this._refreshConstraints(),this},_refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},refreshConstraints:function(){return o.warnOnce("Parsley's refreshConstraints is deprecated. Please use refresh"),this.refresh()},addConstraint:function(e,t,n,r){if(window.Parsley._validatorRegistry.validators[e]){var i=new S(this,e,t,n,r);"undefined"!==this.constraintsByName[i.name]&&this.removeConstraint(i.name),this.constraints.push(i),this.constraintsByName[i.name]=i}return this},removeConstraint:function(e){for(var t=0;t<this.constraints.length;t++)if(e===this.constraints[t].name){this.constraints.splice(t,1);break}return delete this.constraintsByName[e],this},updateConstraint:function(e,t,n){return this.removeConstraint(e).addConstraint(e,t,n)},_bindConstraints:function(){for(var e=[],t={},n=0;n<this.constraints.length;n++)!1===this.constraints[n].isDomConstraint&&(e.push(this.constraints[n]),t[this.constraints[n].name]=this.constraints[n]);this.constraints=e,this.constraintsByName=t;for(var r in this.options)this.addConstraint(r,this.options[r],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){null!==this.element.getAttribute("required")&&this.addConstraint("required",!0,void 0,!0),null!==this.element.getAttribute("pattern")&&this.addConstraint("pattern",this.element.getAttribute("pattern"),void 0,!0);var e=this.element.getAttribute("min"),t=this.element.getAttribute("max");null!==e&&null!==t?this.addConstraint("range",[e,t],void 0,!0):null!==e?this.addConstraint("min",e,void 0,!0):null!==t&&this.addConstraint("max",t,void 0,!0),null!==this.element.getAttribute("minlength")&&null!==this.element.getAttribute("maxlength")?this.addConstraint("length",[this.element.getAttribute("minlength"),this.element.getAttribute("maxlength")],void 0,!0):null!==this.element.getAttribute("minlength")?this.addConstraint("minlength",this.element.getAttribute("minlength"),void 0,!0):null!==this.element.getAttribute("maxlength")&&this.addConstraint("maxlength",this.element.getAttribute("maxlength"),void 0,!0);var n=o.getType(this.element);return"number"===n?this.addConstraint("type",["number",{step:this.element.getAttribute("step")||"1",base:e||this.element.getAttribute("value")}],void 0,!0):/^(email|url|range|date)$/i.test(n)?this.addConstraint("type",n,void 0,!0):this},_isRequired:function(){return"undefined"!=typeof this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_trigger:function(e){return this.trigger("field:"+e)},_handleWhitespace:function(e){return!0===this.options.trimValue&&o.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(e=e.replace(/\s{2,}/g," ")),"trim"!==this.options.whitespace&&"squish"!==this.options.whitespace&&!0!==this.options.trimValue||(e=o.trimString(e)),e},_isDateInput:function(){var e=this.constraintsByName.type;return e&&"date"===e.requirements},_getGroupedConstraints:function(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var e=[],t={},n=0;n<this.constraints.length;n++){var r=this.constraints[n].priority;t[r]||e.push(t[r]=[]),t[r].push(this.constraints[n])}return e.sort(function(e,t){return t[0].priority-e[0].priority}),e}};var C=T,k=function(){this.__class__="FieldMultiple"};k.prototype={addElement:function(e){return this.$elements.push(e),this},_refreshConstraints:function(){var t;if(this.constraints=[],"SELECT"===this.element.nodeName)return this.actualizeOptions()._bindConstraints(),this;for(var n=0;n<this.$elements.length;n++)if(e("html").has(this.$elements[n]).length){t=this.$elements[n].data("FieldMultiple")._refreshConstraints().constraints;for(var r=0;r<t.length;r++)this.addConstraint(t[r].name,t[r].requirements,t[r].priority,t[r].isDomConstraint)}else this.$elements.splice(n,1);return this},getValue:function(){if("function"==typeof this.options.value)return this.options.value(this);if("undefined"!=typeof this.options.value)return this.options.value;if("INPUT"===this.element.nodeName){var t=o.getType(this.element);if("radio"===t)return this._findRelated().filter(":checked").val()||"";if("checkbox"===t){var n=[];return this._findRelated().filter(":checked").each(function(){n.push(e(this).val())}),n}}return"SELECT"===this.element.nodeName&&null===this.$element.val()?[]:this.$element.val()},_init:function(){return this.$elements=[this.$element],this}};var L=function(t,n,r){this.element=t,this.$element=e(t);var i=this.$element.data("Parsley");if(i)return"undefined"!=typeof r&&i.parent===window.Parsley&&(i.parent=r,i._resetOptions(i.options)),"object"==typeof n&&_extends(i.options,n),i;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if("undefined"!=typeof r&&"Form"!==r.__class__)throw new Error("Parent instance must be a Form instance");return this.parent=r||window.Parsley,this.init(n)};L.prototype={init:function(e){return this.__class__="Parsley",this.__version__="2.8.1",this.__id__=o.generateID(),this._resetOptions(e),"FORM"===this.element.nodeName||o.checkAttr(this.element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function(){var e=o.getType(this.element);return"radio"===e||"checkbox"===e||"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple")},handleMultiple:function(){var t,n,r=this;if(this.options.multiple=this.options.multiple||(t=this.element.getAttribute("name"))||this.element.getAttribute("id"),"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return o.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),t&&e('input[name="'+t+'"]').each(function(e,t){var n=o.getType(t);"radio"!==n&&"checkbox"!==n||t.setAttribute(r.options.namespace+"multiple",r.options.multiple)});for(var i=this._findRelated(),s=0;s<i.length;s++)if(n=e(i.get(s)).data("Parsley"),"undefined"!=typeof n){this.$element.data("FieldMultiple")||n.addElement(this.$element);break}return this.bind("parsleyField",!0),n||this.bind("parsleyFieldMultiple")},bind:function(t,n){var r;switch(t){case"parsleyForm":r=e.extend(new w(this.element,this.domOptions,this.options),new a,window.ParsleyExtend)._bindFields();break;case"parsleyField":r=e.extend(new C(this.element,this.domOptions,this.options,this.parent),new a,window.ParsleyExtend);break;case"parsleyFieldMultiple":r=e.extend(new C(this.element,this.domOptions,this.options,this.parent),new k,new a,window.ParsleyExtend)._init();break;default:throw new Error(t+"is not a supported Parsley type")}return this.options.multiple&&o.setAttr(this.element,this.options.namespace,"multiple",this.options.multiple),"undefined"!=typeof n?(this.$element.data("FieldMultiple",r),r):(this.$element.data("Parsley",r),r._actualizeTriggers(),r._trigger("init"),r)}};var A=e.fn.jquery.split(".");if(parseInt(A[0])<=1&&parseInt(A[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";A.forEach||o.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var O=_extends(new a,{element:document,$element:e(document),actualizeOptions:null,_resetOptions:null,Factory:L,version:"2.8.1"});_extends(C.prototype,y.Field,a.prototype),_extends(w.prototype,y.Form,a.prototype),_extends(L.prototype,a.prototype),e.fn.parsley=e.fn.psly=function(t){if(this.length>1){var n=[];return this.each(function(){n.push(e(this).parsley(t))}),n}if(0!=this.length)return new L(this[0],t)},"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),O.options=_extends(o.objectCreate(u),window.ParsleyConfig),window.ParsleyConfig=O.options,window.Parsley=window.psly=O,O.Utils=o,window.ParsleyUtils={},e.each(o,function(e,t){"function"==typeof t&&(window.ParsleyUtils[e]=function(){return o.warnOnce("Accessing `window.ParsleyUtils` is deprecated. Use `window.Parsley.Utils` instead."),o[e].apply(o,arguments)})});var M=window.Parsley._validatorRegistry=new h(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},e.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator hasValidator".split(" "),function(e,t){window.Parsley[t]=function(){return M[t].apply(M,arguments)},window.ParsleyValidator[t]=function(){var e;return o.warnOnce("Accessing the method '"+t+"' through Validator is deprecated. Simply call 'window.Parsley."+t+"(...)'"),(e=window.Parsley)[t].apply(e,arguments)}}),window.Parsley.UI=y,window.ParsleyUI={removeError:function(e,t,n){var r=!0!==n;return o.warnOnce("Accessing UI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),e.removeError(t,{updateClass:r})},getErrorsMessages:function(e){return o.warnOnce("Accessing UI is deprecated. Call 'getErrorsMessages' on the instance directly."),e.getErrorsMessages()}},e.each("addError updateError".split(" "),function(e,t){window.ParsleyUI[t]=function(e,n,r,i,s){var u=!0!==s;return o.warnOnce("Accessing UI is deprecated. Call '"+t+"' on the instance directly. Please comment in issue 1073 as to your need to call this method."),e[t](n,{message:r,assert:i,updateClass:u})}}),!1!==window.ParsleyConfig.autoBind&&e(function(){e("[data-parsley-validate]").length&&e("[data-parsley-validate]").parsley()});var _=e({}),D=function(){o.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")},P="parsley:";e.listen=function(e,r){var i;if(D(),"object"==typeof arguments[1]&&"function"==typeof arguments[2]&&(i=arguments[1],r=arguments[2]),"function"!=typeof r)throw new Error("Wrong parameters");window.Parsley.on(n(e),t(r,i))},e.listenTo=function(e,r,i){if(D(),!(e instanceof C||e instanceof w))throw new Error("Must give Parsley instance");if("string"!=typeof r||"function"!=typeof i)throw new Error("Wrong parameters");e.on(n(r),t(i))},e.unsubscribe=function(e,t){if(D(),"string"!=typeof e||"function"!=typeof t)throw new Error("Wrong arguments");window.Parsley.off(n(e),t.parsleyAdaptedCallback)},e.unsubscribeTo=function(e,t){if(D(),!(e instanceof C||e instanceof w))throw new Error("Must give Parsley instance");e.off(n(t))},e.unsubscribeAll=function(t){D(),window.Parsley.off(n(t)),e("form,input,textarea,select").each(function(){var r=e(this).data("Parsley");r&&r.off(n(t))})},e.emit=function(e,t){var r;D();var i=t instanceof C||t instanceof w,s=Array.prototype.slice.call(arguments,i?2:1);s.unshift(n(e)),i||(t=window.Parsley),(r=t).trigger.apply(r,_toConsumableArray(s))},e.extend(!0,O,{asyncValidators:{"default":{fn:function(e){return e.status>=200&&e.status<300},url:!1},reverse:{fn:function(e){return e.status<200||e.status>=300},url:!1}},addAsyncValidator:function(e,t,n,r){return O.asyncValidators[e]={fn:t,url:n||!1,options:r||{}},this}}),O.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function(t,n,r,i){var s,o,u={},a=r.validator||(!0===r.reverse?"reverse":"default");if("undefined"==typeof O.asyncValidators[a])throw new Error("Calling an undefined async validator: `"+a+"`");n=O.asyncValidators[a].url||n,n.indexOf("{value}")>-1?n=n.replace("{value}",encodeURIComponent(t)):u[i.element.getAttribute("name")||i.element.getAttribute("id")]=t;var f=e.extend(!0,r.options||{},O.asyncValidators[a].options);s=e.extend(!0,{},{url:n,data:u,type:"GET"},f),i.trigger("field:ajaxoptions",i,s),o=e.param(s),"undefined"==typeof O._remoteCache&&(O._remoteCache={});var l=O._remoteCache[o]=O._remoteCache[o]||e.ajax(s),c=function(){var t=O.asyncValidators[a].fn.call(i,l,n,r);return t||(t=e.Deferred().reject()),e.when(t)};return l.then(c,c)},priority:-1}),O.on("form:submit",function(){O._remoteCache={}}),a.prototype.addAsyncValidator=function(){return o.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),O.addAsyncValidator.apply(O,arguments)},O.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),O.setLocale("en");var H=new r;H.install();var B=O;return B}),define("validators/validHtml",["jquery","parsley"],function(e,t){"use strict";var n=/<\/?[\w\s="/.':;#-\/]+>/gi;t.addValidator("validHtml",{requirementType:"string",validateString:function(t){var r,i,s;return r=e("<div />"),s=t.match(/&.*?;/g)||[],e.each(s,function(e,n){t=t.replace(new RegExp(n,"g"),r.html(n).html())}),t=t.replace(/\=\"\"/g,"").toLowerCase(),r.html(t),i=r.html().toLowerCase(),i.length&&(i=i.replace(/\=\"\"/g,"")),!!t.match(n)&&t===i},messages:{en:"This is not valid HTML"}})}),define("validators/validTime",["jquery","parsley"],function(e,t){"use strict";var n=/^([0-9]|1[0-2]):[0-5][0-9](am|pm)$/;t.addValidator("validTime",{requirementType:"string",validateString:function(e){return n.test(e)},messages:{en:"This is not a valid time"}})}),define("validators/validSvg",["jquery","parsley"],function(e,t){"use strict";var n=/^<svg(.+)<\/svg>$/;t.addValidator("validSvg",{requirementType:"string",validateString:function(t){var r;return t=e.trim(t).replace(/\n/g,""),r=e("<div />"),r.html(t),n.test(t)&&r.children().length===1&&r.find(":first-child")[0].tagName.toLowerCase()==="svg"},messages:{en:"This is not valid SVG"}})}),define("validators/validUrl",["jquery","parsley"],function(e,t){"use strict";var n=/^https?:\/\//i;t.addValidator("validUrl",{requirementType:"string",validateString:function(e){return n.test(e)},messages:{en:"This is not valid URL. Missing http:// or https://"}})}),define("validators/validEmbed",["jquery","parsley"],function(e,t){"use strict";var n=/^<iframe\s(.*?)<\/iframe>$/i;t.addValidator("validEmbed",{requirementType:"string",validateString:function(t){return n.test(e.trim(t))},messages:{en:"Please make sure your embed code contains an &lt;iframe&gt; with a closing tag &lt;/iframe&gt;"}})}),define("validators/validComparison",["jquery","parsley"],function(e,t){"use strict";var n=function(t){return isNaN(+t)?parseFloat(e(t).val()):+t};t.addValidator("gte",{validateString:function(e,t){return parseFloat(e)>=n(t)},priority:32}),t.addValidator("lte",{validateString:function(e,t){return parseFloat(e)<=n(t)},priority:32})}),define("validators/validDate",["jquery","parsley"],function(e,t){"use strict";var n=/^(1[0-2]|[0]{0,1}[1-9])\/([0-2]{0,1}[0-9]|3[0-1])\/(\d{4})$/;t.addValidator("validDate",{requirementType:"string",validateString:function(e){return n.test(e)},messages:{en:"This is not a valid date"}})}),define("validators/validPhonenumber",["jquery","parsley"],function(e,t){"use strict";var n=/^[0-9ï¼-ï¼™Ù -Ù©Û°-Û¹]{2}$|^[+ï¼‹]*(?:[-xâ€-â€•âˆ’ãƒ¼ï¼-ï¼ ()ï¼ˆï¼‰ï¼»ï¼½.\[\]/~â“âˆ¼ï½ž*]*[0-9ï¼-ï¼™Ù -Ù©Û°-Û¹]){3,}[-xâ€-â€•âˆ’ãƒ¼ï¼-ï¼ ()ï¼ˆï¼‰ï¼»ï¼½.\[\]/~â“âˆ¼ï½ž*0-9ï¼-ï¼™Ù -Ù©Û°-Û¹]*(?:;ext=([0-9ï¼-ï¼™Ù -Ù©Û°-Û¹]{1,7})|[  \t,]*(?:e?xt(?:ensi(?:Ã³?|Ã³))?n?|ï½…?ï½˜ï½”ï½Ž?|[;,xï½˜#ï¼ƒ~ï½ž]|int|anexo|ï½‰ï½Žï½”)[:\.ï¼Ž]?[  \t,-]*([0-9ï¼-ï¼™Ù -Ù©Û°-Û¹]{1,7})#?|[- ]+([0-9ï¼-ï¼™Ù -Ù©Û°-Û¹]{1,5})#)?$/i;t.addValidator("validPhonenumber",{requirementType:"string",validateString:function(e){return n.test(e)},messages:{en:"Not a valid phone number"}})}),define("factories/validatorFactory",["jquery","parsley","validators/validHtml","validators/validTime","validators/validSvg","validators/validUrl","validators/validEmbed","validators/validComparison","validators/validDate","validators/validPhonenumber"],function(e){"use strict";var t=function(n){var r,i,s,o,u;return r=t.markup,i=e.extend(!0,{validatorOptions:{namespace:"data-validator-",errorClass:n.m.INVALID,successClass:n.m.VALID,classHandler:function(){return n.internal.$e},errorsContainer:function(){return n.elements=n.elements||{},n.elements.validationMessage},errorsWrapper:'<div class="validation-messages"></div>',errorTemplate:'<p class="validation-message"></p>',excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden], [disabled], :hidden, .built-form.variant-mock input, .built-form.variant-mock textarea, .built-form.variant-mock select",inputs:"input, textarea, select, [contenteditable], .editable-content"}},n.o.validatorOptions),s={init:function(){s.initParsley(),s.bindEvents()},initParsley:function(){var e=n.$e.first();n.internal.validator=e.parsley(i.validatorOptions)},bindEvents:function(){var e=n.internal.validator;e.on("field:success",s.setValid),e.on("form:success",s.setValid),e.on("field:error",s.setInvalid),e.on("form:error",s.setInvalid)},setValid:function(){var e=n.internal.$e.closest("."+r.FIELD);e.addClass(n.m.VALID),e.removeClass(n.m.INVALID)},setInvalid:function(t){var i=n.internal.$e.closest("."+r.FIELD);t=t||{},i.removeClass(n.m.VALID),i.addClass(n.m.INVALID),t.silent||(n.internal.$e[0].tagName==="FORM"?n.internal.$e.trigger("form:error"):e.isFunction(n.internal.validator.getErrorsMessages)&&n.internal.$e.trigger("field:error",{label:n.fn.getLabel(),errorMessages:n.internal.validator.getErrorsMessages()}))},validate:function(){n.internal.validator.validate()},isValid:function(){return n.fn.isValid?n.fn.isValid():n.internal.validator.isValid()},showError:function(e,t){var r,i,o;t=t||"serverError",r=n.internal.validator,i=r._ui?r._ui.$errorsWrapper.find(".parsley-"+t).length>0:!1,o=n.internal.validator.getErrorsMessages(),i?r.updateError(t,{message:e}):r.addError(t,{message:e}),o.push(e),n.internal.$e.trigger("field:error",{label:n.fn.getLabel(),errorMessages:o}),s.setInvalid({silent:!0})},removeError:function(e){var t;e=e||"serverError",t=n.internal.validator,t.removeError(e)},reset:function(){n.internal.validator.reset()},onValidationEvent:function(e,t){n.internal.validator.on(e,t)},offValidationEvent:function(e,t){n.internal.validator.off(e,t)}},o={validate:s.validate,isValid:s.isValid,setValid:s.setValid,setInvalid:s.setInvalid,showError:s.showError,removeError:s.removeError,resetValidation:s.reset,onValidationEvent:s.onValidationEvent,offValidationEvent:s.offValidationEvent},e.extend(n.self,o),u={create:s.init},u};return t.markup={FIELD:"field"},t}),define("forms/widgets/MaxLengthLimiter",["jquery","factories/moduleFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c;i=this,o=n.markup,s=e.extend({$e:null,selector:"[maxlength]"},r),u={name:"MaxLengthLimiter",$e:s.$e||e(s.selector),field:s.field||null,maxLength:null,components:{maxLengthInput:{selector:"[maxlength]"},charCount:{selector:".char-count"}},events:{"change @maxLengthInput":"maxLengthInputChange","keyup @maxLengthInput":"maxLengthInputChange"}},a={},f={init:function(){u.field=u.field||u.$e.data("fieldInstance"),u.maxLength=a.maxLengthInput.prop("maxlength"),f.updateCharCount()},handleChange:function(){f.updateCharCount()},updateCharCount:function(){var e;if(!a.charCount)return;e=u.field.getVal().length,a.charCount.html(e+"/"+u.maxLength),e>u.maxLength&&f.capValue()},capValue:function(){var e,t;e=u.field.getVal(),t=e.substr(0,u.maxLength),u.field.setVal(t)}},l={maxLengthInputChange:function(){f.handleChange()}},c={},t({self:i,o:s,m:o,internal:u,elements:a,fn:f,handlers:l,api:c}).create()};return n.markup={},n}),define("forms/widgets/AutoHeight",["jquery","factories/moduleFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c;i=this,o=n.markup={},s=e.extend({$e:null,selector:"[autoheight]"},r),u={name:"AutoHeight",$e:s.$e||e(s.selector),inputLineHeight:null,components:{autoHeightInput:{selector:"[autoheight]"}},events:{"change @autoHeightInput":"autoHeightInputChange","keyup @autoHeightInput":"autoHeightInputChange"}},a={},f={init:function(){u.inputLineHeight=parseInt(a.autoHeightInput.css("line-height"),10),f.updateInputHeight()},handleChange:function(){f.updateInputHeight()},updateInputHeight:function(){a.autoHeightInput.css({height:u.inputLineHeight+"px"}),a.autoHeightInput.css({height:a.autoHeightInput[0].scrollHeight+"px"})}},l={autoHeightInputChange:function(){f.handleChange()}},c={},t({self:i,o:s,m:o,internal:u,elements:a,fn:f,handlers:l,api:c}).create()};return n.markup={},n}),define("forms/widgets/AutoSlug",["jquery","factories/moduleFactory","utils/stringUtil"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h;s=this,u=r.markup={},o=e.extend({$e:null,selector:"[autoslug]"},i),a={name:"AutoSlug",$e:o.$e||e(o.selector),field:o.field,targetField:null,enabled:!1,formInstance:null,components:{form:{selector:"^form"},slugPrefix:{selector:".slug-prefix"}},events:{"formReady !form":"formReady"}},f={},l={init:function(){a.formInstance=f.form.data("formInstance"),a.formInstance.isReady()&&(l.getTargetField(),l.getPrefixTargetField())},getTargetField:function(){var e;e=a.$e.data("autoslugTarget"),a.targetField=a.formInstance.getField(e),f.targetFieldInput=a.targetField.getFieldInput(),f.targetFieldInput.on("focus.autoslug",function(){a.enabled=a.field.isBlank()}),f.targetFieldInput.on("keyup.autoslug blur.autoslug",function(){l.updateSlug()})},getPrefixTargetField:function(){var e;e=a.$e.data("autoslugPrefixTarget");if(!e)return;f.form.on("change",function(){l.updatePrefix(e)})},updateSlug:function(){var e,t;a.enabled&&(e=a.targetField.getVal(),t=n.slugify(e),a.field.setVal(t))},updatePrefix:function(e){var t,n,r,i,s;t=f.form.find('[name="'+e+'"]'),n=a.$e.data("prefixHost");if(!t.length)return;t.hasClass("json-field")?(i=t.data("fieldInstance").getFullVal(),r=i.read_url.replace("overview/","")):t[0].tagName==="SELECT"&&(s=t.find(":selected"),r=s.data("readUrl").replace("overview/","")),f.slugPrefix.html(n+r),a.$e.data("prefixPath",r)},beforeDestroy:function(){f.targetFieldInput.off("focus.autoslug"),f.targetFieldInput.off("keyup.autoslug"),f.targetFieldInput.off("blur.autoslug")}},c={formReady:function(){l.getTargetField(),l.getPrefixTargetField()}},h={},t({self:s,o:o,m:u,internal:a,elements:f,fn:l,handlers:c,api:h}).create()};return r.markup={},r}),function(e){typeof define=="function"&&define.amd?define("jquery.cookie",["jquery"],e):typeof exports=="object"?e(require("jquery")):e(jQuery)}(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function r(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function s(e){e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(t," ")),u.json?JSON.parse(e):e}catch(n){}}function o(t,n){var r=u.raw?t:s(t);return e.isFunction(n)?n(r):r}var t=/\+/g,u=e.cookie=function(t,s,a){if(s!==undefined&&!e.isFunction(s)){a=e.extend({},u.defaults,a);if(typeof a.expires=="number"){var f=a.expires,l=a.expires=new Date;l.setTime(+l+f*864e5)}return document.cookie=[n(t),"=",i(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var c=t?undefined:{},h=document.cookie?document.cookie.split("; "):[];for(var p=0,d=h.length;p<d;p++){var v=h[p].split("="),m=r(v.shift()),g=v.join("=");if(t&&t===m){c=o(g,s);break}!t&&(g=o(g))!==undefined&&(c[m]=g)}return c};u.defaults={},e.removeCookie=function(t,n){return e.cookie(t)===undefined?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),define("services/Xhr",["jquery","jquery.cookie"],function(e){"use strict";var t=function(t){var n,r,i,s,o,u;n=this,u=require("core"),r=e.extend(!0,{xhrSettings:{url:window.location.href,contentType:"application/json; charest=utf-8",crossDomain:!1,dataType:"json",headers:{},method:{},beforeSend:function(t){t.setRequestHeader("X-CSRFToken",e.cookie("csrftoken"))},error:function(){},success:function(){},complete:function(){}},endpoints:{}},t),i={serverErrorRegex:/^5[0-9]{2}$/,modalsManager:u.getInstance("modalsManager"),jqXHR:null},s={get:function(t,n){var i={url:r.endpoints.get||r.xhrSettings.url,method:"GET",data:t};return n=n||{},s.send(e.extend(!0,i,n))},getHtml:function(t,n){var r={url:t,method:"GET",contentType:"text/plain; charest=utf-8",dataType:"html"};return n=n||{},s.send(e.extend(!0,r,n))},post:function(t,n){var i={url:r.endpoints.post||r.xhrSettings.url,method:"POST",data:t};return n=n||{},s.send(e.extend(!0,i,n))},put:function(t,n){var i={url:r.endpoints.put||r.xhrSettings.url,method:"PUT",data:t};return n=n||{},s.send(e.extend(!0,i,n))},patch:function(t,n,r){var i={url:t,method:"PATCH",data:n};return r=r||{},s.send(e.extend(!0,i,r))},"delete":function(t,n){var i={url:r.endpoints.delete||r.xhrSettings.url,method:"DELETE",data:t};return n=n||{},s.send(e.extend(!0,i,n))},send:function(t){var n={},s,o;return i.jqXHR&&(i.jqXHR.abort(),i.jqXHR=null),n.sendJSON=!0,n=e.extend(!0,n,r.xhrSettings,t),n.sendJSON&&!(n.data instanceof FormData)&&(n.data=JSON.stringify(n.data)),o=n.error||function(){},n.error=function(e,t,n){i.serverErrorRegex.test(e.status)&&i.modalsManager.launchUnexpectedErrorModal({errorStr:e.status+" "+e.statusText},{size:"medium"}),o(e,t,n)},s=e.ajax(n),i.jqXHR=s,s}},o={get:s.get,post:s.post,put:s.put,patch:s.patch,"delete":s.delete,getHtml:s.getHtml},e.extend(n,o)};return t}),define("forms/widgets/SlugCheck",["jquery","factories/moduleFactory","services/Xhr","utils/functionUtil"],function(e,t,n,r){"use strict";var i=function(s){var o,u,a,f,l,c,h,p;o=this,a=i.markup={},u=e.extend({$e:null,selector:"[slugcheck]",field:null,searchDelay:250},s),f={name:"SlugCheck",$e:u.$e||e(u.selector),xhr:new n,xhrRequest:null,invalidMsg:"{{invalidSlug}} is already taken. Save with the generated slug above, or edit manually.",serverSlug:"",initialSlug:null,components:{input:{selector:"input"}},events:{change:"handleChange"}},l={},c={init:function(){c.cacheCheckEndpoint(),c.cacheSlug()},cacheCheckEndpoint:function(){f.checkEndpoint=f.$e.data("slugCheckUri")},getField:function(){return u.field||f.$e.data("fieldInstance")},cacheSlug:function(){f.initialSlug=c.getField().getVal()},checkSlug:r.debounce(function(){var e,t,n;e=c.getField(),t=e.getVal();if(!t.length||t===f.initialSlug)return;f.xhrRequest&&f.xhrRequest.abort(),f.$e.addClass(a.PROCESSING),n=c.getCheckEndpoint(t),n&&(f.xhrRequest=f.xhr.getHtml(n,{success:function(e){f.serverSlug=e,c.validateSlug(e),f.$e.removeClass(a.PROCESSING)}}))},u.searchDelay),getCheckEndpoint:function(e){var t;return f.$e.data("pathCheck")?(t=f.$e.data("prefixPath"),t?"/path-check/?path="+t+"&slug="+e:null):f.checkEndpoint+e+"/"},validateSlug:function(e){var t,n,r;e=e||f.serverSlug,t=c.getField(),n=t.getVal(),n.length&&e.length&&n!==e?(r=f.invalidMsg.replace("{{invalidSlug}}",n),t.showError(r,"invalidSlug"),t.setVal(e,{silent:!0})):t.removeError("invalidSlug")}},h={handleChange:function(){c.checkSlug()}},p={},t({self:o,o:u,m:a,internal:f,elements:l,fn:c,handlers:h,api:p}).create()};return i.markup={},i}),define("factories/fieldFactory",["jquery","factories/moduleFactory","factories/validatorFactory","utils/statesUtil","utils/stringUtil","forms/widgets/MaxLengthLimiter","forms/widgets/AutoHeight","forms/widgets/AutoSlug","forms/widgets/SlugCheck"],function(e,t,n,r,i,s,o,u,a){"use strict";var f=function(r){var l,c,h,p,d,v;return l={widgets:{"[maxlength]":s,"[autoheight]":o,"[autoslug]":u,"[slugcheck]":a},components:{parentForm:{selector:"^form"}},events:{"click.fieldFactory @customControl":"fieldFactoryCustomControlClick","focus.fieldFactory @nativeInput":"fieldFactoryNativeInputFocus","change.fieldFactory @nativeInput":"fieldFactoryNativeInputChange","blur.fieldFactory @nativeInput":"fieldFactoryNativeInputBlur"}},c=f.markup,h={init:function(){t(r).extend({internal:r.internal.withoutNativeInput?{}:l,handlers:r.internal.withoutNativeInput?{}:p,fn:d}).create(),h.ensureTabIndex(),h.initValidator(),h.setValueState(),h.applyWidgets(),r.internal.cachedVal=r.fn.getVal(),r.internal.$e.data("fieldInstance",r.self)},getFieldInput:function(){return r.internal.withoutNativeInput?r.internal.$e:r.elements.nativeInput},ensureTabIndex:function(){var e=h.getFieldInput();!e.attr("tabindex")&&!r.internal.noTabIndex&&e.attr("tabindex",0)},initValidator:function(){n({$e:h.getFieldInput(),self:r.self,o:r.o,internal:r.internal,elements:r.elements,fn:r.fn,m:r.m}).create()},setValueState:function(){r.internal.$e.toggleClass(c.HAS_VALUE,!r.fn.isBlank())},applyWidgets:function(){e.each(l.widgets,function(e,t){h.getFieldInput().is(e)&&new t({$e:r.internal.$e,field:r.self})})},setVal:function(e,t){var n=h.getFieldInput(),i=r.internal.valMethod||"val";t=t||{},n[i](e),t.silent||(n.trigger("change",e),r.internal.withoutNativeInput&&r.self.validate()),t.isDefault&&n.trigger("change:default",e)},setDefaultVal:function(e,t){t=t||{},t.isDefault=!0,r.fn.setVal(e,t)},getVal:function(){var t=h.getFieldInput(),n=r.internal.valMethod||"val",i=t[n]();return typeof i=="string"&&(i=e.trim(i)),i==="null"&&(i=null),t.attr("type")==="file"&&(i=t[0].files[0]),i},enable:function(){var e=h.getFieldInput();e.prop("disabled",!1),r.internal.$e.removeClass(c.DISABLED)},disable:function(){var e=h.getFieldInput();e.prop("disabled",!0),r.internal.$e.addClass(c.DISABLED)},reset:function(e){r.fn.setVal("",e)},focus:function(){var e=h.getFieldInput();e.focus(),h.setFocusState()},blur:function(){var e=h.getFieldInput();e.blur(),h.unsetFocusState()},setFocusState:function(){r.internal.$e.addClass(c.FOCUS)},unsetFocusState:function(){r.internal.$e.removeClass(c.FOCUS)},hasFocus:function(){var e=h.getFieldInput();return r.internal.$e.hasClass(c.FOCUS)&&e[0]===document.activeElement},isBlank:function(){return e.trim(r.fn.getVal()).length===0},getName:function(){var e=h.getFieldInput();return e.attr("name")},nullIfBlank:function(){return!!r.internal.$e.data("nullIfBlank")},ignore:function(){return!!r.internal.$e.data("ignore")},isReady:function(){return r.internal.$e.data("fieldReady")},getLabel:function(){var t,n;return t=r.internal.$e.siblings("label"),t.length?n=t.map(function(){return e.trim(this.textContent.replace(/\*/gi,""))}).get():n=e.map(h.getName().split("_"),function(e){return i.capitalize(e)}),r.elements.parentForm&&r.elements.parentForm.hasClass(f.markup.SETTINGS_FORM)&&n.unshift("Settings /"),n.join(" ")}},p={fieldFactoryCustomControlClick:function(){r.fn.focus()},fieldFactoryNativeInputFocus:function(){h.setFocusState(),h.setValueState()},fieldFactoryNativeInputChange:function(){h.setValueState(),r.self.validate()},fieldFactoryNativeInputBlur:function(){h.unsetFocusState(),h.setValueState()}},d={setVal:h.setVal,setDefaultVal:h.setDefaultVal,getVal:h.getVal,enable:h.enable,disable:h.disable,reset:h.reset,focus:h.focus,blur:h.blur,hasFocus:h.hasFocus,isBlank:h.isBlank,getName:h.getName,getFieldInput:h.getFieldInput,nullIfBlank:h.nullIfBlank,ignore:h.ignore,isReady:h.isReady,getLabel:h.getLabel},v={create:h.init,extend:h.extend},e.extend(r.self,d),v};return f.markup={SETTINGS_FORM:"variant-settings-form"},r.extend(f.markup),f}),define("forms/fields/CustomInput",["jquery","factories/fieldFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c;i=this,o=n.markup,s=e.extend({$e:null,selector:".custom-input"},r),u={name:"CustomTextInput",$e:s.$e||e(s.selector),explicitInit:!0,components:{nativeInput:{selector:["input[type=text]","input[type=password]","input[type=email]","input[type=url]","input[type=tel]","input[type=search]","input[type=number]","input[type=date]","input[type=hidden]","input[type=file]"].join(", ")}},events:{}},a={},f={init:function(){}},l={},c={},t({self:i,o:s,m:o,internal:u,elements:a,fn:f,handlers:l,api:c}).create()};return n.markup={},n}),define("forms/fields/CustomTextarea",["jquery","factories/fieldFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c;i=this,o=n.markup,s=e.extend({$e:null,selector:".custom-textarea"},r),u={name:"CustomTextarea",$e:s.$e||e(s.selector),explicitInit:!0,components:{nativeInput:{selector:"textarea"}}},a={},f={init:function(){}},l={},c={},t({self:i,o:s,m:o,internal:u,elements:a,fn:f,handlers:l,api:c}).create()};return n.markup={},n}),define("forms/fields/CustomRadio",["jquery","factories/fieldFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c;i=this,o=n.markup,s=e.extend({$e:null,selector:".custom-radio"},r),u={name:"CustomRadio",$e:s.$e||e(s.selector),explicitInit:!0,components:{nativeInput:{selector:'input[type="radio"]'}}},a={},f={init:function(){f.setDefaultValue(),s.fieldset.getEl().on("initCustomFieldsComplete",function(){f.ensureUniqueName()})},setDefaultValue:function(){var e;e=u.$e.data("defaultValue");if(!e&&typeof e!="boolean")return;f.setVal(e,{isDefault:!0})},ensureUniqueName:function(){var e,t,n;e=s.form.getFields(f.getName()),t=s.fieldset.getFields(f.getName()),n=s.fieldset.getFieldsetId(),e.length>t.length&&(a.nativeInput.data("name")||a.nativeInput.data("name",f.getName()),a.nativeInput.attr("name",f.getName()+"-"+n))},getEls:function(){var t=e();return e.each(s.fieldset.getFields(f.getName()),function(e,n){t=t.add(n.getEl())}),t},getName:function(){return a.nativeInput.data("name")||a.nativeInput.attr("name")},getVal:function(t){var n="",r;return t=t||{},a.nativeInput.is(":checked")?n=a.nativeInput.val():t.ignoreSiblings||(r=s.fieldset.getFields(f.getName()),e.each(r,function(e,t){(n+"").length||(n=t.getVal({ignoreSiblings:!0}))})),/true|false/i.test(n)&&(n=/true/.test(n)),n},setVal:function(t,n){var r=a.nativeInput.val()+""==t+"",i;n=n||{},a.nativeInput.prop("checked",r),r?n.isDefault&&a.nativeInput.trigger("change:default",t):(i=s.form.getFields(f.getName()),e.each(i,function(e,r){t+""==r.getFieldInput().val()+""&&r.getFieldInput().attr("name")===a.nativeInput.attr("name")&&r.setVal(t,n)})),!n.silent&&!n.isDefault&&a.nativeInput.trigger("change")},reset:function(){var t;t=s.form.getFields(f.getName()),e.each(t,function(e,t){t.getFieldInput().prop("checked",!1)})}},l={},c={getEls:f.getEls,getVal:f.getVal,setVal:f.setVal,reset:f.reset,getName:f.getName},t({self:i,o:s,m:o,internal:u,elements:a,fn:f,handlers:l,api:c}).create()};return n.markup={},n}),define("forms/fields/CustomCheckbox",["jquery","factories/fieldFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c;i=this,o=n.markup,s=e.extend({$e:null,selector:".custom-checkbox"},r),u={name:"CustomCheckbox",$e:s.$e||e(s.selector),explicitInit:!0,components:{nativeInput:{selector:'input[type="checkbox"]'}}},a={},f={init:function(){},getVal:function(){var e="",t;return t=a.nativeInput.val(),a.nativeInput.is(":checked")&&(e=t),t==="true"&&(e.length?e=!0:e=!1),e},setVal:function(e,t){var n=a.nativeInput.val()+""==e+"";t=t||{},a.nativeInput.prop("checked",n),t.silent||a.nativeInput.trigger("change",e),t.isDefault&&n&&a.nativeInput.trigger("change:default",e)}},l={},c={getVal:f.getVal,setVal:f.setVal},t({self:i,o:s,m:o,internal:u,elements:a,fn:f,handlers:l,api:c}).create()};return n.markup={PARTIAL:"state-partial"},n}),define("forms/fields/CustomSelect",["jquery","utils/globalElements","factories/fieldFactory","forms/widgets/DropMenu"],function(e,t,n,r){"use strict";var i=function(s){var o,u,a,f,l,c,h,p;o=this,a=i.markup,u=e.extend({$e:null,selector:".custom-select"},s),f={name:"CustomSelect",$e:u.$e||e(u.selector),placeholder:null,explicitInit:!0,focused:!1,components:{customControl:{selector:".custom-select-control"},customPlaceholder:{selector:".custom-placeholder"},nativeInput:{selector:"select"},nativeOption:{selector:"select option"},customOption:{selector:".custom-option"}},events:{"click @customControl":"customControlClick","change @nativeInput":"nativeInputChange","blur @nativeInput":"nativeInputBlur"}},l={allOptions:null},c={init:function(){f.dropMenu=new r({$e:f.$e,menuControl:".custom-select-control",menuItemsWrapper:".custom-select-options",menuItem:".custom-select-options .custom-option",onSelect:c.setValByEl}),c.getPlaceholder(),c.getInitialValue(),c.setDisabled(),c.setOptionStates(),c.cacheOptions()},getInitialValue:function(){var e;e=f.$e.data("initialVal"),e&&(e+"").length&&c.setDefaultVal(e),c.isBlank()?c.showPlaceholder():c.setCustomControlValue()},getPlaceholder:function(){f.placeholder=l.customControl.attr("placeholder")||"&nbsp;"},setDisabled:function(){c.isDisabled()&&c.disable()},setOptionStates:function(){l.nativeOption.each(function(t,n){var r,i,s,o;r=e(n),i=r.is(":disabled"),s=r.prop("value"),o=l.customOption.filter('[data-value="'+s+'"]').toggleClass(a.DISABLED,i)})},cacheOptions:function(){l.allOptions=l.nativeOption.clone()},isDisabled:function(){return l.nativeInput[0].hasAttribute("disabled")},setCustomControlValue:function(){var e=c.getVal(),t=l.nativeOption.filter('[value="'+e+'"]'),n=t.html();l.customControl.data("value",e),l.customControl.html(n),f.dropMenu&&f.dropMenu.selectItemByVal(e),c.isBlank()?c.showPlaceholder():c.hidePlaceholder()},setValByEl:function(e){e.hasClass(a.DISABLED)||c.setVal(e.data("value"))},showPlaceholder:function(){var e;l.customPlaceholder?(e=l.customPlaceholder,e.show()):e=f.placeholder,l.customControl.html(e),f.$e.addClass(a.PLACEHOLDER)},hidePlaceholder:function(){l.customPlaceholder&&l.customPlaceholder.hide(),f.$e.removeClass(a.PLACEHOLDER)},filter:function(e){l.nativeOption.each(e),f.dropMenu.filter(e),c.getComponents()},unfilter:function(){l.nativeInput.html(l.allOptions),f.dropMenu.unfilter(),c.getComponents()},disable:function(){l.nativeInput.attr("disabled",!0),f.$e.addClass(a.DISABLED)},getVal:function(){return l.nativeInput.val()},setVal:function(e,t){t=t||{},l.nativeOption.filter(":selected").prop("selected",!1);if(!!e||typeof e=="boolean")l.nativeInput[0].value=e;c.setCustomControlValue(),t.silent||f.$e.trigger("change"),t.isDefault&&l.nativeInput.trigger("change:default",e)},reset:function(e){l.nativeOption.filter(":selected").removeAttr("selected"),c.setVal("",e),c.showPlaceholder()}},h={customControlClick:function(){f.dropMenu.toggle()},nativeInputChange:function(){c.setCustomControlValue()},nativeInputBlur:function(){f.dropMenu.isActive()?setTimeout(function(){l.nativeInput.focus()},50):t.doc.one("mouseup",function(){f.dropMenu.close({delay:!0})})}},p={filter:c.filter,unfilter:c.unfilter,reset:c.reset,getVal:c.getVal,setVal:c.setVal},n({self:o,o:u,m:a,internal:f,elements:l,fn:c,handlers:h,api:p}).create()};return i.markup={},i}),define("forms/fields/LinkedCustomSelect",["jquery","factories/fieldFactory","forms/fields/CustomSelect"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h;s=this,u=r.markup,o=e.extend({$e:null,$form:null,selector:".linked-custom-select",toggleOnPartnerValue:!1},i),a={name:"LinkedCustomSelect",$e:o.$e||e(o.selector),partner:null,hasOptions:!1,explicitInit:!0,components:{customControl:{selector:".custom-select-control"},nativeInput:{selector:"select"}},events:{"change !partner":"partnerChange","field:error":"fieldError"}},f={partner:null},l={beforeInit:function(){l.linkToPartner()},init:function(){a.customSelect=new n({$e:a.$e}),a.customSelect.init(),l.filterOptions(),l.setState()},linkToPartner:function(){var e,t,n;e=a.$e.data("link-to"),t=o.form.getField(e,o.fieldset.getClosestParentName()),n=t.getEl(),f.partner=n,a.partner=t},setState:function(e){var t;a.isVariant.linkedVisibility&&(t=e||!!a.hasOptions&&!a.partner.isBlank(),a.$e.toggleClass(u.VISIBLE,t))},forceShow:function(){l.setState(!0),a.partner.forceShow&&a.partner.forceShow()},filterOptions:function(){var t=a.partner.getVal();if(!t||!t.length)return;a.hasOptions=!1,a.customSelect.unfilter(),a.customSelect.filter(function(n,r){var i,s,o;i=e(r),s=i.data("partnerValue"),o=r.tagName==="OPTION"?i.val():i.data("value"),o+="",o.length&&s.split(",").indexOf(t)>-1?a.hasOptions=!0:i.remove()})},getVal:function(){if(a.customSelect)return a.customSelect.getVal()},setVal:function(e,t){a.customSelect&&a.customSelect.setVal(e,t)}},c={partnerChange:function(){a.customSelect.reset(),l.filterOptions(),l.setState()},fieldError:function(){l.forceShow()}},h={forceShow:l.forceShow,getVal:l.getVal,setVal:l.setVal},t({self:s,o:o,m:u,internal:a,elements:f,fn:l,handlers:c,api:h}).create()};return r.markup={},r}),function(e){"use strict";var t=typeof window=="undefined"?null:window;typeof define=="function"&&define.amd?define("DOMPurify",[],function(){return e(t)}):typeof module!="undefined"?module.exports=e(t):t.DOMPurify=e(t)}(function e(t){"use strict";var n=function(t){return e(t)};n.version="0.8.9",n.removed=[];if(!t||!t.document||t.document.nodeType!==9)return n.isSupported=!1,n;var r=t.document,i=r,s=t.DocumentFragment,o=t.HTMLTemplateElement,u=t.Node,a=t.NodeFilter,f=t.NamedNodeMap||t.MozNamedAttrMap,l=t.Text,c=t.Comment,h=t.DOMParser,p=!1;if(typeof o=="function"){var d=r.createElement("template");d.content&&d.content.ownerDocument&&(r=d.content.ownerDocument)}var v=r.implementation,m=r.createNodeIterator,g=r.getElementsByTagName,y=r.createDocumentFragment,b=i.importNode,w={};n.isSupported=typeof v.createHTMLDocument!="undefined"&&r.documentMode!==9;var E=function(e,t){var n=t.length;while(n--)typeof t[n]=="string"&&(t[n]=t[n].toLowerCase()),e[t[n]]=!0;return e},S=function(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},x=null,T=E({},["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr","svg","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","switch","symbol","text","textpath","title","tref","tspan","view","vkern","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","#text"]),N=null,C=E({},["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","span","srclang","start","src","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns","accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mode","min","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","surfacescale","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","y","y1","y2","z","zoomandpan","accent","accentunder","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","display","displaystyle","fence","frame","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),k=null,L=null,A=!0,O=!0,M=!1,_=!1,D=!1,P=/\{\{[\s\S]*|[\s\S]*\}\}/gm,H=/<%[\s\S]*|[\s\S]*%>/gm,B=!1,j=!1,F=!1,I=!1,q=!1,R=!0,U=!0,z=E({},["audio","head","math","script","style","template","svg","video"]),W=E({},["audio","video","img","source","image"]),X=E({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),V=null,$=r.createElement("form"),J=function(e){typeof e!="object"&&(e={}),x="ALLOWED_TAGS"in e?E({},e.ALLOWED_TAGS):T,N="ALLOWED_ATTR"in e?E({},e.ALLOWED_ATTR):C,k="FORBID_TAGS"in e?E({},e.FORBID_TAGS):{},L="FORBID_ATTR"in e?E({},e.FORBID_ATTR):{},A=e.ALLOW_ARIA_ATTR!==!1,O=e.ALLOW_DATA_ATTR!==!1,M=e.ALLOW_UNKNOWN_PROTOCOLS||!1,_=e.SAFE_FOR_JQUERY||!1,D=e.SAFE_FOR_TEMPLATES||!1,B=e.WHOLE_DOCUMENT||!1,F=e.RETURN_DOM||!1,I=e.RETURN_DOM_FRAGMENT||!1,q=e.RETURN_DOM_IMPORT||!1,j=e.FORCE_BODY||!1,R=e.SANITIZE_DOM!==!1,U=e.KEEP_CONTENT!==!1,D&&(O=!1),I&&(F=!0),e.ADD_TAGS&&(x===T&&(x=S(x)),E(x,e.ADD_TAGS)),e.ADD_ATTR&&(N===C&&(N=S(N)),E(N,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&E(X,e.ADD_URI_SAFE_ATTR),U&&(x["#text"]=!0),Object&&"freeze"in Object&&Object.freeze(e),V=e},K=function(e){n.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},Q=function(e,t){n.removed.push({attribute:t.getAttributeNode(e),from:t}),t.removeAttribute(e)},G=function(e){var t,n;j&&(e="<remove></remove>"+e);if(p)try{t=(new h).parseFromString(e,"text/html")}catch(r){}if(!t||!t.documentElement)t=v.createHTMLDocument(""),n=t.body,n.parentNode.removeChild(n.parentNode.firstElementChild),n.outerHTML=e;return g.call(t,B?"html":"body")[0]};n.isSupported&&function(){var e=G('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">');e.querySelector("svg img")&&(p=!0)}();var Y=function(e){return m.call(e.ownerDocument||e,e,a.SHOW_ELEMENT|a.SHOW_COMMENT|a.SHOW_TEXT,function(){return a.FILTER_ACCEPT},!1)},Z=function(e){return e instanceof l||e instanceof c?!1:typeof e.nodeName=="string"&&typeof e.textContent=="string"&&typeof e.removeChild=="function"&&e.attributes instanceof f&&typeof e.removeAttribute=="function"&&typeof e.setAttribute=="function"?!1:!0},et=function(e){return typeof u=="object"?e instanceof u:e&&typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string"},tt=function(e){var t,r;ft("beforeSanitizeElements",e,null);if(Z(e))return K(e),!0;t=e.nodeName.toLowerCase(),ft("uponSanitizeElement",e,{tagName:t,allowedTags:x});if(!x[t]||k[t]){if(U&&!z[t]&&typeof e.insertAdjacentHTML=="function")try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(i){}return K(e),!0}return _&&!e.firstElementChild&&(!e.content||!e.content.firstElementChild)&&/</g.test(e.textContent)&&(n.removed.push({element:e.cloneNode()}),e.innerHTML=e.textContent.replace(/</g,"&lt;")),D&&e.nodeType===3&&(r=e.textContent,r=r.replace(P," "),r=r.replace(H," "),e.textContent!==r&&(n.removed.push({element:e.cloneNode()}),e.textContent=r)),ft("afterSanitizeElements",e,null),!1},nt=/^data-[\-\w.\u00B7-\uFFFF]/,rt=/^aria-[\-\w]+$/,it=/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,st=/^(?:\w+script|data):/i,ot=/[\x00-\x20\xA0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ut=function(e){var i,s,o,u,a,f,l,c;ft("beforeSanitizeAttributes",e,null),f=e.attributes;if(!f)return;l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:N},c=f.length;while(c--){i=f[c],s=i.name,o=i.value.trim(),u=s.toLowerCase(),l.attrName=u,l.attrValue=o,l.keepAttr=!0,ft("uponSanitizeAttribute",e,l),o=l.attrValue;if(u==="name"&&e.nodeName==="IMG"&&f.id)a=f.id,f=Array.prototype.slice.apply(f),Q("id",e),Q(s,e),f.indexOf(a)>c&&e.setAttribute("id",a.value);else{if(e.nodeName==="INPUT"&&u==="type"&&o==="file"&&(N[u]||!L[u]))continue;s==="id"&&e.setAttribute(s,""),Q(s,e)}if(!l.keepAttr)continue;if(R&&(u==="id"||u==="name")&&(o in t||o in r||o in $))continue;D&&(o=o.replace(P," "),o=o.replace(H," "));if(!O||!nt.test(u))if(!A||!rt.test(u)){if(!N[u]||L[u])continue;if(!X[u]&&!it.test(o.replace(ot,""))&&(u!=="src"&&u!=="xlink:href"||o.indexOf("data:")!==0||!W[e.nodeName.toLowerCase()])&&(!M||!!st.test(o.replace(ot,"")))&&!!o)continue}try{e.setAttribute(s,o),n.removed.pop()}catch(h){}}ft("afterSanitizeAttributes",e,null)},at=function(e){var t,n=Y(e);ft("beforeSanitizeShadowDOM",e,null);while(t=n.nextNode()){ft("uponSanitizeShadowNode",t,null);if(tt(t))continue;t.content instanceof s&&at(t.content),ut(t)}ft("afterSanitizeShadowDOM",e,null)},ft=function(e,t,r){if(!w[e])return;w[e].forEach(function(e){e.call(n,t,r,V)})};return n.sanitize=function(e,r){var o,a,f,l,c,h;e||(e="<!-->");if(typeof e!="string"&&!et(e)){if(typeof e.toString!="function")throw new TypeError("toString is not a function");e=e.toString()}if(!n.isSupported){if(typeof t.toStaticHTML=="object"||typeof t.toStaticHTML=="function"){if(typeof e=="string")return t.toStaticHTML(e);if(et(e))return t.toStaticHTML(e.outerHTML)}return e}J(r),n.removed=[];if(e instanceof u)o=G("<!-->"),a=o.ownerDocument.importNode(e,!0),a.nodeType===1&&a.nodeName==="BODY"?o=a:o.appendChild(a);else{if(!F&&!B&&e.indexOf("<")===-1)return e;o=G(e);if(!o)return F?null:""}j&&K(o.firstChild),c=Y(o);while(f=c.nextNode()){if(f.nodeType===3&&f===l)continue;if(tt(f))continue;f.content instanceof s&&at(f.content),ut(f),l=f}if(F){if(I){h=y.call(o.ownerDocument);while(o.firstChild)h.appendChild(o.firstChild)}else h=o;return q&&(h=b.call(i,h,!0)),h}return B?o.outerHTML:o.innerHTML},n.addHook=function(e,t){if(typeof t!="function")return;w[e]=w[e]||[],w[e].push(t)},n.removeHook=function(e){w[e]&&w[e].pop()},n.removeHooks=function(e){w[e]&&(w[e]=[])},n.removeAllHooks=function(){w={}},n}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define("Typester",t):e.typester=t()}(this,function(){"use strict";function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function l(e,t){return t={exports:{}},e(t,t.exports),t.exports}Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,n;if(this==null)throw new TypeError("this is null or not defined");var r=Object(this),i=r.length>>>0;if(typeof e!="function")throw new TypeError(e+" is not a function");arguments.length>1&&(t=arguments[1]),n=0;while(n<i){var s;n in r&&(s=r[n],e.call(t,s,n,r)),n++}}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){var n=this;t=t||window;for(var r=0;r<this.length;r++)e.call(t,n[r],r,n)}),typeof Object.assign!="function"&&(Object.assign=function(e){var t=arguments,n,r,i,s;if(e===null)throw new TypeError("Cannot convert undefined or null to object");n=Object(e);for(r=1;r<arguments.length;r++){i=t[r];if(i!==null)for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n});var e=function(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t=function(t){t===void 0&&(t={});var n={parent:t.parent,children:[],id:e(),conceal:t.conceal||[]},r={handlers:{},"new":function(t,n){if(r.handlers[t])throw new Error("Only one requestHandler per requestKey: "+t);r.handlers[t]=n},getHandler:function(t){return r.handlers[t]},canHandle:function(t){return!!r.getHandler(t)},request:function(t,n){var i=r.getHandler(t);if(i)return i(n)}},i={handlers:{},"new":function(t,n){if(i.handlers[t])throw new Error("Only one commandHandler per commandKey: "+t);i.handlers[t]=n},getHandler:function(t){return i.handlers[t]},canHandle:function(t){return!!i.getHandler(t)},exec:function(t,n){var r=i.getHandler(t);r&&r(n)}},s={handlers:{},"new":function(t,n){s.handlers[t]=s.handlers[t]||[],s.handlers[t].push(n)},getHandlers:function(t){return s.handlers[t]||[]},canHandle:function(t){return!!s.getHandlers(t)},emit:function(t,n){var r=s.getHandlers(t);r.length&&r.forEach(function(e){return e(n)})}},o={registerHandler:function(t,n,o){switch(t){case"request":r.new(n,o);break;case"command":i.new(n,o);break;case"event":s.new(n,o)}},registerRequestHandlers:function(t){t===void 0&&(t={}),Object.keys(t).forEach(function(e){var n=t[e];o.registerHandler("request",e,n)})},registerCommandHandlers:function(t){t===void 0&&(t={}),Object.keys(t).forEach(function(e){var n=t[e];o.registerHandler("command",e,n)})},registerEventHandlers:function(t){t===void 0&&(t={}),Object.keys(t).forEach(function(e){var n=t[e];o.registerHandler("event",e,n)})}},u={init:function(){n.parent&&n.parent.registerChild(a)},shouldConceal:function f(e){var f=!1;return n.conceal.forEach(function(t){f=f||t.test(e)}),f},delegate:function(t,r,i,s){i===void 0&&(i={}),s===void 0&&(s={});var o=s._state;return o.hasAttempted(n.id)||u.handle(t,r,i,s),o.hasBeenHandled||n.children.forEach(function(e){!o.hasBeenHandled&&!o.hasAttempted(e.getId())&&e.handle(t,r,i,s)}),o.hasBeenHandled||n.parent&&!o.hasAttempted(n.parent.getId())&&!u.shouldConceal(r)&&n.parent.delegate(t,r,i,s),o.response},canHandle:function(t,n){switch(t){case"request":return r.canHandle(n);case"command":return i.canHandle(n);case"event":return s.canHandle(n)}},handle:function(t,o,a,f){a===void 0&&(a={}),f===void 0&&(f={}),f._state=f._state||u.newStateObj();var l=u.canHandle(t,o),c=f._state;if(c.hasAttempted(n.id))return c.response;f._state.logAttempt(n.id);if(l){switch(t){case"request":c.response=r.request(o,a),c.hasBeenHandled=!0;break;case"command":i.exec(o,a),c.hasBeenHandled=!0;break;case"event":s.emit(o,a),u.delegate(t,o,a,f)}return c.response}return u.delegate(t,o,a,f)},newStateObj:function(){var t={attempts:[],hasBeenHandled:!1,response:null,logAttempt:function(t){this.attempts.push(t)},hasAttempted:function(t){return this.attempts.indexOf(t)>-1}};return t},request:function(t,n){return n===void 0&&(n={}),u.handle("request",t,n)},exec:function(t,n){n===void 0&&(n={}),u.handle("command",t,n)},emit:function(t,n){n===void 0&&(n={}),u.handle("event",t,n)},hasAttemptedToHandle:function(t){return t.attemptedDelegates.indexOf(n.id)>-1},registerChild:function(t){t.childIndex=n.children.length,n.children.push(t)},deregisterChild:function(t){n.children.slice(t.childIndex,1)},setParent:function(t){n.parent&&n.parent.deregisterChild(a),n.parent=t,n.parent.registerChild(a)},getId:function(){return n.id}},a={getId:u.getId,registerRequestHandlers:o.registerRequestHandlers,registerCommandHandlers:o.registerCommandHandlers,registerEventHandlers:o.registerEventHandlers,registerHandler:o.registerHandler,request:u.request,exec:u.exec,emit:u.emit,get:u.request,canHandle:u.canHandle,handle:u.handle,registerChild:u.registerChild,hasAttemptedToHandle:u.hasAttemptedToHandle,deregisterChild:u.deregisterChild,setParent:u.setParent,delegate:u.delegate,getHandlerKeys:function(){var e=[];return e.concat(Object.keys(r.handlers)),e.concat(Object.keys(i.handlers)),e.concat(Object.keys(s.handlers)),e}};return u.init(),a},n=function(){var e=[],t=arguments.length;while(t--)e[t]=arguments[t];(n=this).mixin.apply(n,e);var n};Object.assign(n.prototype,{mixin:function(){var t=this,n=[],r=arguments.length;while(r--)n[r]=arguments[r];n.forEach(function(e){Object.assign(t,e)})},extendWith:function(t,n){var r=this;n===void 0&&(n={}),n.keys?n.keys.forEach(function(e){r[e]=t[e]}):this.mixin(t)}});var r={bind:function(t,n){return function(){var e=[],r=arguments.length;while(r--)e[r]=arguments[r];return t.apply(n,e)}},bindObj:function(t,n){var i={};return Object.keys(t).forEach(function(e){i[e]=r.bind(t[e],n)}),i}},i=function(i){var s=i.name,o=i.handlers,u=i.methods,a=i.modules,f=i.containers,l=i.mediatorOpts;if(!s)throw new Error("No name given for container");var c={createContext:function(){var t=[],r=arguments.length;while(r--)t[r]=arguments[r];return new(Function.prototype.bind.apply(n,[null].concat(t)))},bindMethods:function(t,n){return t=t||{},r.bindObj(t,n)},initModules:function(t,n){t===void 0&&(t=[]),n===void 0&&(n={}),t.forEach(function(e){var t=Object.assign({},n,e.opts||{});e.instance=new e.class(t)})},initChildContainers:function(t,n){t===void 0&&(t=[]),n===void 0&&(n={}),t.forEach(function(e){var t=Object.assign({},n,e.opts||{});e.instance=new e.class(t)})},registerHandlers:function(t,n,r){Object.keys(n).forEach(function(e){var i=n[e],s=c.getHandlerMethods(i,r);switch(e){case"requests":t.registerRequestHandlers(s);break;case"commands":t.registerCommandHandlers(s);break;case"events":t.registerEventHandlers(s)}})},getHandlerMethods:function(t,n){var r={};return Object.keys(t).forEach(function(e){var i=t[e],s=n[i];r[e]=s}),r}},h={containerConstructor:function(e){e===void 0&&(e={});var n=c.createContext(),r=c.bindMethods(u,n);n.extendWith(r);var i=new t(Object.assign({parent:e.mediator},l));return n.extendWith({mediator:i}),o&&c.registerHandlers(i,o,n),r.setup&&r.setup(),c.initModules(a,{dom:e.dom,mediator:i}),c.initChildContainers(f,{dom:e.dom,mediator:i}),r.init&&r.init(),{setMediatorParent:function(t){i.setParent(t)}}}};return h.containerConstructor},s={ieVersion:function(){var t=window.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);var r=t.indexOf("Trident/");if(r>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var s=t.indexOf("Edge/");return s>0?parseInt(t.substring(s+5,t.indexOf(".",s)),10):!1},isIE:function(){var t=s.ieVersion();return t&&t<12},isFirefox:function(){return window.navigator.userAgent.indexOf("Firefox")>-1}},o={regex:{getById:/^#/,getByClassName:/^\./,getByTag:/^[a-z]/},getElements:function(t,n){for(var r in t)if(t.hasOwnProperty(r)&&r!=="rootEl"){var i=t[r],s=i.selector;n=i.rootEl||n,n=typeof n=="function"?n():n,i.el=o.get(s,n)}},get:function(t,n){n===void 0&&(n=document);if(o.isElement(t))return[t];var r=o._getGetMethodName(t);return o[r](t,n)},getByClassName:function(t,n){return n===void 0&&(n=document),t=o._cleanSelector(t),n.getElementsByClassName(t)},getByTag:function(t,n){return n===void 0&&(n=document),t=o._cleanSelector(t),n.getElementsByTagName(t)},getById:function(t){return document.getElementById(t)},getClosest:function(t,n,r){var i=r||o.getRootEl(),s=/^\[/.test(n)?"attribute":/^\./.test(n)?"class":/^\#/.test(n)?"id":"tag",u=!1,a,f,l,c;if(t===i)return null;while(t.nodeType!==Node.ELEMENT_NODE)t=t.parentNode;switch(s){case"attribute":a=n.match(/\[(.*?)\]/)[1],u=t.hasAttribute(a);break;case"class":f=n.replace(".",""),u=t.classList&&t.classList.contains(f);break;case"id":l=n.replace("#",""),c=t.getAttribute("id"),u=l===c;break;case"tag":u=t.nodeName.toLowerCase()===n.toLowerCase()}return u?t:o.getClosest(t.parentNode,n,i)},getClosestInArray:function(t,n,r){var i=t;while(n.indexOf(i.nodeName)<0&&i!==r)i=i.parentNode;return i!==r?i:null},getFurthest:function(t,n){var r=o.getRootEl(),i=t,s=null;n=n instanceof Array?n:[n];while(i&&i!==r)n.indexOf(i.nodeName)>-1&&(s=i),i=i.parentNode||i.parentElement;return s},nextNode:function(t){if(t.hasChildNodes())return t.firstChild;while(t&&!t.nextSibling)t=t.parentNode;return t?t.nextSibling:null},appendTo:function(t,n){var r=o.isElement(n)?n:document.createElement(n),i=o.get(t);for(var s=0;s<i.length;s++)i[s].appendChild(r);return r},addStyles:function(t){var n=o.appendTo("head","style");return n.setAttribute("id","typester-styles"),n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),n},isNode:function(t){return typeof Node=="object"?t instanceof Node:t&&typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"},isElement:function en(e){var en=!1;return en=e instanceof Window||e instanceof Document,en=en||typeof HTMLElement=="object"&&e instanceof HTMLElement,en=en||e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string",en},isIn:function tn(e,t,n){var tn=!1,r=e,i=t instanceof Array?t:t.split("/");n=n||o.getRootEl(),i=i.map(function(e){return e.toLowerCase()});while(!tn&&r!==n)tn=i.indexOf(r.nodeName.toLowerCase())>-1,r=r.parentNode;return tn},isChildOf:function(t,n){return t instanceof Array&&(t=t[0]),n instanceof Array&&(n=n[0]),n&&t&&n.contains(t)},addClass:function(t,n){t.classList.add(n)},toggleClass:function(t,n,r){var i=r!==undefined?r:!t.classList.contains(n);i?o.addClass(t,n):o.removeClass(t,n)},removeClass:function(t,n){t.classList.remove(n)},isBlock:function(t){return o.getStyle(t,"display")==="block"},closestElement:function(t){var n=t;while(n.nodeType!==1)n=n.parentNode;return n},getStyles:function(t){var n=o.closestElement(t),r="getComputedStyle"in window;return r?window.getComputedStyle(n):n.currentStyle},getStyle:function(t,n){var r=o.getStyles(t);return r[n]},insertBefore:function(t,n){var r=n.parentNode;r.insertBefore(t,n)},insertAfter:function(t,n){var r=n.parentNode;r.lastChild===n?r.appendChild(t):r.insertBefore(t,n.nextSibling)},isLastChild:function(t){return t===t.parentNode.lastChild},isFirstChild:function(t){return t===t.parentNode.firstChild},wrapRange:function(t,n){var r=window.getSelection(),i=r.getRangeAt(0),s=document.createElement(t);for(var o in n)n.hasOwnProperty(o)&&(s[o]=n[o]);return i.surroundContents(s),s},unwrap:function(t,n){n===void 0&&(n={});var r=[];if(t.childNodes)while(t.firstChild)r.push(t.firstChild),o.insertBefore(t.firstChild,t);return n.keepNode||o.removeNode(t),r},unwrapFrom:function(t,n){var r=o.getRootEl(),i=t,s=[i];while(i!==r){var u=i.parentNode||i.parentElement;n.indexOf(i.nodeName)>-1&&(s=o.unwrap(i)),i=u}return s},unwrapToRoot:function(t){var n=o.getRootEl(),r=t.parentNode;while(r!==n){var i=r.parentNode;o.unwrap(r),r=i}},removeNode:function(t){var n=t.parentElement||t.parentNode;n&&n.removeChild(t)},replaceNode:function(t,n){var r=t.parentNode||t.parentElement;r&&r.replaceChild(n,t)},getContainerZIndex:function(t){var n=t,r=0;while(n&&n!==document.body){var i=window.getComputedStyle(n).zIndex;/^[0-9]+$/.test(i)&&(r=parseInt(i)),n=n.parentNode}return r},getRootEl:function(){var t=document.getSelection(),n=t.anchorNode,r=n;while(r&&(r.nodeType!==Node.ELEMENT_NODE||!r.hasAttribute("contenteditable")))r=r.parentNode;return r},removeInvalidTagsUpward:function(t,n){var r=o.getRootEl(),i=t,s=[],u=[t];while(i!==r)i.nodeType===1&&n.indexOf(i.nodeName)<0&&s.push(i),i=i.parentNode||i.parentElement;for(var a=0;a<s.length;a++){var f=s[a];u=o.unwrap(f)}return u},trimSelection:function(t){t=t||{fromEnd:!0};var n=window.getSelection(),r=n.getRangeAt(0),i=n.toString(),s,u,a,f,l=r.startOffset,c;t.bothEnds&&(t.fromEnd=!0),t.fromEnd?(s=/\s+$/,u=r.endContainer,a=r.setEnd):t.fromStart&&(s=/[^\s]/,u=r.startContainer,a=r.setStart),f=s.exec(i),f&&f.index>0&&(t.fromEnd&&l+f.index>u.length?(f=s.exec(u.textContent),f&&a.call(r,u,f.index)):a.call(r,u,l+f.index),c=r.cloneRange(),n.removeAllRanges(),n.addRange(c)),t.bothEnds&&(t.fromEnd?o.trimSelection({fromStart:!0}):o.trimSelection({fromEnd:!0}))},createPseudoSelect:function(){var t=o.getRootEl(),n=o.wrapRange("SPAN",{className:"pseudo-selection"}),r;return s.isFirefox()?r=window.getComputedStyle(t,"::-moz-selection"):r=window.getComputedStyle(t,"::selection"),n.style["background-color"]=r["background-color"],n.style["background-color"]==="transparent"&&(n.style["background-color"]="#EEEEEE"),n.style.color=r.color,n},getScrollOffset:function(){var t=window.pageXOffset!==undefined,n=(document.compatMode||"")==="CSS1Compat",r=t?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft,i=t?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop;return{x:r,y:i}},childIndex:function nn(e){var t=e,nn=0;while((t=t.previousSibling)!==null)nn++;return nn},_getGetMethodName:function(t){var n=null;return Object.keys(o.regex).forEach(function(e){var r=o.regex[e];r.test(t)&&(n=e)}),n},_cleanSelector:function(t){return t.replace(/^[\.#]/,"")},_createEl:function(t){return document.createElement(t)}},u=function(e){var t=e.name,i=e.props,s=e.handlers,u=e.dom,a=e.methods,f=e.requiredProps;if(!t)throw new Error("No name given for module",e);var l={createContext:function(){var t=[],r=arguments.length;while(r--)t[r]=arguments[r];return new(Function.prototype.bind.apply(n,[null].concat(t)))},bindMethods:function(t,n){return t=t||{},r.bindObj(t,n)},wrapRenderMethod:function(t,n){var r=function(){var e=[],r=arguments.length;while(r--)e[r]=arguments[r];var i=n.context,o;o=l.mergeDom(u,n.dom),o.el=t.apply(void 0,e),l.getDom(o),i.extendWith({dom:o}),s.domEvents&&l.registerDomHandlers(s.domEvents,i)};return r},registerHandlers:function(t,n,r){Object.keys(n).forEach(function(e){var i=n[e],s=l.getHandlerMethods(i,r);switch(e){case"requests":t.registerRequestHandlers(s);break;case"commands":t.registerCommandHandlers(s);break;case"events":t.registerEventHandlers(s)}})},registerDomHandlers:function(t,n){var r=l.getHandlerMethods(t,n);l.bindDomEvents(r,n)},getHandlerMethods:function(t,n){var r={};return Object.keys(t).forEach(function(e){var i=t[e],s=n[i];r[e]=s}),r},mergeDom:function(t,n){n===void 0&&(n={});var r={};return Object.keys(t).forEach(function(e){r[e]=t[e]}),Object.keys(n).forEach(function(e){r[e]=n[e],r[e].selector=n[e]}),r},getDom:function(t){var n=t.el||document.body;Object.keys(t).forEach(function(e){var r,i;r=t[e];if(r===null)return;typeof r=="object"&&(r=r.selector||r),i=o.get(r,n),i.selector=r,t[e]=i})},bindDomEvents:function(t,n){var r=n.dom;Object.keys(t).forEach(function(e){var n=e.split(" @"),i=n[0],s=n[1],o=s?r[s][0]:r.el[0],u=t[e];o.addEventListener(i,u)})},mergeProps:function(t,n){n===void 0&&(n={});var r={};return Object.keys(t).forEach(function(e){var i=n[e]||t[e];r[e]=i}),r},validateProps:function(n,r){Object.keys(n).forEach(function(e){if(r.indexOf(e)>-1&&!n[e])throw new Error(t+" requires prop: "+e)})}},c={moduleConstructor:function(e){c.prepModule(e),c.buildModule(e),c.setupModule(e),c.renderModule(e),c.initModule(e)},prepModule:function(t){var n=l.createContext();if(i){var r=l.mergeProps(i,t.props);n.extendWith({props:r}),f&&l.validateProps(r,f)}t.context=n},buildModule:function(t){var n=t.context,r=l.bindMethods(a,n);r.render&&(r.render=l.wrapRenderMethod(r.render,t)),n.extendWith(r),n.extendWith({mediator:t.mediator})},setupModule:function(t){var n=t.context;n.setup&&n.setup(),s&&l.registerHandlers(t.mediator,s,n)},renderModule:function(t){var n=t.context,r;if(n.render)return;u&&(r=l.mergeDom(u,t.dom),l.getDom(r),n.extendWith({dom:r})),s.domEvents&&l.registerDomHandlers(s.domEvents,n)},initModule:function(t){var n=t.context;n.init&&n.init()},destroyModule:function(){}};return c.moduleConstructor},a=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},c=l(function(e,t){function s(e){return n[e]}function o(e){var t=arguments;for(var n=1;n<arguments.length;n++)for(var r in arguments[n])Object.prototype.hasOwnProperty.call(t[n],r)&&(e[r]=t[n][r]);return e}function l(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function c(e){if(typeof e!="string"){if(e&&e.toHTML)return e.toHTML();if(e==null)return"";if(!e)return e+"";e=""+e}return i.test(e)?e.replace(r,s):e}function h(e){return!e&&e!==0?!0:f(e)&&e.length===0?!0:!1}function p(e){var t=o({},e);return t._parent=e,t}function d(e,t){return e.path=t,e}function v(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=o,t.indexOf=l,t.escapeExpression=c,t.isEmpty=h,t.createFrame=p,t.blockParams=d,t.appendContextPath=v;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,i=/[&<>"'`=]/,u=Object.prototype.toString;t.toString=u;var a=function(t){return typeof t=="function"};a(/x/)&&(t.isFunction=a=function(e){return typeof e=="function"&&u.call(e)==="[object Function]"}),t.isFunction=a;var f=Array.isArray||function(e){return e&&typeof e=="object"?u.call(e)==="[object Array]":!1};t.isArray=f});f(c);var h=c.extend,p=c.indexOf,d=c.escapeExpression,v=c.isEmpty,m=c.createFrame,g=c.blockParams,y=c.appendContextPath,b=c.isFunction,w=c.isArray,E=l(function(e,t){function r(e,t){var i=this,s=t&&t.loc,o=undefined,u=undefined;s&&(o=s.start.line,u=s.start.column,e+=" - "+o+":"+u);var a=Error.prototype.constructor.call(this,e);for(var f=0;f<n.length;f++)i[n[f]]=a[n[f]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{s&&(this.lineNumber=o,Object.defineProperty?Object.defineProperty(this,"column",{value:u,enumerable:!0}):this.column=u)}catch(l){}}t.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=new Error,t["default"]=r,e.exports=t["default"]});f(E);var S=l(function(e,t){t.__esModule=!0,t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,i=n.fn;if(t===!0)return i(this);if(t===!1||t==null)return r(this);if(c.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var s=c.createFrame(n.data);s.contextPath=c.appendContextPath(n.data.contextPath,n.name),n={data:s}}return i(t,n)})},e.exports=t["default"]});f(S);var x=l(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(E);t["default"]=function(e){e.registerHelper("each",function(e,t){function f(t,r,i){u&&(u.key=t,u.index=r,u.first=r===0,u.last=!!i,a&&(u.contextPath=a+t)),o+=n(e[t],{data:u,blockParams:c.blockParams([e[t],t],[a+t,null])})}if(!t)throw new r["default"]("Must pass iterator to #each");var n=t.fn,i=t.inverse,s=0,o="",u=undefined,a=undefined;t.data&&t.ids&&(a=c.appendContextPath(t.data.contextPath,t.ids[0])+"."),c.isFunction(e)&&(e=e.call(this)),t.data&&(u=c.createFrame(t.data));if(e&&typeof e=="object")if(c.isArray(e))for(var l=e.length;s<l;s++)s in e&&f(s,s,s===e.length-1);else{var h=undefined;for(var p in e)e.hasOwnProperty(p)&&(h!==undefined&&f(h,s-1),h=p,s++);h!==undefined&&f(h,s-1,!0)}return s===0&&(o=i(this)),o})},e.exports=t["default"]});f(x);var T=l(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(E);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(arguments.length===1)return undefined;throw new r["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]});f(T);var N=l(function(e,t){t.__esModule=!0,t["default"]=function(e){e.registerHelper("if",function(e,t){return c.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||c.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t["default"]});f(N);var C=l(function(e,t){t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){var t=arguments,n=[undefined],r=arguments[arguments.length-1];for(var i=0;i<arguments.length-1;i++)n.push(t[i]);var s=1;r.hash.level!=null?s=r.hash.level:r.data&&r.data.level!=null&&(s=r.data.level),n[0]=s,e.log.apply(e,n)})},e.exports=t["default"]});f(C);var k=l(function(e,t){t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]});f(k);var L=l(function(e,t){t.__esModule=!0,t["default"]=function(e){e.registerHelper("with",function(e,t){c.isFunction(e)&&(e=e.call(this));var n=t.fn;if(!c.isEmpty(e)){var r=t.data;return t.data&&t.ids&&(r=c.createFrame(t.data),r.contextPath=c.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:c.blockParams([e],[r&&r.contextPath])})}return t.inverse(this)})},e.exports=t["default"]});f(L);var A=l(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}function l(e){r["default"](e),i["default"](e),s["default"](e),o["default"](e),u["default"](e),a["default"](e),f["default"](e)}t.__esModule=!0,t.registerDefaultHelpers=l;var r=n(S),i=n(x),s=n(T),o=n(N),u=n(C),a=n(k),f=n(L)});f(A);var O=A.registerDefaultHelpers,M=l(function(e,t){t.__esModule=!0,t["default"]=function(e){e.registerDecorator("inline",function(e,t,n,r){var i=e;return t.partials||(t.partials={},i=function(r,i){var s=n.partials;n.partials=c.extend({},s,t.partials);var o=e(r,i);return n.partials=s,o}),t.partials[r.args[0]]=r.fn,i})},e.exports=t["default"]});f(M);var _=l(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){r["default"](e)}t.__esModule=!0,t.registerDefaultDecorators=i;var r=n(M)});f(_);var D=_.registerDefaultDecorators,P=l(function(e,t){t.__esModule=!0;var n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if(typeof t=="string"){var r=c.indexOf(n.methodMap,t.toLowerCase());r>=0?t=r:t=parseInt(t,10)}return t},log:function(t){var r=arguments;t=n.lookupLevel(t);if(typeof console!="undefined"&&n.lookupLevel(n.level)<=t){var i=n.methodMap[t];console[i]||(i="log");for(var s=arguments.length,o=Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=r[u];console[i].apply(console,o)}}};t["default"]=n,e.exports=t["default"]});f(P);var H=l(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}function f(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},A.registerDefaultHelpers(this),_.registerDefaultDecorators(this)}t.__esModule=!0,t.HandlebarsEnvironment=f;var r=n(E),i=n(P),s="4.0.11";t.VERSION=s;var o=7;t.COMPILER_REVISION=o;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=u;var a="[object Object]";f.prototype={constructor:f,logger:i["default"],log:i["default"].log,registerHelper:function(t,n){if(c.toString.call(t)===a){if(n)throw new r["default"]("Arg not supported with multiple helpers");c.extend(this.helpers,t)}else this.helpers[t]=n},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,n){if(c.toString.call(t)===a)c.extend(this.partials,t);else{if(typeof n=="undefined")throw new r["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=n}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,n){if(c.toString.call(t)===a){if(n)throw new r["default"]("Arg not supported with multiple decorators");c.extend(this.decorators,t)}else this.decorators[t]=n},unregisterDecorator:function(t){delete this.decorators[t]}};var l=i["default"].log;t.log=l,t.createFrame=c.createFrame,t.logger=i["default"]});f(H);var B=H.HandlebarsEnvironment,j=H.VERSION,F=H.COMPILER_REVISION,I=H.REVISION_CHANGES,q=H.log,R=H.createFrame,U=H.logger,z=l(function(e,t){function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t["default"]=n,e.exports=t["default"]});f(z);var W=l(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){var t=e&&e[0]||1,n=H.COMPILER_REVISION;if(t!==n){if(t<n){var r=H.REVISION_CHANGES[n],i=H.REVISION_CHANGES[t];throw new s["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new s["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function u(e,t){function n(n,r,o){o.hash&&(r=i.extend({},r,o.hash),o.ids&&(o.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,o);var u=t.VM.invokePartial.call(this,n,r,o);u==null&&t.compile&&(o.partials[o.name]=t.compile(n,e.compilerOptions,t),u=o.partials[o.name](r,o));if(u!=null){if(o.indent){var a=u.split("\n");for(var f=0,l=a.length;f<l;f++){if(!a[f]&&f+1===l)break;a[f]=o.indent+a[f]}u=a.join("\n")}return u}throw new s["default"]("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function o(t){function a(t){return""+e.main(r,t,r.helpers,r.partials,i,u,s)}var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],i=n.data;o._setup(n),!n.partial&&e.useData&&(i=p(t,i));var s=undefined,u=e.useBlockParams?[]:undefined;return e.useDepths&&(n.depths?s=t!=n.depths[0]?[t].concat(n.depths):n.depths:s=[t]),a=d(e.main,a,r,n.depths||[],i,u),a(t,n)}if(!t)throw new s["default"]("No environment passed to template");if(!e||!e.main)throw new s["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var r={strict:function(t,n){if(n in t)return t[n];throw new s["default"]('"'+n+'" not defined in '+t)},lookup:function(t,n){var r=t.length;for(var i=0;i<r;i++)if(t[i]&&t[i][n]!=null)return t[i][n]},lambda:function(t,n){return typeof t=="function"?t.call(n):t},escapeExpression:i.escapeExpression,invokePartial:n,fn:function(n){var r=e[n];return r.decorator=e[n+"_d"],r},programs:[],program:function(t,n,r,i,s){var o=this.programs[t],u=this.fn(t);return n||s||i||r?o=a(this,t,u,n,r,i,s):o||(o=this.programs[t]=a(this,t,u)),o},data:function(t,n){while(t&&n--)t=t._parent;return t},merge:function(t,n){var r=t||n;return t&&n&&t!==n&&(r=i.extend({},n,t)),r},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};return o.isTop=!0,o._setup=function(n){if(!n.partial){r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials));if(e.usePartial||e.useDecorators)r.decorators=r.merge(n.decorators,t.decorators)}else r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators},o._child=function(t,n,i,o){if(e.useBlockParams&&!i)throw new s["default"]("must pass block params");if(e.useDepths&&!o)throw new s["default"]("must pass parent depths");return a(r,t,e[t],n,0,i,o)},o}function a(e,t,n,r,i,s,o){function u(t){var i=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],u=o;return o&&t!=o[0]&&(t!==e.nullContext||o[0]!==null)&&(u=[t].concat(o)),n(e,t,e.helpers,e.partials,i.data||r,s&&[i.blockParams].concat(s),u)}return u=d(n,u,e,o,r,s),u.program=t,u.depth=o?o.length:0,u.blockParams=i||0,u}function f(e,t,n){return e?!e.call&&!n.name&&(n.name=e,e=n.partials[e]):n.name==="@partial-block"?e=n.data["partial-block"]:e=n.partials[n.name],e}function l(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=undefined;n.fn&&n.fn!==h&&function(){n.data=H.createFrame(n.data);var e=n.fn;o=n.data["partial-block"]=function(n){var i=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return i.data=H.createFrame(i.data),i.data["partial-block"]=r,e(n,i)},e.partials&&(n.partials=i.extend({},n.partials,e.partials))}(),e===undefined&&o&&(e=o);if(e===undefined)throw new s["default"]("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function h(){return""}function p(e,t){if(!t||!("root"in t))t=t?H.createFrame(t):{},t.root=e;return t}function d(e,t,n,r,s,o){if(e.decorator){var u={};t=e.decorator(t,u,n,r&&r[0],s,o,r),i.extend(t,u)}return t}t.__esModule=!0,t.checkRevision=o,t.template=u,t.wrapProgram=a,t.resolvePartial=f,t.invokePartial=l,t.noop=h;var i=r(c),s=n(E)});f(W);var X=W.checkRevision,V=W.template,J=W.wrapProgram,K=W.resolvePartial,Q=W.invokePartial,G=W.noop,Y=l(function(e,t){t.__esModule=!0,t["default"]=function(e){var t=typeof a!="undefined"?a:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t["default"]});f(Y);var Z=l(function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function l(){var e=new i.HandlebarsEnvironment;return u.extend(e,i),e.SafeString=s["default"],e.Exception=o["default"],e.Utils=u,e.escapeExpression=u.escapeExpression,e.VM=a,e.template=function(t){return a.template(t,e)},e}t.__esModule=!0;var i=r(H),s=n(z),o=n(E),u=r(c),a=r(W),f=n(Y),h=l();h.create=l,f["default"](h),h["default"]=h,t["default"]=h,e.exports=t["default"]});f(Z);var et=Z["default"],tt=et.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return'<i class=\'typester-icon\'>\n    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n         viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve" width="20px" height="20px">\n        <path id="XMLID_110_" d="M9.2,18.4c-2.1,2.1-5.5,2.1-7.7,0c-2.1-2.1-2.1-5.6,0-7.7l2.9-2.8C4.3,9,4.5,10,4.8,11l-1.5,1.5\n            c-1.1,1.1-1.1,3,0,4.1c1.1,1.1,3,1.1,4.1,0l3.1-3.1c1.2-1.1,1.2-3,0-4.1c-0.5-0.5-0.5-1.3,0-1.8s1.3-0.5,1.8,0\n            c2.1,2.1,2.1,5.6,0,7.7L9.2,18.4z M15.6,12.1c0.1-1.1,0-2.1-0.4-3.1l1.5-1.5c1.1-1.1,1.1-3,0-4.1s-3-1.1-4.1,0L9.4,6.5\n            c-1.1,1.2-1.1,3,0,4.1c0.5,0.5,0.5,1.3,0,1.8c-0.5,0.5-1.3,0.5-1.8,0c-2.1-2.1-2.1-5.6,0-7.7l3.1-3.1c2.1-2.1,5.6-2.1,7.7,0\n            c2.1,2.1,2.1,5.5,0,7.7L15.6,12.1z"/>\n    </svg>\n</i>\n'},useData:!0}),nt=function(e,t,n){var r=tt(e,t);return n||!0?r:$(r)},rt=et.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return'<i class=\'typester-icon\'>\n    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n       viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve" width="20px" height="20px">\n       <path id="XMLID_126_" d="M20,7.6C20,7.8,19.8,8,19.6,8H6.9C6.7,8,6.5,7.8,6.5,7.6V5.3C6.5,5.1,6.7,5,6.9,5h12.7\n        C19.8,5,20,5.1,20,5.3V7.6z M20,13.5c0-0.2-0.2-0.4-0.4-0.4H6.9c-0.2,0-0.4,0.2-0.4,0.4v2.2c0,0.2,0.2,0.4,0.4,0.4h12.7\n        c0.2,0,0.4-0.2,0.4-0.4V13.5z M1.6,8.4H3v-5H1.9C1.8,4.1,1.3,4.5,0.5,4.6v1h1V8.4z M0,16.6h4.1v-1.2h-2v0c0.5-0.4,1.1-0.7,1.6-1.2\n        c0.3-0.3,0.4-0.6,0.4-1.1c0-0.9-0.7-1.6-2-1.6c-0.9,0-1.6,0.4-1.8,0.9c-0.2,0.3-0.2,0.6-0.2,1.2h1.4c0-0.3,0.1-0.5,0.2-0.7\n        c0.1-0.2,0.3-0.2,0.5-0.2c0.4,0,0.6,0.2,0.6,0.5c0,0.3-0.2,0.5-0.4,0.7c-0.5,0.4-1.3,0.8-1.7,1.3C0.1,15.5,0,15.9,0,16.6z"/>\n    </svg>\n</i>\n'},useData:!0}),it=function(e,t,n){var r=rt(e,t);return n||!0?r:$(r)},st=et.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return'<i class=\'typester-icon\'>\n    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n       viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve" width="20px" height="20px">\n       <path id="XMLID_3_" d="M3.3,4.2c0,0.2-0.2,0.4-0.4,0.4H0.4C0.2,4.6,0,4.4,0,4.2V1.7c0-0.2,0.2-0.4,0.4-0.4h2.5\n        c0.2,0,0.4,0.2,0.4,0.4V4.2z M3.3,11.3c0,0.2-0.2,0.4-0.4,0.4H0.4c-0.2,0-0.4-0.2-0.4-0.4V8.8c0-0.2,0.2-0.4,0.4-0.4h2.5\n        c0.2,0,0.4,0.2,0.4,0.4V11.3z M3.3,18.3c0,0.2-0.2,0.4-0.4,0.4H0.4c-0.2,0-0.4-0.2-0.4-0.4v-2.5c0-0.2,0.2-0.4,0.4-0.4h2.5\n        c0.2,0,0.4,0.2,0.4,0.4V18.3z M20,4.2c0,0.2-0.2,0.4-0.4,0.4H5.4C5.2,4.6,5,4.4,5,4.2V1.7c0-0.2,0.2-0.4,0.4-0.4h14.2\n        c0.2,0,0.4,0.2,0.4,0.4V4.2z M20,11.3c0,0.2-0.2,0.4-0.4,0.4H5.4c-0.2,0-0.4-0.2-0.4-0.4V8.8c0-0.2,0.2-0.4,0.4-0.4h14.2\n        c0.2,0,0.4,0.2,0.4,0.4V11.3z M20,18.3c0,0.2-0.2,0.4-0.4,0.4H5.4c-0.2,0-0.4-0.2-0.4-0.4v-2.5c0-0.2,0.2-0.4,0.4-0.4h14.2\n        c0.2,0,0.4,0.2,0.4,0.4V18.3z"/>\n    </svg>\n</i>\n'},useData:!0}),ot=function(e,t,n){var r=st(e,t);return n||!0?r:$(r)},ut=et.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return'<i class=\'typester-icon\'>\n    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="768" height="768" viewBox="0 0 768 768">\n        <path d="M494.819 659.759l108.242-221.638h-164.939v-329.879h329.879v329.879l-108.241 221.638h-164.939zM54.121 659.759l110.819-221.638h-164.939v-329.879h329.879v329.879l-110.819 221.638h-164.939z"></path>\n    </svg>\n</i>\n'},useData:!0}),at=function(e,t,n){var r=ut(e,t);return n||!0?r:$(r)},ft={buttons:["bold","italic","h1","h2","orderedlist","unorderedlist","quote","link"],preventNewlineDefault:["ul","ol"],blockTags:["P"],validTags:["P"],listTags:[],getValidTags:function(){var t=ft.validTags;return t.length===1&&ft.parseForTagLists(),ft.validTags},getBlockTags:function(){var t=ft.blockTags;return t.length===1&&ft.parseForTagLists(),ft.blockTags},getListTags:function(){var t=ft.listTags;return t.length===0&&ft.parseForTagLists(),ft.listTags},parseForTagLists:function(){var t=ft.validTags,n=ft.blockTags,r=ft.listTags;ft.buttons.forEach(function(e){var i=ft.buttonConfigs[e],s=i.opts.validTags;t=t.concat(s);switch(i.formatter){case"block":n=n.concat(s);break;case"list":r=r.concat(s)}}),ft.validTags=t,ft.blockTags=n,ft.listTags=r},buttonConfigs:{bold:{formatter:"text",opts:{style:"bold",rootEl:"b",validTags:["B","STRONG"]},content:"<b>B</b>",disabledIn:["H1","H2","BLOCKQUOTE"],activeIn:["B"]},italic:{formatter:"text",opts:{style:"italic",rootEl:"i",validTags:["I"]},content:"<i>I</i>",activeIn:["I"]},underline:{formatter:"text:underline",content:"<u>U</u>"},strikethrough:{formatter:"text:strikethrough",content:"<s>A</s>"},superscript:{formatter:"text:superscript",content:"x<sup>1</sup>"},subscript:{formatter:"text:subscript",content:"x<sub>1</sub>"},justifyCenter:{formatter:"paragraph:justifyCenter"},justifyFull:{formatter:"paragraph:justifyFull"},justifyLeft:{formatter:"paragraph:justifyLeft"},justifyRight:{formatter:"paragraph:justifyRight"},indent:{formatter:"paragraph:indent"},outdent:{formatter:"paragraph:outdent"},orderedlist:{formatter:"list",content:it({},{},!0),opts:{style:"ordered",validTags:["OL","LI"]},activeIn:["OL"]},unorderedlist:{formatter:"list",content:ot({},{},!0),opts:{style:"unordered",validTags:["UL","LI"]},activeIn:["UL"]},quote:{formatter:"block",content:at({},{},!0),opts:{style:"BLOCKQUOTE",validTags:["BLOCKQUOTE"]},activeIn:["BLOCKQUOTE"],disabledIn:function(t){var n=t.get("selection:in:or:contains",["OL","UL"]);return n=n||t.get("selection:spans:multiple:blocks"),n},toggles:!0},pre:{formatter:"block",opts:{style:"PRE"},disabledIn:function(t){var n=t.get("selection:in:or:contains",["OL","UL"]);return n=n||t.get("selection:spans:multiple:blocks"),n},content:"PRE"},h1:{formatter:"block",opts:{style:"H1",validTags:["H1"]},content:"H1",activeIn:["H1"],disabledIn:function(t){var n=t.get("selection:in:or:contains",["OL","UL"]);return n=n||t.get("selection:spans:multiple:blocks"),n},toggles:!0},h2:{formatter:"block",opts:{style:"H2",validTags:["H2"]},content:"H2",activeIn:["H2"],disabledIn:function(t){var n=t.get("selection:in:or:contains",["OL","UL"]);return n=n||t.get("selection:spans:multiple:blocks"),n},toggles:!0},h3:{formatter:"block",opts:{style:"H3",validTags:["H3"]},content:"H3",activeIn:["H3"],disabledIn:function(t){var n=t.get("selection:in:or:contains",["OL","UL"]);return n=n||t.get("selection:spans:multiple:blocks"),n},toggles:!0},h4:{formatter:"block",opts:{style:"H4",validTags:["H4"]},content:"H4",activeIn:["H4"],disabledIn:function(t){var n=t.get("selection:in:or:contains",["OL","UL"]);return n=n||t.get("selection:spans:multiple:blocks"),n},toggles:!0},h5:{formatter:"block",opts:{style:"H5",validTags:["H5"]},content:"H5",activeIn:["H5"],disabledIn:function(t){var n=t.get("selection:in:or:contains",["OL","UL"]);return n=n||t.get("selection:spans:multiple:blocks"),n},toggles:!0},h6:{formatter:"block",opts:{style:"H6",validTags:["H6"]},content:"H6",activeIn:["H6"],disabledIn:function(t){var n=t.get("selection:in:or:contains",["OL","UL"]);return n=n||t.get("selection:spans:multiple:blocks"),n},toggles:!0},link:{formatter:"link",opts:{validTags:["A"]},content:nt({},{},!0),activeIn:["A"],disabledIn:function(t){var n=t.get("selection:spans:multiple:blocks");return n}}}},lt=et.template({1:function(e,t,n,r,i,s){var o,u;return"            <li>\n                <a class='typester-menu-item' data-config-key='"+e.escapeExpression((u=(u=n.configKey||(t!=null?t.configKey:t))!=null?u:n.helperMissing,typeof u=="function"?u.call(t!=null?t:e.nullContext||{},{name:"configKey",hash:{},data:i}):u))+"'>\n                    "+((o=e.lambda((o=s[0][0])!=null?o.content:o,t))!=null?o:"")+"\n                </a>\n            </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i,s){var o;return"<div class='typester-toolbar'>\n    <ul class='buttons-wrapper s--active'>\n"+((o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.buttons:t,{name:"each",hash:{},fn:e.program(1,i,1,s),inverse:e.noop,data:i,blockParams:s}))!=null?o:"")+"    </ul>\n    <div class='inputs-wrapper'>\n        <input class='link-input' type='text' name='link-uri'/>\n    </div>\n</div>\n"},useData:!0,useBlockParams:!0}),ct=function(e,t,n){var r=lt(e,t);return n||!0?r:$(r)},ht=".typester-toolbar .buttons-wrapper,\n.typester-toolbar .inputs-wrapper {\n  transition: opacity 200ms, transform 200ms;\n  transform: translateY(-40px);\n  opacity: 0; }\n  .typester-toolbar .buttons-wrapper.s--active,\n  .typester-toolbar .inputs-wrapper.s--active {\n    transform: translateY(0px);\n    opacity: 1; }\n\n.typester-toolbar .inputs-wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%; }\n\n.typester-toolbar ul {\n  overflow: hidden; }\n\n.typester-toolbar li {\n  float: left; }\n\n.typester-toolbar .typester-menu-item {\n  color: #FFF;\n  font-size: 16px;\n  width: 40px;\n  height: 40px;\n  display: block;\n  line-height: 40px;\n  font-weight: bold;\n  text-align: center;\n  cursor: pointer;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none; }\n  .typester-toolbar .typester-menu-item svg {\n    display: block;\n    fill: #FFF;\n    height: 16px;\n    width: 16px;\n    padding: 12px; }\n  .typester-toolbar .typester-menu-item b {\n    font-weight: bold; }\n  .typester-toolbar .typester-menu-item i {\n    font-style: italic; }\n  .typester-toolbar .typester-menu-item:hover {\n    background: #00aeef; }\n  .typester-toolbar .typester-menu-item.s--active {\n    background: #0089bc; }\n  .typester-toolbar .typester-menu-item[disabled] {\n    width: 0;\n    overflow: hidden; }\n",pt=u({name:"Toolbar",dom:{toolbarMenuItems:".typester-menu-item"},props:{el:null,styles:null,mouseover:0,classNames:{MENU_ITEM:"typester-menu-item",ACTIVE:"s--active"}},handlers:{commands:{"toolbar:hide":"hideToolbar","toolbar:set:buttons":"setButtons"},events:{"app:destroy":"destroy","selection:update":"handleSelectionChange","selection:change":"handleSelectionChange","mouse:down":"handleMouseDown","mouse:up":"handleMouseUp","import:from:canvas:complete":"handleCanvasImport"},domEvents:{click:"handleToolbarClick",mouseover:"handleMouseOver",mouseout:"handleMouseOut"}},methods:{setup:function(){this.appendStyles(),this.render()},init:function(){this.updateToolbarState()},appendStyles:function(){var t=this,n=t.props;n.styles=o.addStyles(ht)},render:function(){var t=this,n=t.mediator,r=t.props,i=this.getButtonConfigs(),s=document.createElement("div"),o=ct(i);typeof o=="string"?s.innerHTML=o:s.appendChild(o[0]);var u=s.childNodes[0];return r.flyout=r.flyout||n.get("flyout:new"),r.flyout.clearContent(),r.flyout.show(),r.flyout.appendContent(s.childNodes[0]),u},getButtonConfigs:function(){var t=this,n=t.mediator,r=n.get("contenteditable:toolbar:buttons")||[],i=r.length?r:ft.buttons,s=[];return i.forEach(function(e){e==="anchor"&&(e="link");var t=Object.assign({configKey:e},ft.buttonConfigs[e]);s.push(t)}),{buttons:s}},handleToolbarClick:function(t){var n=this,r=n.mediator,i=n.props;r.exec("contenteditable:refocus"),r.exec("selection:reselect");var s=o.getClosest(t.target,"."+i.classNames.MENU_ITEM),u=s.dataset,a=u.configKey,f=ft.buttonConfigs[a],l=f.formatter,c=f.opts,h=this.getMenuItemState(s);c.toggle=f.toggles&&h.isActive,r.exec("format:"+l,c)},handleSelectionChange:function(){var t=this,n=this,r=n.props;r.selectionChangeTimeout&&clearTimeout(r.selectionChangeTimeout),r.selectionChangeTimeout=setTimeout(function(){t.updateToolbarState()},10)},handleMouseDown:function(){this.updateToolbarState()},handleMouseUp:function(){this.updateToolbarState()},handleMouseOver:function(){var t=this,n=t.props;n.mouseover+=1,n.mouseover=Math.min(1,n.mouseover)},handleMouseOut:function(){var t=this,n=t.props;n.mouseover-=1,n.mouseover=Math.max(0,n.mouseover)},handleCanvasImport:function(){this.updateToolbarState()},hideToolbar:function(){var t=this,n=t.props;n.flyout.hide()},showToolbar:function(){this.render()},positionToolbar:function(){var t=this,n=t.mediator,r=t.props,i=n.get("selection:bounds");if(i.initialWidth>0){var s=o.getScrollOffset(),u=i.top+s.y,a=i.initialLeft+s.x,f=i.initialWidth/2+a;r.flyout.position({left:f+"px",top:u+"px"})}},updateToolbarState:function(){var t=this,n=t.mediator,r=t.props,i=n.get("selection:current"),s=n.get("format:link:active"),o=n.get("mouse:is:down");if(!i||i.isCollapsed||!i.toString().trim().length||s||!document.activeElement.hasAttribute("contenteditable")||o){if(r.mouseover)return;this.hideToolbar()}else this.positionToolbar(),this.showToolbar(),this.updateMenuItems()},updateMenuItems:function(){var t=this,n=this,r=n.dom,i=n.mediator;i.exec("selection:ensure:text:only");for(var s=0;s<r.toolbarMenuItems.length;s++){var o=r.toolbarMenuItems[s];t.updateMenuItemState(o)}},updateMenuItemState:function(t){var n=this,r=n.props,i=this.getMenuItemState(t);i.isDisabled?t.setAttribute("disabled",""):t.removeAttribute("disabled"),o.toggleClass(t,r.classNames.ACTIVE,i.isActive)},getMenuItemState:function(t){var n=this,r=n.mediator,i=t.dataset,s=i.configKey,o=ft.buttonConfigs[s],u=o.activeIn||[],a=o.disabledIn||[],f=r.get("selection:in:or:contains",u),l=!1;return typeof a=="function"?l=a.call(o,r):l=r.get("selection:in:or:contains",a),{isActive:f,isDisabled:l}},destroy:function(){var t=this,n=t.props;n.flyout.remove()}}}),dt=et.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o;return"<div class='typester-flyout place-above'>\n    <div class='typester-flyout-content'>\n        "+((s=(o=(o=n.content||(t!=null?t.content:t))!=null?o:n.helperMissing,typeof o==="function"?o.call(t!=null?t:e.nullContext||{},{name:"content",hash:{},data:i}):o))!=null?s:"")+"\n    </div>\n</div>\n"},useData:!0}),vt=function(e,t,n){var r=dt(e,t);return n||!0?r:$(r)},mt=".typester-flyout {\n  transition: top 200ms, left 200ms;\n  position: absolute;\n  z-index: 1600;\n  top: 50%;\n  left: 50%; }\n  .typester-flyout .typester-flyout-content {\n    background: #201f20;\n    height: 40px;\n    width: auto; }\n    .typester-flyout .typester-flyout-content:after {\n      content: '';\n      position: absolute;\n      left: 50%;\n      height: 0;\n      width: 0;\n      border-left: 10px solid transparent;\n      border-right: 10px solid transparent; }\n  .typester-flyout.place-above {\n    transform: translate3d(-50%, -100%, 0);\n    padding-bottom: 12px; }\n    .typester-flyout.place-above .typester-flyout-content:after {\n      top: 100%;\n      border-top: 10px solid #201f20;\n      transform: translate3d(-50%, -12px, 0); }\n  .typester-flyout.place-below {\n    transform: translate3d(-50%, 0, 0);\n    padding-top: 12px; }\n    .typester-flyout.place-below .typester-flyout-content:after {\n      bottom: 100%;\n      border-bottom: 10px solid #201f20;\n      transform: translate3d(-50%, 12px, 0); }\n  .typester-flyout a {\n    color: #FFF; }\n",gt=u({name:"Flyout",dom:{},props:{minZIndex:90,styles:null,flyouts:[]},handlers:{requests:{"flyout:new":"newFlyout"},commands:{},events:{"app:destroy":"destroy"}},methods:{setup:function(){this.appendStyles()},init:function(){},appendStyles:function(){var t=this,n=t.props;n.styles=o.addStyles(mt)},newFlyout:function(){var t=this,n=t.props,r=this.buildFlyout();return n.flyouts.push(r),r},buildFlyout:function(){var t=this,n={el:this.buildTemplate(),appended:null};return n.contentEl=n.el.querySelector(".typester-flyout-content"),n.clearContent=function(){n.contentEl.innerHTML=""},n.appendContent=function(e){return o.appendTo(n.contentEl,e)},n.show=function(){t.showFlyout(n)},n.remove=function(){t.removeFlyout(n)},n.hide=function(){t.hideFlyout(n)},n.position=function(e){t.positionFlyout(n,e)},n.setPlacement=function(e){t.setPlacement(n,e)},n},buildTemplate:function(){var t=document.createElement("div"),n,r;return n=vt(),typeof n=="string"?t.innerHTML=n:t.appendChild(n[0]),r=t.childNodes[0],r},appendFlyout:function(t){o.appendTo(document.body,t.el)},removeFlyout:function(t){t.appended&&(o.removeNode(t.el),t.appended=!1)},positionFlyout:function(t,n){var r=this,i=r.mediator,s=r.props,u=i.get("contenteditable:element"),a=Math.max(s.minZIndex,o.getContainerZIndex(u));Object.keys(n).forEach(function(e){t.el.style[e]=n[e]}),t.el.style.zIndex=a+1},setPlacement:function(t,n){n===void 0&&(n="above"),t.el.classList.remove("place-below"),t.el.classList.remove("place-above"),t.el.classList.add("place-"+n)},showFlyout:function(t){t.appended?t.el.style.display="block":(this.appendFlyout(t),t.appended=!0)},hideFlyout:function(t){t.el.style.display="none"},destroy:function(){var t=this,n=t.props;n.flyouts.forEach(function(e){e.remove()})}}}),yt=u({name:"Mouse",props:{mousedown:0},dom:{},handlers:{requests:{"mouse:is:down":"mouseIsDown"},commands:{},events:{"contenteditable:blur":"handleContentEditableBlur"}},methods:{init:function(){var t=this,n=this,r=n.mediator;document.body.onmousedown=function(){t.setMousedown(),r.emit("mouse:down")},document.body.onmouseup=function(){t.unsetMousedown(),r.emit("mouse:up")}},setMousedown:function(){var t=this,n=t.props;n.mousedown+=1,n.mousedown=Math.min(1,n.mousedown)},unsetMousedown:function(){var t=this,n=t.props;n.mousedown-=1,n.mousedown=Math.max(0,n.mousedown)},mouseIsDown:function(){var t=this,n=t.props;return!!n.mousedown},handleContentEditableBlur:function(){var t=this,n=t.props;n.mousedown=0}}}),bt=i({name:"UIContainer",modules:[{"class":gt},{"class":pt,opts:{dom:{el:document.body}}},{"class":yt}]}),wt={commands:{bold:{tags:["B","STRONG"],togglable:!0},italic:{tags:["I"],togglable:!0},formatBlock:{tags:["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE"],unwrapIfIn:["bold","formatBlock","insertOrderedList","insertUnorderedList"]},insertOrderedList:{tags:["OL","LI"],unwrapIfIn:["formatBlock"],togglable:!0},insertUnorderedList:{tags:["UL","LI"],unwrapIfIn:["formatBlock"],togglable:!0},createLink:{tags:["A"]}},defaultBlock:"P",paste:{invalidTags:["SCRIPT","LINK","IMG"]},global:{},toolbar:{},contentEditable:{}},Et={exec:function(t,n,r){n===void 0&&(n=null),r===void 0&&(r=document),t==="formatBlock"&&(n=Et.prepBlockValue(n)),r.execCommand(t,!1,n)},formatBlock:function(t,n){n===void 0&&(n=document),Et.exec("formatBlock",t,n)},defaultBlockFormat:function(t){t===void 0&&(t=document),Et.formatBlock(wt.defaultBlock,t)},prepBlockValue:function(t){var n=s.ieVersion();return t=t.toUpperCase(),n&&n<12?"<"+t+">":t}},St="&ZeroWidthSpace;",xt={generate:function(){var t=document.createElement("span");return t.innerHTML=St,t},get:function(){var t=xt.generate();return t.firstChild},assert:function(t){var n=xt.generate();if(t.nodeType===Node.ELEMENT_NODE)return t.innerHTML===n.innerHTML;if(t.nodeType===Node.TEXT_NODE)return t.nodeValue===n.firstChild.nodeValue}},Tt=ft.getValidTags(),Nt=ft.getBlockTags(),Ct=ft.getListTags(),kt=u({name:"BaseFormatter",props:{},handlers:{requests:{},commands:{"format:export:to:canvas":"exportToCanvas","format:import:from:canvas":"importFromCanvas","format:default":"formatDefault","format:clean":"formatClean"},events:{"contenteditable:newline":"handleNewLine"}},methods:{init:function(){},exportToCanvas:function(){var t=this,n=t.mediator,r=n.get("selection:rootelement"),i=n.get("canvas:body");this.injectHooks(r);var s=n.get("selection:range:coordinates"),o=this.cloneNodes(r);n.exec("canvas:content",o),n.exec("canvas:select:by:coordinates",s),this.removeZeroWidthSpaces(i)},cloneNodes:function(t){var n=[];return t.childNodes.forEach(function(e){n.push(e.cloneNode(!0))}),n},injectHooks:function(t){while(!/\w+/.test(t.firstChild.textContent))o.removeNode(t.firstChild);while(!/\w+/.test(t.lastChild.textContent))o.removeNode(t.lastChild);o.insertBefore(xt.get(),t.firstChild),o.insertAfter(xt.get(),t.lastChild)},importFromCanvas:function(t){t===void 0&&(t={});var n=this,r=n.mediator,i=r.get("canvas:body");r.exec("canvas:cache:selection"),r.exec("format:clean",i),t.importFilter&&t.importFilter(i),r.exec("canvas:select:cachedSelection");var s=r.get("canvas:selection:coordinates");r.exec("selection:select:all"),r.exec("contenteditable:inserthtml",i.innerHTML),r.exec("selection:select:coordinates",s),r.emit("import:from:canvas:complete")},formatDefault:function(){var t=this,n=t.mediator,r=n.get("selection:rootelement");Et.defaultBlockFormat(),this.removeStyledSpans(r)},formatEmptyNewLine:function(){var t=this,n=t.mediator,r=n.get("selection:anchornode"),i=(!r.innerText||!r.innerText.trim().length)&&!o.isIn(r,ft.preventNewlineDefault),s=r.hasAttribute&&r.hasAttribute("contenteditable");(i||s)&&this.formatDefault()},formateBlockquoteNewLine:function(){var t=this,n=t.mediator;Et.exec("outdent"),this.formatDefault();var r=n.get("selection:range").cloneRange(),i=r.startContainer;if(i.previousSibling&&i.previousSibling.nodeName==="BLOCKQUOTE"){var s=i.previousSibling.querySelectorAll("br"),u=i.previousSibling.querySelectorAll("div");for(var a=0;a<s.length;a++)o.removeNode(s[a]);for(var f=0;f<u.length;f++)o.unwrap(u[f]);n.exec("selection:update:range",r)}},handleNewLine:function(){var t=this,n=t.mediator,r=n.get("selection:range"),i=r.startContainer,s=!/\w+/.test(i.textContent),u=o.isIn(i,"BLOCKQUOTE"),a=i.nodeType===Node.ELEMENT_NODE&&i.hasAttribute("contenteditable");u?this.formateBlockquoteNewLine():(s||a)&&this.formatEmptyNewLine()},formatClean:function(t){this.unwrapInvalidElements(t),this.defaultOrphanedTextNodes(t),this.removeBrNodes(t),this.ensureRootElems(t),this.removeStyleAttributes(t),this.removeEmptyNodes(t,{recursive:!0})},removeStyleAttributes:function(t){var n=t.querySelectorAll("[style]");n.forEach(function(e){e.removeAttribute("style")})},removeBrNodes:function(t){var n=t.querySelectorAll("br"),r=[],i=[];n.forEach(function(e){var n=e.skipNode;if(n)return;var s=e===e.parentNode.lastChild,u=e.nextSibling&&e.nextSibling.nodeName==="BR",a=o.isIn(e,Nt,t);if(s){i.push(s);return}if(u&&a){r.push([e,e.nextSibling]),e.nextSibling.skipNode=!0;return}}),r.forEach(function(e){var n=e[0],r=e[1],i=o.getClosestInArray(n,Nt,t),s=document.createElement("p"),u;while(u=n.previousSibling)s.firstChild?o.insertBefore(u,s.firstChild):s.appendChild(u),o.insertBefore(s,i);o.removeNode(n),o.removeNode(r)}),i.forEach(function(e){o.removeNode(e)})},unwrapInvalidElements:function(t){var n=t.ownerDocument,r=n.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,null,!1),i=[];while(r.nextNode()){var s=r.currentNode,u=Tt.indexOf(s.nodeName)<0,a=s.nodeName==="BR",f=s.className&&/typester/.test(s.className);u&&!a&&!f&&i.unshift(s)}i.forEach(function(e){var r=o.unwrap(e,{keepNode:!0});if(!o.isIn(e,Tt,t)&&r.length){var i=n.createElement("p");r.forEach(function(e){i.appendChild(e)}),o.insertBefore(i,e)}o.removeNode(e)})},defaultOrphanedTextNodes:function(t){var n=t.childNodes;for(var r=0;r<n.length;r++){var i=n[r];if(i.nodeType===Node.TEXT_NODE&&/\w+/.test(i.textContent)){var s=document.createElement("p");o.insertBefore(s,i),s.appendChild(i);while(s.nextSibling&&Nt.concat(Ct).indexOf(s.nextSibling.nodeName)<0)s.appendChild(s.nextSibling)}}},clearEntities:function(t){var n=t.ownerDocument,r=n.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1),i=[];while(r.nextNode())i.push(r.currentNode);i.forEach(function(e){/\w+/.test(e.textContent)&&(e.nodeValue=e.nodeValue.replace(/^\u00a0/,""),e.nodeValue=e.nodeValue.replace(/\u00a0$/,""))})},ensureRootElems:function(t){var n=["H1","H2","H3","H4","H5","H6","OL","UL","BLOCKQUOTE","P"],r=[{tags:["OL","UL"],validParents:["OL","UL","LI"]},{tags:["H1","H2","H3","H4","H5","H6"],validParents:["LI"]}],i=t.querySelectorAll(n.join(", ")),s=function(e){var t=!1;return r.forEach(function(n){n.tags.indexOf(e.tagName)>-1&&n.validParents.indexOf(e.parentNode.tagName)>-1&&(t=!0)}),t},u=function(e){if(e.parentNode===t)return;if(s(e))return;var n=e.parentNode;if(e.tagName==="P"&&["LI","BLOCKQUOTE"].indexOf(n.tagName)>-1){while(e.firstChild)o.insertBefore(e.firstChild,e);o.removeNode(e);return}while(n.parentNode!==t)n=n.parentNode;o.insertBefore(e,n)};i.forEach(u)},removeZeroWidthSpaces:function(t){t.childNodes.forEach(function(e){e.nodeType===Node.TEXT_NODE&&xt.assert(e)&&o.removeNode(e)})},removeEmptyNodes:function(t,n){var r=this;n===void 0&&(n={}),t.normalize&&t.normalize();for(var i=t.childNodes.length-1;i>=0;i--){var s=t.childNodes[i];if(s.nodeName==="BR")continue;n.recursive&&s.childNodes.length&&r.removeEmptyNodes(s,{recursive:!0,rootIsChild:!0}),/[\w\.,\/#!$%\^&\*;:{}=\-_`~()\'\"]/.test(s.textContent)||(!n.rootIsChild&&!xt.assert(s)&&i>0||s.nodeType===Node.ELEMENT_NODE)&&o.removeNode(s)}},removeStyledSpans:function(t){var n=t.querySelectorAll("span[style]");for(var r=n.length-1;r>=0;r--){var i=n[r];while(i.firstChild)o.insertBefore(i.firstChild,i);o.removeNode(i)}},removeFontNodes:function(t){var n=t.querySelectorAll("font");for(var r=n.length-1;r>=0;r--){var i=n[r];while(i.firstChild)o.insertBefore(i.firstChild,i);o.removeNode(i)}}}}),Lt=u({name:"BlockFormatter",props:{selectionRootEl:null},handlers:{commands:{"format:block":"formatBlock"},events:{}},methods:{init:function(){},formatBlock:function(t){this.preProcess(t),this.process(t),this.commit(t)},preProcess:function(){var t=this,n=t.mediator;n.exec("format:export:to:canvas")},process:function(t){var n=this,r=n.mediator,i=r.get("canvas:document");t.toggle?(t.style==="BLOCKQUOTE"&&Et.exec("outdent",null,i),Et.defaultBlockFormat(i)):Et.formatBlock(t.style,i)},commit:function(t){var n=this,r=n.mediator,i=n.cleanupBlockquote,s=t.style==="BLOCKQUOTE"?i:null;r.exec("format:import:from:canvas",{importFilter:s})},cleanupBlockquote:function(t){var n=t.querySelectorAll("BLOCKQUOTE P");n.forEach(function(e){o.unwrap(e)})}}}),At=u({name:"TextFormatter",props:{cachedRange:null},handlers:{requests:{},commands:{"format:text":"formatText"},events:{}},methods:{formatText:function(t){this.preProcess(),this.process(t),this.postProcess()},preProcess:function(){var t=this,n=t.mediator;n.exec("contenteditable:refocus"),n.exec("selection:reselect")},process:function(t){Et.exec(t.style,null)},postProcess:function(){var t=this,n=t.mediator;n.exec("contenteditable:refocus")}}}),Ot=u({name:"ListFormatter",props:{},dom:{},handlers:{requests:{},commands:{"format:list":"formatList","format:list:cleanup":"cleanupListDOM"},events:{"contenteditable:tab:down":"handleTabDown","contenteditable:tab:up":"handleTabUp"}},methods:{init:function(){},formatList:function(t){this.preProcess(t),this.process(t),this.commit(t)},preProcess:function(){var t=this,n=t.mediator;n.exec("format:export:to:canvas")},process:function(t){var n=this,r=n.mediator,i=r.get("canvas:document"),s=!1;r.exec("canvas:cache:selection");switch(t.style){case"ordered":s=r.get("selection:in:or:contains",["OL"]),s||r.get("selection:in:or:contains",["UL"])&&Et.exec("insertUnorderedList",null,i),Et.exec("insertOrderedList",null,i);break;case"unordered":s=r.get("selection:in:or:contains",["UL"]),r.get("selection:in:or:contains",["OL"])&&Et.exec("insertOrderedList",null,i),Et.exec("insertUnorderedList",null,i);break;case"outdent":Et.exec("outdent",null,i);break;case"indent":Et.exec("indent",null,i)}s?this.postProcessToggle(t):r.exec("canvas:select:ensure:offsets")},commit:function(){var t=this,n=t.mediator,r=t.cleanupListDOM;n.exec("format:import:from:canvas",{importFilter:r})},handleTabDown:function(t){var n=this,r=n.mediator,i=r.get("selection:in:or:contains",["UL","OL"]);i&&t.preventDefault()},handleTabUp:function(t){var n=this,r=n.mediator,i=r.get("selection:in:or:contains",["UL","OL"]);i&&(t.preventDefault(),t.shiftKey)},prepListItemsForToggle:function(){var t=this,n=t.mediator,r=n.get("canvas:document"),i=n.get("canvas:body"),s=n.get("canvas:selection"),u=s.anchorNode,a=s.focusNode,f=o.getClosest(u,"LI",i),l=o.getClosest(a,"LI",i);n.exec("canvas:cache:selection");var c=[f],h=f.nextSibling;while(h&&h!==l)c.push(h),h=h.nextSibling;c.push(l),c.forEach(function(e){var t=r.createElement("span");e.appendChild(t);while(e.firstChild!==t)t.appendChild(e.firstChild)}),n.exec("canvas:select:cachedSelection");return},postProcessToggle:function(){var t=this,n=t.mediator,r=n.get("canvas:document"),i=n.get("canvas:body");n.exec("canvas:cache:selection");var s=n.get("canvas:selection"),u=s.anchorNode,a=s.focusNode,f=function(e){var t=e;while(t.parentNode!==i)t=t.parentNode;return t},l=f(u),c=f(a),h=l,p,d=function(){p=r.createElement("p"),o.insertBefore(p,h)},v=function(e){d(),h=e.nextSibling,o.removeNode(e)},m=function(e){d(),h=e.nextSibling;while(e.firstChild)p.appendChild(e.firstChild);o.removeNode(e)};d();while(h!==c)if(h.nodeName==="BR")v(h);else if(h.nodeName==="DIV")m(h);else{var g=h;h=h.nextSibling,p.appendChild(g)}c.nodeName==="DIV"?m(c):p.appendChild(c),n.exec("canvas:select:cachedSelection")},cleanupListDOM:function(t){var n=t.querySelectorAll("OL, UL");for(var r=n.length-1;r>=0;r--){var i=n[r];if(["OL","UL"].indexOf(i.parentNode.nodeName)>-1)if(i.previousSibling){i.previousSibling.nodeName==="LI"&&i.previousSibling.appendChild(i);if(["OL","UL"].indexOf(i.previousSibling.nodeName)>-1){for(var s=0;s<=i.childNodes.length;s++)i.previousSibling.appendChild(i.childNodes[s]);o.removeNode(i)}}else o.unwrap(i);else while(i.parentNode&&i.parentNode!==t&&["LI"].indexOf(i.parentNode.nodeName)<0)o.insertBefore(i,i.parentNode)}var u=t.querySelectorAll("LI > LI");for(var a=u.length-1;a>=0;a--){var f=u[a];o.insertAfter(f,f.parentNode)}}}}),Mt=et.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return"<form class='typester-input-form'>\n    <input type='text' name='user-input' class='user-input' value='"+e.escapeExpression((s=(s=n.value||(t!=null?t.value:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:i}):s))+'\' />\n    <button type=\'submit\'>\n        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n             viewBox="0 180 20 20" enable-background="new 0 180 20 20" xml:space="preserve" height="20px" width="20px">\n             <polyline class="checkmark-2" fill="none" stroke="#FFFFFF" stroke-width="5.3" stroke-miterlimit="10" points="1.9,188.8 7.5,194.4 18.1,183.9 "/>\n        </svg>\n    </button>\n    <button type=\'cancel\'>\n        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n             viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve" width="20px" height="20px">\n             <path id="XMLID_730_" d="M16.4,19.8c-0.2,0.2-0.5,0.2-0.6,0L10,14l-5.7,5.7c-0.2,0.2-0.5,0.2-0.6,0l-3.4-3.4c-0.2-0.2-0.2-0.5,0-0.6\n            L6,10L0.2,4.3c-0.2-0.2-0.2-0.5,0-0.6l3.4-3.4c0.2-0.2,0.5-0.2,0.6,0L10,6l5.7-5.7c0.2-0.2,0.5-0.2,0.6,0l3.4,3.4\n            c0.2,0.2,0.2,0.5,0,0.6L14,10l5.7,5.7c0.2,0.2,0.2,0.5,0,0.6L16.4,19.8z"/>\n        </svg>\n    </button>\n</form>\n'},useData:!0}),_t=function(e,t,n){var r=Mt(e,t);return n||!0?r:$(r)},Dt=et.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return"<div class='typester-link-display'>\n    <a>"+e.escapeExpression((s=(s=n.href||(t!=null?t.href:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:e.nullContext||{},{name:"href",hash:{},data:i}):s))+"</a>\n</div>\n"},useData:!0}),Pt=function(e,t,n){var r=Dt(e,t);return n||!0?r:$(r)},Ht=".typester-input-form input[type=text] {\n  background: none;\n  border: none;\n  padding: 5px 15px;\n  height: 30px;\n  color: #FFF;\n  width: 250px;\n  outline: none;\n  vertical-align: top; }\n\n.typester-input-form button {\n  height: 40px;\n  width: 40px;\n  line-height: 40px;\n  background: none;\n  border: none;\n  color: #FFF;\n  cursor: pointer;\n  outline: none;\n  text-align: center;\n  padding: 0;\n  margin: 0;\n  vertical-align: top; }\n  .typester-input-form button:hover {\n    background: #00aeef; }\n  .typester-input-form button svg {\n    display: block;\n    height: 16px;\n    width: 16px;\n    margin: 12px;\n    fill: #FFF;\n    stroke: #FFF;\n    text-align: center; }\n\n.typester-link-display a {\n  display: block;\n  cursor: pointer;\n  line-height: 20px;\n  padding: 10px; }\n",Bt=u({name:"LinkFormatter",props:{urlRegex:/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/,styles:null,currentAnchor:null,active:!1,hasMouse:!1,showing:null,hideTimeout:null,initialEvent:null,targetEl:null,hasRendered:null},dom:{userInput:".user-input"},handlers:{requests:{"format:link:active":"isActive"},commands:{"format:link":"formatLink"},events:{"app:destroy":"destroy","contenteditable:mouseover:anchor":"showLinkFlyout","contenteditable:mouseout:anchor":"hideFlyout","selection:update":"handleSelectionChange","selection:change":"handleSelectionChange","contenteditable:blur":"handleContentEditableBlur"},domEvents:{submit:"handleSubmit",click:"handleClick",mouseover:"handleMouseOver",mouseout:"handleMouseOut"}},methods:{setup:function(){this.appendStyles()},appendStyles:function(){var t=this,n=t.props;n.styles=o.addStyles(Ht)},formatLink:function(){this.isInLink()?this.removeLink():this.showLinkFormFlyout()},isInLink:function(){var t=this,n=t.mediator;return n.get("selection:in:or:contains",["A"])},showLinkFormFlyout:function(t){var n=this,r=n.mediator,i=n.props,s=this.compileLinkForm(t);i.showing="linkForm",this.render({content:s}),r.exec("selection:wrap:pseudo"),this.focusInput(),this.bindInput()},showLinkFlyout:function(t){var n=this,r=n.props,i=n.mediator,s=o.getClosest(t.target,"A");if(i.get("selection:contains:node",s)||r.showing==="linkForm")return;this.clearHideTimeout();var u=this.compileLinkDisplay({href:s.href});r.initialEvent=t,r.targetEl=s,this.render({content:u,flyoutPlacement:"below"}),r.showing="linkDisplay",r.currentAnchor=s},hideFlyout:function(){var t=this,n=this,r=n.props;r.hideTimeout=setTimeout(function(){!t.isActive()&&r.hasRendered&&t.destroy()},350)},clearHideTimeout:function(){var t=this,n=t.props;n.hideTimeout&&(clearTimeout(n.hideTimeout),n.hideTimeout=null)},compileLinkForm:function(t){var n=document.createElement("div"),r=_t(t);return typeof r=="string"?n.innerHTML=r:n.appendChild(r[0]),n.childNodes[0]},compileLinkDisplay:function(t){var n=document.createElement("div"),r=Pt(t);return typeof r=="string"?n.innerHTML=r:n.appendChild(r[0]),n.childNodes[0]},render:function(t){var n=this,r=n.mediator,i=n.props;return i.hasMouse=!1,i.flyout=i.flyout||r.get("flyout:new"),i.flyout.clearContent(),i.flyout.setPlacement(t.flyoutPlacement),i.flyout.appendContent(t.content),this.positionFlyout(t),this.showFlyout(),i.hasRendered=!0,i.flyout.el},positionFlyout:function(t){var n=this,r=n.mediator,i=n.props,s=i.initialEvent,u=i.targetEl,a,f,l,c,h;u?(a=u.getBoundingClientRect(),f=window.getComputedStyle(u),l=parseInt(f.getPropertyValue("line-height"),10),c=Math.ceil(a.height/l),h=a.height/c):a=r.get("selection:bounds");if(a.width>0){var p=o.getScrollOffset(),d,v;if(s){var m=s.clientY-a.top;d=s.clientY,v=s.clientX,t.flyoutPlacement==="below"?d=a.top+h*Math.ceil(m/h):d=a.top+h*Math.floor(m/h)}else d=t.flyoutPlacement==="below"?a.bottom:a.top,v=a.width/2+a.left+p.x;d+=p.y,i.flyout.position({left:v+"px",top:d+"px"})}},showFlyout:function(){var t=this,n=t.mediator,r=t.props;r.flyout.show(),n.exec("toolbar:hide")},focusInput:function(){var t=this,n=t.dom;n.userInput[0].focus()},bindInput:function(){var t=this,n=t.dom,r=t.props;n.userInput[0].addEventListener("blur",this.handleBlur),r.userInputBound=!0},unbindInput:function(){var t=this,n=t.dom,r=t.props;r.userInputBound&&(r.userInputBound=!1,n.userInput[0].removeEventListener("blur",this.handleBlur))},handleSubmit:function(t){t.preventDefault();var n=this.processForm();n["user-input"]?this.createLink(n):this.removeLink({byPseudo:!0})},handleClick:function(t){var n=this,r=n.mediator,i=n.props;t.target.nodeName==="A"&&(t.preventDefault(),r.exec("selection:wrap:element",i.currentAnchor,{silent:!0}),this.showLinkFormFlyout({value:i.currentAnchor.href}))},handleMouseOver:function(){var t=this,n=t.props;n.hasMouse=!0},handleMouseOut:function(){var t=this,n=t.props;n.hasMouse=!1,n.showing==="linkDisplay"&&this.hideFlyout()},handleBlur:function(){var t=this,n=this,r=n.props;r.blurTimeout&&clearTimeout(r.blurTimeout),r.blurTimeout=setTimeout(function(){t.hideFlyout()},100)},handleSelectionChange:function(){this.isActive()||this.hideFlyout()},handleContentEditableBlur:function(){this.hideFlyout()},isActive:function(){var t=this,n=t.props,r=t.dom;return n.hasMouse||r&&document.activeElement===r.userInput[0]||n.showingLinkFlyout},processForm:function(){var t=this,n=t.dom,r=n.el[0].querySelectorAll("input, select, textarea"),i={};for(var s=0;s<r.length;s++){var o=r[s],u=o.name,a=o.value;u&&(i[u]=a)}return i},processLinkInput:function(t){var n=this,r=n.props;return r.urlRegex.test(t)&&t.indexOf("//")<0&&(t="http://"+t),t},createLink:function(t){var n=this,r=n.mediator;if(t["user-input"]){var i=this.processLinkInput(t["user-input"]);r.exec("selection:select:pseudo"),Et.exec("unlink"),Et.exec("createLink",i)}this.destroy()},removeLink:function(t){t===void 0&&(t={});var n=this,r=n.mediator;if(t.byPseudo)r.exec("selection:select:pseudo");else{var i=r.get("selection:anchornode"),s=o.getClosest(i,"A");r.exec("selection:wrap:element",s)}Et.exec("unlink"),this.destroy()},destroy:function(){var t=this,n=t.props,r=t.mediator;n.flyout&&(this.unbindInput(),n.flyout.remove()),n.showing=null,n.hasMouse=!1,n.hasRendered=null,r.exec("selection:select:remove:pseudo")}}}),jt=l(function(e,t){(function(t,n){e.exports=n()})(a,function(){function f(e,t){var n=t.length;while(n--)typeof t[n]=="string"&&(t[n]=t[n].toLowerCase()),e[t[n]]=!0;return e}function l(e){var t={},n=void 0;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function h(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(){var v=arguments.length>0&&arguments[0]!==undefined?arguments[0]:p(),m=function(t){return d(t)};m.version="1.0.2",m.removed=[];if(!v||!v.document||v.document.nodeType!==9)return m.isSupported=!1,m;var g=v.document,y=!1,b=!1,w=v.document,E=v.DocumentFragment,S=v.HTMLTemplateElement,x=v.Node,T=v.NodeFilter,N=v.NamedNodeMap,C=N===undefined?v.NamedNodeMap||v.MozNamedAttrMap:N,k=v.Text,L=v.Comment,A=v.DOMParser,O=v.XMLHttpRequest,M=O===undefined?v.XMLHttpRequest:O,_=v.encodeURI,D=_===undefined?v.encodeURI:_;if(typeof S=="function"){var P=w.createElement("template");P.content&&P.content.ownerDocument&&(w=P.content.ownerDocument)}var H=w,B=H.implementation,j=H.createNodeIterator,F=H.getElementsByTagName,I=H.createDocumentFragment,q=g.importNode,R={};m.isSupported=B&&typeof B.createHTMLDocument!="undefined"&&w.documentMode!==9;var U=null,z=f({},[].concat(h(e),h(t),h(n),h(r),h(i))),W=null,X=f({},[].concat(h(s),h(o),h(u),h(a))),V=null,$=null,J=!0,K=!0,Q=!1,G=!1,Y=!1,Z=/\{\{[\s\S]*|[\s\S]*\}\}/gm,et=/<%[\s\S]*|[\s\S]*%>/gm,tt=!1,nt=!1,rt=!1,it=!1,st=!1,ot=!1,ut=!0,at=!0,ft={},lt=f({},["audio","head","math","script","style","template","svg","video"]),ct=f({},["audio","video","img","source","image"]),ht=f({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),pt=null,dt=w.createElement("form"),vt=function(d){(typeof d=="undefined"?"undefined":c(d))!=="object"&&(d={}),U="ALLOWED_TAGS"in d?f({},d.ALLOWED_TAGS):z,W="ALLOWED_ATTR"in d?f({},d.ALLOWED_ATTR):X,V="FORBID_TAGS"in d?f({},d.FORBID_TAGS):{},$="FORBID_ATTR"in d?f({},d.FORBID_ATTR):{},ft="USE_PROFILES"in d?d.USE_PROFILES:!1,J=d.ALLOW_ARIA_ATTR!==!1,K=d.ALLOW_DATA_ATTR!==!1,Q=d.ALLOW_UNKNOWN_PROTOCOLS||!1,G=d.SAFE_FOR_JQUERY||!1,Y=d.SAFE_FOR_TEMPLATES||!1,tt=d.WHOLE_DOCUMENT||!1,it=d.RETURN_DOM||!1,st=d.RETURN_DOM_FRAGMENT||!1,ot=d.RETURN_DOM_IMPORT||!1,rt=d.FORCE_BODY||!1,ut=d.SANITIZE_DOM!==!1,at=d.KEEP_CONTENT!==!1,Y&&(K=!1),st&&(it=!0),ft&&(U=f({},[].concat(h(i))),W=[],ft.html===!0&&(f(U,e),f(W,s)),ft.svg===!0&&(f(U,t),f(W,o),f(W,a)),ft.svgFilters===!0&&(f(U,n),f(W,o),f(W,a)),ft.mathMl===!0&&(f(U,r),f(W,u),f(W,a))),d.ADD_TAGS&&(U===z&&(U=l(U)),f(U,d.ADD_TAGS)),d.ADD_ATTR&&(W===X&&(W=l(W)),f(W,d.ADD_ATTR)),d.ADD_URI_SAFE_ATTR&&f(ht,d.ADD_URI_SAFE_ATTR),at&&(U["#text"]=!0),Object&&"freeze"in Object&&Object.freeze(d),pt=d},mt=function(t){m.removed.push({element:t});try{t.parentNode.removeChild(t)}catch(n){t.outerHTML=""}},gt=function(t,n){m.removed.push({attribute:n.getAttributeNode(t),from:n}),n.removeAttribute(t)},yt=function(t){var n=void 0,r=void 0;rt&&(t="<remove></remove>"+t);if(b){try{t=D(t)}catch(i){}var s=new M;s.responseType="document",s.open("GET","data:text/html;charset=utf-8,"+t,!1),s.send(null),n=s.response}if(y)try{n=(new A).parseFromString(t,"text/html")}catch(i){}if(!n||!n.documentElement)n=B.createHTMLDocument(""),r=n.body,r.parentNode.removeChild(r.parentNode.firstElementChild),r.outerHTML=t;return F.call(n,tt?"html":"body")[0]};m.isSupported&&function(){var e=yt('<svg><g onload="this.parentNode.remove()"></g></svg>');e.querySelector("svg")||(b=!0);try{e=yt('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'),e.querySelector("svg img")&&(y=!0)}catch(t){}}();var bt=function(t){return j.call(t.ownerDocument||t,t,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT,function(){return T.FILTER_ACCEPT},!1)},wt=function(t){return t instanceof k||t instanceof L?!1:typeof t.nodeName=="string"&&typeof t.textContent=="string"&&typeof t.removeChild=="function"&&t.attributes instanceof C&&typeof t.removeAttribute=="function"&&typeof t.setAttribute=="function"?!1:!0},Et=function(t){return(typeof x=="undefined"?"undefined":c(x))==="object"?t instanceof x:t&&(typeof t=="undefined"?"undefined":c(t))==="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"},St=function(t,n,r){if(!R[t])return;R[t].forEach(function(e){e.call(m,n,r,pt)})},xt=function(t){var n=void 0;St("beforeSanitizeElements",t,null);if(wt(t))return mt(t),!0;var r=t.nodeName.toLowerCase();St("uponSanitizeElement",t,{tagName:r,allowedTags:U});if(!U[r]||V[r]){if(at&&!lt[r]&&typeof t.insertAdjacentHTML=="function")try{t.insertAdjacentHTML("AfterEnd",t.innerHTML)}catch(i){}return mt(t),!0}return G&&!t.firstElementChild&&(!t.content||!t.content.firstElementChild)&&/</g.test(t.textContent)&&(m.removed.push({element:t.cloneNode()}),t.innerHTML=t.textContent.replace(/</g,"&lt;")),Y&&t.nodeType===3&&(n=t.textContent,n=n.replace(Z," "),n=n.replace(et," "),t.textContent!==n&&(m.removed.push({element:t.cloneNode()}),t.textContent=n)),St("afterSanitizeElements",t,null),!1},Tt=/^data-[\-\w.\u00B7-\uFFFF]/,Nt=/^aria-[\-\w]+$/,Ct=/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,kt=/^(?:\w+script|data):/i,Lt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,At=function(t){var n=void 0,r=void 0,i=void 0,s=void 0,o=void 0,u=void 0,a=void 0;St("beforeSanitizeAttributes",t,null),u=t.attributes;if(!u)return;var f={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W};a=u.length;while(a--){n=u[a],r=n.name,i=n.value.trim(),s=r.toLowerCase(),f.attrName=s,f.attrValue=i,f.keepAttr=!0,St("uponSanitizeAttribute",t,f),i=f.attrValue;if(s==="name"&&t.nodeName==="IMG"&&u.id)o=u.id,u=Array.prototype.slice.apply(u),gt("id",t),gt(r,t),u.indexOf(o)>a&&t.setAttribute("id",o.value);else{if(t.nodeName==="INPUT"&&s==="type"&&i==="file"&&(W[s]||!$[s]))continue;r==="id"&&t.setAttribute(r,""),gt(r,t)}if(!f.keepAttr)continue;if(ut&&(s==="id"||s==="name")&&(i in v||i in w||i in dt))continue;Y&&(i=i.replace(Z," "),i=i.replace(et," "));if(!K||!Tt.test(s))if(!J||!Nt.test(s)){if(!W[s]||$[s])continue;if(!ht[s]&&!Ct.test(i.replace(Lt,""))&&(s!=="src"&&s!=="xlink:href"||i.indexOf("data:")!==0||!ct[t.nodeName.toLowerCase()])&&(!Q||!!kt.test(i.replace(Lt,"")))&&!!i)continue}try{t.setAttribute(r,i),m.removed.pop()}catch(l){}}St("afterSanitizeAttributes",t,null)},Ot=function Mt(e){var t=void 0,n=bt(e);St("beforeSanitizeShadowDOM",e,null);while(t=n.nextNode()){St("uponSanitizeShadowNode",t,null);if(xt(t))continue;t.content instanceof E&&Mt(t.content),At(t)}St("afterSanitizeShadowDOM",e,null)};return m.sanitize=function(e,t){var n=void 0,r=void 0,i=void 0,s=void 0,o=void 0;e||(e="<!-->");if(typeof e!="string"&&!Et(e)){if(typeof e.toString!="function")throw new TypeError("toString is not a function");e=e.toString()}if(!m.isSupported){if(c(v.toStaticHTML)==="object"||typeof v.toStaticHTML=="function"){if(typeof e=="string")return v.toStaticHTML(e);if(Et(e))return v.toStaticHTML(e.outerHTML)}return e}nt||vt(t),m.removed=[];if(e instanceof x)n=yt("<!-->"),r=n.ownerDocument.importNode(e,!0),r.nodeType===1&&r.nodeName==="BODY"?n=r:n.appendChild(r);else{if(!it&&!tt&&e.indexOf("<")===-1)return e;n=yt(e);if(!n)return it?null:""}rt&&mt(n.firstChild);var u=bt(n);while(i=u.nextNode()){if(i.nodeType===3&&i===s)continue;if(xt(i))continue;i.content instanceof E&&Ot(i.content),At(i),s=i}if(it){if(st){o=I.call(n.ownerDocument);while(n.firstChild)o.appendChild(n.firstChild)}else o=n;return ot&&(o=q.call(g,o,!0)),o}return tt?n.outerHTML:n.innerHTML},m.setConfig=function(e){vt(e),nt=!0},m.clearConfig=function(){pt=null,nt=!1},m.addHook=function(e,t){if(typeof t!="function")return;R[e]=R[e]||[],R[e].push(t)},m.removeHook=function(e){R[e]&&R[e].pop()},m.removeHooks=function(e){R[e]&&(R[e]=[])},m.removeAllHooks=function(){R={}},m}var e=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],t=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],n=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"],r=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],i=["#text"],s=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","span","srclang","start","src","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],o=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],u=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],a=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"],c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){return typeof window=="undefined"?null:window},v=d();return v})}),Ft={createReplacements:function(){return[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:(bold|700)|font-weight:(bold|700);font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:(bold|700)[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|â€œ|â€)(((?!&quot;|&rdquo;|&ldquo;|"|â€œ|â€).)*)(?:&quot;|&rdquo;|&ldquo;|"|â€œ|â€)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]]}},It=u({name:"Paste",props:{},handlers:{commands:{},requests:{},events:{"contenteditable:paste":"handlePaste"}},methods:{init:function(){},handlePaste:function(t){t.preventDefault();var n=this,r=n.mediator,i=this.getClipboardContent(t,window,document),s=i["text/html"],o=i["text/plain"];s||(s=o.replace(/(?:\r\n|\r|\n)/g,"<br />")),s=this.cleanPastedHTML(s),s=jt.sanitize(s),r.exec("contenteditable:inserthtml",s)},getClipboardContent:function(t,n,r){var i=t.clipboardData||n.clipboardData||r.dataTransfer,s={pastedHTML:"",pastedPlain:""};if(!i)return s;if(i.getData){var o=i.getData("text");o&&o.length>0&&(s["text/plain"]=o)}if(i.types)for(var u=0;u<i.types.length;u++){var a=i.types[u];s[a]=i.getData(a)}return s},cleanPastedHTML:function(t){var n=this,r=n.mediator,i=r.get("canvas:document"),s=r.get("canvas:body"),o=Ft.createReplacements();for(var u=0;u<o.length;u++){var a=o[u];t=t.replace(a[0],a[1])}s.innerHTML="<p>"+t.split("<br><br>").join("</p><p>")+"</p>";var f=s.querySelectorAll("a,p,div,br");for(var l=0;l<f.length;l++){var c=f[l];c.innerHTML=c.innerHTML.replace(/\n/gi," ")}var h=i.createDocumentFragment(),p=i.createElement("body");h.appendChild(p),p.innerHTML=s.innerHTML,this.cleanupSpans(p),this.cleanupDivs(p),f=p.querySelectorAll("*");for(var d=0;d<f.length;d++){var v=f[d],m=[];for(var g=0;g<v.attributes.length;g++)m.push(v.attributes[g].name);for(var y=0;y<m.length;y++){var b=m[y];(v.nodeName!=="A"||b!=="href")&&v.removeAttribute(b)}}return s.innerHTML=p.innerHTML,r.exec("format:list:cleanup",s),r.exec("format:clean",s),t=s.innerHTML,t},cleanupSpans:function(t){var n=t.querySelectorAll(".replace-with");for(var r=0;r<n.length;r++){var i=n[r],s=i.classList.contains("bold"),u=i.classList.contains("italic"),a=document.createElement(s?"b":"i");s&&u?a.innerHTML="<i>"+i.innerHTML+"</i>":a.innerHTML=i.innerHTML,i.parentNode.replaceChild(a,i)}n=t.querySelectorAll("span");for(var f=0;f<n.length;f++){var l=n[f];o.unwrap(l)}},cleanupDivs:function(t){var n=t.querySelectorAll("div");for(var r=n.length-1;r>=0;r--)o.unwrap(n[r])}}}),qt=i({name:"FormatterContainer",modules:[{"class":kt},{"class":Lt},{"class":At},{"class":Ot},{"class":Bt},{"class":It}]}),Rt={base:{blockElementNames:["blockquote","h1","h2","h3","h4","h5","h6","ol","ul","li","p","pre","address","article","aside","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","hr","main","nav","noscript","output","section","table","tfoot","video"]},text:{nodeLevel:Node.TEXT_NODE,changeLevel:{DOM:!0,styles:!1}},paragraph:{nodeLevel:Node.ELEMENT_NODE,changeLevel:{DOM:!1,styles:!0}},list:{nodeLevel:Node.ELEMENT_NODE,changeLevel:{DOM:!0,styles:!1},rootTags:["ol","ul"],methods:{orderedlist:{rootTag:"ol",tags:["ol","li"]},unorderedlist:{rootTag:"ul",tags:["ul","li"]}}},block:{defaultElement:"p",baseElement:"div",nodeLevel:Node.ELEMENT_NODE,changeLevel:{DOM:!0,styles:!1}}},Ut=u({name:"Selection",props:{contextWindow:window,contextDocument:document,cachedSelection:null,cachedRange:null,pseudoSelection:null,silenceChanges:[]},dom:{el:null},handlers:{requests:{"selection:current":"getCurrentSelection","selection:range":"getCurrentRange","selection:anchornode":"getAnchorNode","selection:commonancestor":"getCommonAncestor","selection:closestblock":"getClosestBlock","selection:rootelement":"getRootElement","selection:range:clone":"getRangeClone","selection:bounds":"getSelectionBounds","selection:range:relative:toroot":"getRangeRelativeToRoot","selection:in:or:contains":"inOrContains","selection:range:coordinates":"rangeCoordinates","selection:contains:node":"containsNode","selection:spans:multiple:blocks":"spansMultipleBlocks"},commands:{"selection:set:contextWindow":"setContextWindow","selection:set:contextDocument":"setContextDocument","selection:set:el":"setRootElement","selection:expand:toroot":"expandToRoot","selection:update:range":"updateRange","selection:wrap:element":"wrapElement","selection:wrap:content":"wrapContent","selection:wrap:pseudo":"wrapPseudoSelect","selection:select:pseudo":"selectPseudo","selection:select:remove:pseudo":"removePseudo","selection:collapse:tostart":"collapseToStart","selection:reselect":"reSelect","selection:select:contents":"selectContents","selection:collapse:toend":"collapseToEnd","selection:select:all":"selectAll","selection:select:coordinates":"selectByCoordinates","selection:ensure:text:only":"ensureTextOnlySelection","selection:deselect":"deSelect"}},methods:{init:function(){this.bindDocumentEvents()},bindDocumentEvents:function(){var t=this.props,n=t.contextDocument;n.addEventListener("selectstart",this.handleSelectStart),n.addEventListener("selectionchange",this.handleSelectionChange)},unbindDocumentEvents:function(){var t=this.props,n=t.contextDocument;n.removeEventListener("selectstart",this.handleSelectStart),n.removeEventListener("selectionchange",this.handleSelectionChange)},setContextWindow:function(t){var n=this,r=n.props;r.contextWindow=t},setContextDocument:function(t){var n=this,r=n.props;this.unbindDocumentEvents(),r.contextDocument=t,this.bindDocumentEvents()},setRootElement:function(t){var n=this,r=n.dom;r.el=[t]},handleSelectStart:function(t){var n=this,r=n.mediator,i=this.dom,s=i.el,u=this.getAnchorNode();o.isChildOf(u,s)&&r.emit("selection:start",t)},handleSelectionChange:function(t){var n=this,r=n.mediator,i=n.props,s=this.dom,u=s.el,a=this.getAnchorNode();o.isChildOf(a,u)&&(this.cacheRange(),i.silenceChanges.length?i.silenceChanges.pop():r.emit("selection:change",t))},cacheRange:function(){var t=this.getCurrentRange();this.props.cachedRange=t.cloneRange()},getCurrentSelection:function(){var t=this.props,n=t.contextWindow;return n.getSelection()},validateSelection:function(t){var n=this,r=n.dom;return t.anchorNode&&o.isChildOf(t.anchorNode,r.el)},getCurrentRange:function(){var t=this,n=t.props,r=this.getCurrentSelection(),i;return this.validateSelection(r)?i=r.getRangeAt(0):n.cachedRange?i=n.cachedRange:i=document.createRange(),i},getAnchorNode:function(){var t=this.getCurrentSelection();return t.anchorNode},getCommonAncestor:function(){var t=this.getCurrentSelection();if(t.rangeCount>0){var n=t.getRangeAt(0);return n.commonAncestorContainer}},getClosestBlock:function(){var t=this.getCommonAncestor(),n=null,r=t;while(!n&&!this.isContentEditable(r)&&r)if(r.nodeType===Node.ELEMENT_NODE){var i=r.tagName.toLowerCase();Rt.base.blockElementNames.indexOf(i)>-1?n=r:r=r.parentNode}else r=r.parentNode;return n},getRootElement:function(){var t=this,n=t.dom;return n.el[0]},getRangeClone:function(){var t=this.getCurrentRange();return t.cloneRange()},getRangeRelativeToRoot:function(){var t=this,n=this.getCurrentRange(),r=n.startContainer,i=n.startOffset,s=n.endContainer,u=n.endOffset,a=[],f=[],l=0;a.unshift(i),f.unshift(u);while(!this.isContentEditable(r))t.isContentEditable(r.parentNode)?(l=o.childIndex(r),a.unshift(0)):a.unshift(o.childIndex(r)),r=r.parentNode;while(!this.isContentEditable(s))t.isContentEditable(s.parentNode)?f.unshift(o.childIndex(s)-l):f.unshift(o.childIndex(s)),s=s.parentNode;return{startCoordinates:a,endCoordinates:f}},rangeCoordinates:function(){this.ensureTextOnlySelection();var t=this.getCurrentRange(),n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,u=[],a=[];u.unshift(r),a.unshift(s);while(!this.isContentEditable(n))u.unshift(o.childIndex(n)),n=n.parentNode;while(!this.isContentEditable(i))a.unshift(o.childIndex(i)),i=i.parentNode;return{startCoordinates:u,endCoordinates:a}},inOrContains:function(t){var n=this,r=n.dom,i=r.el[0],s=this.getAnchorNode();if(!i.contains(s))return!1;var u=o.isIn(s,t,i);if(u)return u;var a=this.getCurrentRange(),f=a.cloneContents(),l=!1;return f.childNodes.length&&t.forEach(function(e){l=l||f.childNodes[0].nodeName===e}),l},containsNode:function(t){var n=this.getCurrentSelection(),r=n.anchorNode,i=n.focusNode,s=n.containsNode(t,!0);return n.rangeCount?s?!0:(r.nodeType!==Node.ELEMENT_NODE&&(r=r.parentNode),i.nodeType!==Node.ELEMENT_NODE&&(i=i.parentNode),r===t||i===t):!1},expandToRoot:function(t){var n=this;t===void 0&&(t={});var r=t.range||this.getCurrentRange(),i=r.startContainer,s=r.endContainer,o=document.createRange(),u=i===s;if(this.isContentEditable(i))return;var a=function(e){var t=e;if(!n.isContentEditable(t))while(t.parentNode&&!n.isContentEditable(t.parentNode))t=t.parentNode;return t};i=a(i),s=u?i:a(s),t.innerBounds?(o.setStartAfter(i),o.setEndBefore(s)):(o.setStart(i,0),o.setEndAfter(s)),this.updateRange(o,{silent:!0})},wrapElement:function(t,n){n===void 0&&(n={});var r=this.getCurrentRange();t instanceof Array?(r.setStartBefore(t[0]),r.setEndAfter(t[t.length-1])):t.nodeType===Node.ELEMENT_NODE&&(r.setStartBefore(t),r.setEndAfter(t)),this.updateRange(r,n)},wrapContent:function(){var t=this.getCurrentRange(),n=this.getRootElement();t.selectNodeContents(n),this.updateRange(t)},wrapPseudoSelect:function(){var t=this,n=t.props,r=this.getCurrentRange(),i=document.createElement("span");i.classList.add("typester-pseudo-selection"),i.appendChild(r.extractContents()),r.insertNode(i),n.pseudoSelection=i,this.wrapElement(i)},selectPseudo:function(){var t=this,n=t.dom,r=this.removePseudo();r.length&&(n.el[0].focus(),this.wrapElement(r,{silent:!0}))},removePseudo:function(){var t=this,n=t.props,r=[];return n.pseudoSelection&&n.pseudoSelection.tagName&&(r=o.unwrap(n.pseudoSelection),n.pseudoSelection=null),r},selectContents:function(t){var n=document.createRange();t.childNodes.length?n.selectNodeContents(t):(n.setStart(t,0),n.collapse(!0)),this.updateRange(n)},updateRange:function(t,n){n===void 0&&(n={});var r=this,i=r.mediator,s=r.props,o=this.getCurrentSelection();n.silent&&(s.silenceChanges.push(!0),s.silenceChanges.push(!0)),o.removeAllRanges(),o.addRange(t),n.silent||i.emit("selection:update")},deSelect:function(){var t=this.getCurrentSelection();t.removeAllRanges()},isContentEditable:function(t){return t&&t.nodeType===Node.ELEMENT_NODE&&t.hasAttribute("contenteditable")},getSelectionBounds:function(){var t=this.getCurrentRange(),n=t?t.getClientRects():[],r=t?t.getBoundingClientRect():null,i={top:null,right:null,bottom:null,left:null,height:null,width:null,initialWidth:null,initialLeft:null},s=function(e){["top","left","bottom","right","height","width"].forEach(function(t){if(!i[t])i[t]=e[t];else switch(t){case"top":case"left":i[t]=Math.min(i[t],e[t]);break;case"bottom":case"right":case"height":case"width":i[t]=Math.max(i[t],e[t])}})},o=function(e){r?(i.initialLeft=r.left,i.initialWidth=r.width):e.top===i.top&&(i.initialLeft===null?i.initialLeft=e.left:i.initialLeft=Math.min(e.left,i.initialLeft),i.initialWidth===null?i.initialWidth=e.width:i.initialWidth=Math.max(e.right-i.initialLeft,i.initialWidth))};for(var u=0;u<n.length;u++)s(n[u],u);for(var a=0;a<n.length;a++)o(n[a],a);return i},collapseToStart:function(){var t=this.getCurrentRange(),n=document.createRange();n.setStart(t.startContainer,t.startOffset),n.setEnd(t.startContainer,t.startOffset),this.updateRange(n)},collapseToEnd:function(){var t=this.getCurrentSelection();t.collapseToEnd()},reSelect:function(){var t=this,n=t.props;n.cachedRange&&this.updateRange(n.cachedRange,{silent:!0})},selectAll:function(t){t===void 0&&(t={});var n=this,r=n.dom,i=n.props,s=i.contextDocument,o=s.createRange(),u=r.el[0];if(t.selector){var a=s.querySelectorAll(t.selector);o.setStartBefore(a[0]),o.setEndAfter(a[a.lenght-1])}else o.setStart(u,0),o.setEndAfter(u.lastChild);this.updateRange(o)},selectByCoordinates:function(t){var n=this,r=n.dom,i=n.props,s=i.contextDocument,o=s.createRange(),u=t.startCoordinates.slice(0),a=t.endCoordinates.slice(0),f=u.pop(),l=a.pop(),c=r.el[0],h=r.el[0];while(u.length){var p=u.shift();c=c.childNodes[p]}while(a.length){var d=a.shift();h=h.childNodes[d]}o.setStart(c,f),o.setEnd(h,l),this.updateRange(o)},ensureTextOnlySelection:function(){var t=this.props,n=t.contextDocument,r=this.getCurrentRange(),i=this.getCurrentSelection(),s=r.startContainer,o=r.endContainer,u=r.commonAncestorContainer;if(i.isCollapsed||s.nodeType===Node.TEXT_NODE&&o.nodeType===Node.TEXT_NODE)return;var a=r.toString(),f=n.createRange(),l=n.createTreeWalker(u,NodeFilter.SHOW_TEXT,null,!1),c=[];while(l.nextNode())c.push(l.currentNode);var h=c[0],p=c[c.length-1];f.setStart(h,0),f.setEnd(p,p.textContent.length);var d=0,v=0,m=c[d];while(f.compareBoundaryPoints(Range.START_TO_START,r)<0){v+=1;if(v>m.textContent.length){d+=1,v=0;if(d>=c.length)break;m=c[d]}f.setStart(m,v)}var g=v;f.setEnd(m,g);while(f.compareBoundaryPoints(Range.END_TO_END,r)<0){g+=1;if(g>m.textContent.length){d+=1,g=0;if(d>=c.length)break;m=c[d]}f.setEnd(m,g)}f.toString()===a&&this.updateRange(f,{silent:!0})}},spansMultipleBlocks:function(){var t=this.getCurrentSelection(),n=t.anchorNode,r=t.focusNode,i=this.getRootElement(),s=ft.getBlockTags(),u=o.getClosestInArray(n,s,i),a=o.getClosestInArray(r,s,i);return u!==a}}),zt=".typester-canvas {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 0;\n  width: 0;\n  opacity: 0; }\n",Wt=u({name:"Canvas",props:{iframe:null,relativeRange:null,alreadyContainered:!1,cachedSelection:null},handlers:{requests:{"canvas:document":"getCanvasDocument","canvas:window":"getCanvasWindow","canvas:body":"getCanvasBody","canvas:formatted:block":"getFormattedBlock","canvas:selection:coordinates":"getSelectionCoordinates","canvas:selection":"getSelection","canvas:selection:in:or:contains":"selectionInOrContains"},commands:{"canvas:content":"setContent","canvas:insert:range":"insertRange","canvas:insert:node":"insertNode","canvas:select:all":"selectAll","canvas:select:by:coordinates":"selectByCoordinates","canvas:import:selection":"importSelection","canvas:export:prep":"exportPrep","canvas:export:all":"exportAll","canvas:cache:selection":"cacheSelection","canvas:select:cachedSelection":"selectCachedSelection","canvas:select:ensure:offsets":"ensureSelectionOffsets"},events:{"app:destroy":"destroy"}},methods:{init:function(){this.appendStyles(),this.createIframe()},appendStyles:function(){var t=this,n=t.props;n.styles=o.addStyles(zt)},createIframe:function(){var t=this,n=this,r=n.mediator,i=document.createElement("iframe");i.classList.add("typester-canvas"),i.onload=function(){t.setCanvasBodyEditable(),t.applyPolyfills(),r.emit("canvas:created")},this.props.iframe=i,document.body.appendChild(i)},clearIframe:function(){var t=this.getCanvasBody();t.innerHTML=""},reset:function(){var t=this,n=t.props;n.relativeRange=null,n.alreadyContainered=!1,n.cachedSelection=null,this.clearIframe()},cacheSelection:function(){var t=this,n=t.props,r=t.mediator;r.exec("selection:ensure:text:only");var i=r.get("selection:current"),s=i.anchorNode,o=i.anchorOffset,u=i.focusNode,a=i.focusOffset;n.cachedSelection={anchorNode:s,anchorOffset:o,focusNode:u,focusOffset:a}},selectCachedSelection:function(){var t=this,n=t.props,r=t.mediator,i=n.cachedSelection,s=i.anchorNode,o=i.anchorOffset,u=i.focusNode,a=i.focusOffset,f=this.getCanvasDocument(),l=f.createRange();l.setStart(s,o),l.setEnd(u,a),r.exec("selection:update:range",l)},ensureSelectionOffsets:function(){var t=this,n=t.props,r=t.mediator;if(!n.cachedSelection)return;var i=r.get("selection:current"),s=i.anchorNode,o=i.anchorOffset,u=i.focusNode,a=i.focusOffset,f=n.cachedSelection,l=f.anchorOffset,c=f.focusOffset,h=o!==l,p=a!==c;if(h||p){var d=this.getCanvasDocument(),v=d.createRange();v.setStart(s,l),v.setEnd(u,c),r.exec("selection:update:range",v)}},setCanvasBodyEditable:function(){var t=this,n=t.props,r=n.iframe.contentDocument.body;r.contentEditable=!0},applyPolyfills:function(){var t=this.getCanvasWindow();t.NodeList&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=function(e,n){var r=this;n=n||t;for(var i=0;i<this.length;i++)e.call(n,r[i],i,r)})},getCanvasDocument:function(){var t=this,n=t.props;return n.iframe.contentDocument},getCanvasWindow:function(){var t=this,n=t.props;return n.iframe.contentWindow},getCanvasBody:function(){var t=this,n=t.props;return n.iframe.contentDocument.body},setContent:function(t){var n=this.getCanvasDocument();t instanceof Array?(this.reset(),t.forEach(function(e){n.body.appendChild(e)})):n.body.innerHTML=t},insertRange:function(t){var n=t.cloneContents(),r=this.getCanvasBody();this.reset();for(var i=0;i<n.childNodes.length;i++){var s=n.childNodes[i];s.nodeType===Node.TEXT_NODE&&(!/\w+/.test(s.textContent)||xt.assert(s))&&n.removeChild(s)}r.appendChild(n)},insertNode:function(t){var n=t.cloneNode(!0),r=this.getCanvasBody();this.reset(),r.appendChild(n)},selectAll:function(t){t===void 0&&(t={});var n=this,r=n.mediator;r.exec("selection:select:all",t)},selectByCoordinates:function(t){var n=this,r=n.mediator,i=this.getCanvasBody();r.exec("selection:set:el",i),r.exec("selection:select:coordinates",t)},importSelection:function(t){t===void 0&&(t={});var n=this,r=n.mediator,i;t.toRoot&&(i=r.get("selection:range:relative:toroot"),r.exec("selection:expand:toroot"));var s=r.get("selection:range");this.insertRange(s),t.toRoot?this.selectByCoordinates(i):this.selectAll(),this.setCanvasBodyEditable()},exportPrep:function(){this.cleanHtml()},exportAll:function(){var t=this,n=t.mediator,r=this.getCanvasBody(),i=r.innerHTML;i=i.replace(/\s{2,}/g," "),i=i.replace(/\r?\n|\r/g,""),n.exec("contenteditable:inserthtml",i)},getFormattedBlock:function(){var t=this,n=t.mediator;n.exec("selection:expand:toroot");var r=n.get("selection:range");return r.cloneContents()},cleanHtml:function(){var t=this.getCanvasDocument(),n=this.getCanvasBody(),r=t.createTreeWalker(n,NodeFilter.SHOW_ALL,null,!1),i=[];while(r.nextNode())i.push(r.currentNode);for(var s=i.length-1;s>=0;s--){var u=i[s];if(!u.textContent||!u.textContent.trim().length||xt.assert(u))o.removeNode(u);else if(u.classList&&u.classList.contains("typester-replace-default")){var a=document.createElement("p");o.insertAfter(a,u),a.appendChild(u),o.unwrap(u)}(u.classList&&u.classList.contains("typester-container")||u.nodeName==="SPAN"&&u.hasAttribute("style")||u.nodeName==="FONT"||u.nodeName==="DIV")&&o.unwrap(u)}},getSelection:function(){var t=this,n=t.mediator;return n.get("selection:current")},getSelectionCoordinates:function(){var t=this,n=t.mediator;return n.get("selection:range:coordinates")},selectionInOrContains:function(t){var n=this,r=n.mediator;return r.get("selection:in:or:contains",t)},destroy:function(){var t=this,n=t.props,r=n.iframe;r.parentNode.removeChild(r)}}}),Xt=i({name:"CanvasContainer",modules:[{"class":Ut},{"class":Wt}],mediatorOpts:{conceal:[/selection:.*?/]},handlers:{events:{"canvas:created":"handleCanvasCreated"}},methods:{init:function(){},handleCanvasCreated:function(){var t=this,n=t.mediator,r=n.get("canvas:window"),i=n.get("canvas:document"),s=n.get("canvas:body");n.exec("selection:set:contextWindow",r),n.exec("selection:set:contextDocument",i),n.exec("selection:set:el",s)}}}),Vt={ENTER:13,BACKSPACE:8,TAB:9},$t=".typester-content-editable[data-placeholder]:before {\n  content: attr(data-placeholder);\n  display: none;\n  color: #a0a0a0;\n  position: absolute; }\n\n.typester-content-editable[data-placeholder].show-placeholder:before {\n  display: block; }\n",Jt=u({name:"ContentEditable",props:{styles:null,cleanupTimeout:null},dom:{},handlers:{requests:{"contenteditable:element":"getContentEditableElement","contenteditable:toolbar:buttons":"getToolbarButtons"},commands:{"contenteditable:inserthtml":"insertHTML","contenteditable:refocus":"reFocus","contenteditable:cleanup":"cleanup"},domEvents:{focus:"handleFocus",keydown:"handleKeydown",keyup:"handleKeyup",blur:"handleBlur",paste:"handlePaste",mouseover:"handleMouseOver",mouseout:"handleMouseOut",click:"handleClick",input:"handleInput"}},methods:{setup:function(){this.appendStyles()},init:function(){this.ensureClass(),this.ensureEditable(),this.updatePlaceholderState(),this.updateValue()},appendStyles:function(){var t=this,n=t.props;n.styles=o.addStyles($t)},ensureClass:function(){var t=this,n=t.dom;n.el[0].classList.add("typester-content-editable")},updatePlaceholderState:function(){var t=this,n=t.dom,r=n.el[0];r.hasAttribute("data-placeholder")&&(r.childNodes.length&&r.textContent.trim().length?r.classList.remove("show-placeholder"):r.classList.add("show-placeholder"))},updateValue:function(){var t=this,n=t.dom,r=n.el[0];r.innerText.trim().length?r.value=r.innerHTML:r.value=""},ensureEditable:function(){var t=this,n=t.dom,r=n.el[0];r.hasAttribute("contenteditable")||(r.contentEditable=!0)},ensureDefaultBlock:function(){var t=this,n=t.dom,r=t.mediator,i=n.el[0];/\w+/.test(i.textContent)||(i.innerHTML="<p>&nbsp;</p>",r.exec("selection:select:contents",i.childNodes[0]))},getToolbarButtons:function(){var t=this,n=t.dom,r=n.el[0].dataset,i=r.toolbarButtons,s=[];return i&&(s=JSON.parse(i)),s},insertHTML:function(t){var n=this,r=n.mediator;if(document.queryCommandSupported("insertHTML"))document.execCommand("insertHTML",null,t);else{var i=r.get("selection:current"),s=r.get("selection:range");s.deleteContents();var o=document.createElement("container");o.innerHTML=t;var u=document.createDocumentFragment(),a,f;while(a=o.firstChild)f=u.appendChild(a);s.insertNode(u),f&&(s=s.cloneRange(),s.setStartAfter(f),s.collapse(!0),i.removeAllRanges(),i.addRange(s))}},reFocus:function(){var t=this,n=t.dom;n.el[0].focus()},getContentEditableElement:function(){var t=this,n=t.dom;return n.el[0]},cleanup:function(){var t=this,n=t.dom,r=t.mediator,i=n.el[0];r.exec("format:clean",i)},setCleanupTimeout:function(){var t=this,n=this,r=n.props;r.cleanupTimeout=setTimeout(function(){t.cleanup()},250)},clearCleanupTimeout:function(){var t=this,n=t.props;n.cleanupTimeout&&(clearTimeout(n.cleanupTimeout),n.cleanupTimeout=null)},handleFocus:function(){var t=this,n=t.mediator;this.clearCleanupTimeout(),this.ensureDefaultBlock(),this.updatePlaceholderState(),n.emit("contenteditable:focus")},handleKeyup:function(t){function u(e,t){var n;return t=t||{bubbles:!0,cancelable:!0,detail:undefined},n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}var n=this,r=n.mediator,i=n.dom,s=t.which||t.keyCode,o=r.get("selection:anchornode");switch(s){case Vt.ENTER:setTimeout(function(){r.emit("contenteditable:newline")},100);break;case Vt.BACKSPACE:(!o.textContent.trim().length||o.hasAttribute&&o.hasAttribute("contenteditable"))&&r.emit("contenteditable:newline");break;case Vt.TAB:r.emit("contenteditable:tab:up",t)}i.el[0].dispatchEvent(new u("change")),this.updateValue(),this.updatePlaceholderState()},handleKeydown:function(t){var n=this,r=this,i=r.mediator,s=t.which||t.keyCode;setTimeout(function(){n.updatePlaceholderState()},25);switch(s){case Vt.TAB:i.emit("contenteditable:tab:down",t)}},handleBlur:function(){var t=this,n=t.mediator;this.updatePlaceholderState(),this.updateValue(),this.setCleanupTimeout(),n.emit("contenteditable:blur")},handlePaste:function(t){var n=this,r=n.mediator;r.emit("contenteditable:paste",t),this.updateValue()},handleMouseOver:function(t){var n=this,r=n.mediator;t.target.nodeName==="A"&&r.emit("contenteditable:mouseover:anchor",t)},handleMouseOut:function(t){var n=this,r=n.mediator;t.target.nodeName==="A"&&r.emit("contenteditable:mouseout:anchor",t)},handleClick:function(t){var n=this,r=n.dom,i=r.el[0];o.isIn(t.target,"A",i)&&(t.preventDefault(),t.stopPropagation())},handleInput:function(){this.updateValue()}}}),Kt,Qt,Gt,Yt=i({name:"AppContainer",modules:[{"class":Jt},{"class":Ut}],handlers:{events:{"contenteditable:focus":"handleFocus","contenteditable:blur":"handleBlur"}},methods:{setup:function(){var t=this,n=t.mediator;Qt=Qt||new qt({mediator:n}),Kt=Kt||new bt({mediator:n}),Gt=Gt||new Xt({mediator:n})},init:function(){},handleFocus:function(){var t=this,n=t.mediator;Kt.setMediatorParent(n),Qt.setMediatorParent(n),Gt.setMediatorParent(n)},handleBlur:function(){}}}),Zt=function(e){return e===void 0&&(e={}),new Yt({dom:{el:e.el}})};return Zt}),define("forms/fields/RichContentEditor",["jquery","DOMPurify","Typester","factories/fieldFactory"],function(e,t,n,r){"use strict";var i=function(s){var o,u,a,f,l,c,h,p,d;o=this,a=i.markup,u=e.extend({$e:null,selector:".editable-content"},s),f={name:"RichContentEditor",$e:u.$e||e(u.selector),explicitInit:!0,withoutNativeInput:!0,valMethod:"html",charlimit:null,editorIsSetup:null,mediumEditor:null,mediumEditorOptions:{extensions:{imageDragging:{}},toolbar:{buttons:["bold","italic","h1","h2",{name:"orderedlist"},{name:"unorderedlist"},"quote",{name:"anchor"}]},anchor:{formSaveLabel:null,formCloseLabel:null},placeholder:{text:"",hideOnClick:!1}},templates:{richContentEditorIcons:{selector:"!.rich-content-editor-icons"}},events:{focus:"internalElFocus"}},l={},c={},h={init:function(){new n({el:f.$e[0]}),h.cacheCharLimit()},getVal:function(){return h.purify(e.trim(f.$e.html()))},purify:function(e){return t.sanitize(e)},setVal:function(e,t){t=t||{},f.$e.html(e),f.$e[0].value=e,t.isDefault&&f.$e.trigger("change:default",e)},isBlank:function(){return!e.trim(f.$e.text()).length},initEditor:function(){},destroyExistingEditor:function(){var t,n,r,i;t=f.$e.data("mediumEditor"),n=f.$e[0].attributes,r=[],i=f.$e[0].className.split(" "),t&&t.destroy(),e.each(n,function(e,t){/medium/gi.test(t.nodeName)&&r.push(t.nodeName)}),e.each(r,function(e,t){f.$e.removeAttr(t)}),e.each(i,function(e,t){(/medium/.test(t)||t===a.HAS_VALUE)&&f.$e.removeClass(t)}),f.$e.empty()},setMediumEditorOptions:function(){},setIcons:function(){},getSvgIconHtml:function(e){var t,n;return t=c.richContentEditorIcons.filter("."+e+"-icon"),t.length&&(n=t.html()),n},setupEditor:function(){return},destroyEditor:function(){},reset:function(){h.destroyExistingEditor(),h.setupEditor()},parseLinks:function(){f.$e.find("[href]").each(function(t,n){var r,i,s,o,u,a;r=e(n),i=r.attr("href"),o=/^\//,s=/^https?/,a=/^mailto:/;if(o.test(i)||s.test(i)||a.test(i))return;u=i.split("/"),u[0].indexOf(".")>-1?i="http://"+i:i="/"+i,r.attr("href",i)})},cacheCharLimit:function(){f.charlimit=parseInt(f.$e.attr("charlimit"),10),l.charCount=f.$e.next("."+a.CHAR_COUNT)},updateCharLimit:function(){var e;e=f.$e.html().length,l.charCount.html(e+"/"+f.charlimit),l.charCount.toggleClass(a.OVERFLOW,e>f.charlimit)},beforeDestroy:function(){h.destroyEditor()},isValid:function(){var e=f.validator.isValid();return f.charlimit&&(e=e&&f.charlimit>=f.$e.html().length),e}},p={internalElFocus:function(){h.setupEditor()}},d={getVal:h.getVal,setVal:h.setVal,isBlank:h.isBlank,focus:h.focus,reset:h.reset,parseLinks:h.parseLinks},r({self:o,o:u,m:a,internal:f,elements:l,templates:c,fn:h,handlers:p,api:d}).create()};return i.markup={CHAR_COUNT:"char-count",OVERFLOW:"state-overflow"},i}),define("utils/handlebarsUtils",["jquery","handlebars"],function(e,t){"use strict";t.registerHelper("toJSON",function(t){return e.isArray(t)&&t.length===1&&e.isArray(t[0])&&(t=t[0]),JSON.stringify(t)}),t.registerHelper("ifCond",function(e,t,n,r){switch(t){case"===":return e===n?r.fn(this):r.inverse(this);case"!==":return e!==n?r.fn(this):r.inverse(this);case"<":return e<n?r.fn(this):r.inverse(this);case"<=":return e<=n?r.fn(this):r.inverse(this);case">":return e>n?r.fn(this):r.inverse(this);case">=":return e>=n?r.fn(this):r.inverse(this);case"&&":return e&&n?r.fn(this):r.inverse(this);case"||":return e||n?r.fn(this):r.inverse(this);default:return r.inverse(this)}}),t.registerHelper("encodeURI",function(e){return encodeURI(e)}),t.registerHelper("capitalize",function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),t.registerHelper("ccToString",function(e){var t,n,r;return e.indexOf("cc-")!==0?e:(t={by:"Attribution",nd:"NoDerivatives",sa:"ShareAlike",nc:"NonCommercial",suffix:"4.0 International"},r=[],e=e.replace("cc-",""),n=e.split("-"),n.forEach(function(e){r.push(t[e])}),r.join("-")+" "+t.suffix)}),t.registerHelper("ccClasses",function(e){var t;return t=[],e.split("-").forEach(function(e){t.push("state-show-"+e)}),t.join(" ")})}),define("forms/fields/JsonField",["jquery","factories/fieldFactory","utils/handlebarsUtils"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c,h;i=this,o=n.markup,s=e.extend({$e:null,selector:".json-field"},r),u={name:"JsonField",$e:s.$e||e(s.selector),explicitInit:!0,withoutNativeInput:!0,components:{jsonItem:{selector:".json-item"}}},a={},f={},l={init:function(){u.$e.data("initialVal")&&l.setInitialVal(),a.jsonItem&&l.setJsonItems()},setInitialVal:function(){var e=u.$e.data("initialVal"),t=u.$e.data("initialValKey");t?l.setDefaultVal(e[t]):l.setDefaultVal(e)},setJsonItems:function(){var t=[];a.jsonItem.each(function(n,r){t.push(e(r).data("value"))}),l.setDefaultVal(t)},getDefaults:function(){return u.$e.data("defaults")||{}},getName:function(){var t=u.$e.attr("name");return/\[.*?\]/.test(t)&&e.isArray(l.getVal())&&(t=t.replace(/\[.*?\]/,"")),t||""},getVal:function(){var t,n,r,i,s,o,a;i=u.$e.attr("name"),o=u.$e.data("valueKey"),s=/\[.*?\]/.test(i),t=u.$e.data("value");if(!t||e.isEmptyObject(t))t=s?[]:{};return e.isArray(t)?(r=[],e.each(t,function(t,i){e.isPlainObject(i)?(n=e.extend({},l.getDefaults()),a=e.extend(n,i),o?r.push(a[o]):r.push(a)):r.push(i)})):(n=e.extend({},l.getDefaults()),r=e.extend(n,t),o&&(r=r[o])),s&&!e.isArray(r)&&(r=[r]),r},getFullVal:function(){return u.$e.data("value")},setVal:function(e,t){t=t||{};if(u.$e.data("noSet"))return;u.$e.data("value",e),t.isDefault&&u.$e.trigger("change:default",e)}},c={},h={getName:l.getName,getVal:l.getVal,getFullVal:l.getFullVal,setVal:l.setVal},t({self:i,o:s,m:o,internal:u,elements:a,templates:f,fn:l,handlers:c,api:h}).create()};return n.markup={},n}),define("forms/fields/FileDrop",["jquery","factories/fieldFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c,h;i=this,o=n.markup,s=e.extend({$e:null,selector:".file-drop"},r),u={name:"FileDrop",$e:s.$e||e(s.selector),withoutNativeInput:!0,files:[],uploadType:"image",imageMeta:{height:"",width:""},templates:{filePreview:{selector:"!.file-preview-template"},imagePreview:{selector:"!.image-preview-template"}},components:{dropArea:{selector:".drop-area"},dropLabel:{selector:".drop-label"},fileInput:{selector:".file-input"},filePreview:{selector:".file-preview"},fileName:{selector:".file-meta .filename"},fileSize:{selector:".file-meta .filesize"},removeFile:{selector:".remove-file"},validationMessage:{selector:".validation-message"},focalPoint:{selector:".focal-point"},previewArea:{selector:".preview-area"},previewContent:{selector:".preview-content"}},events:{change:"internalElChange","dragover @dropArea":"dropAreaDragover","dragenter @dropArea":"dropAreaDragover","dragleave @dropArea":"dropAreaDragout","dragend @dropArea":"dropAreaDragout","drop @dropArea":"dropAreaDrop","click @dropArea":"dropAreaClick","change @fileInput":"fileInputChange","click @removeFile":"removeFileClick"},validationMessages:{imageTooSmall:"Image should be a minimum of {{minWidth}} px wide, and {{minHeight}} px tall"},errorMessages:[]},a={},f={},l={init:function(){l.getUploadType(),l.getInitialData(),l.updateState(),u.$e.on("drag dragstart dragover dragenter dragleave dragend drop",c.interceptDragEvents)},getInitialData:function(){var e,t;u.data=u.$e.data("initialData"),u.$e.removeAttr("data-initial-data"),u.data&&(e=u.data.image?"image":"file",t=u.data.image||u.data.file||[],t.length&&l.updateFiles(t,{silent:!0}))},getUploadType:function(){return u.uploadType=u.$e.data("uploadType")||u.uploadType,u.uploadType},setUploadType:function(e){u.uploadType=e,u.$e.data("uploadType",e),u.$e.attr("name",e),u.$e.trigger("uploadtypechange",e)},clearPreview:function(){a.previewContent.empty(),a.previewArea.hide(),a.dropLabel.show(),l.clearFileMeta(),l.showDropArea()},showPreview:function(){var e,t;e=u.files[0]||!1;if(e){if((e.isImage||u.uploadType==="image")&&e.url)t=f.imagePreview({imageSrc:e.data||e.url});else if(e.file||e.url)t=f.filePreview({fileName:e.file?e.file.name:e.name});t&&(a.previewContent.html(t),a.previewArea.show(),e.file&&l.showFileMeta(e),a.dropLabel.hide(),l.hideDropArea())}},clearFileMeta:function(){a.fileName.empty(),a.fileSize.empty()},showFileMeta:function(e){a.fileName.html(e.file.name),a.fileSize.html(l.getFileSize(e))},showDropArea:function(){a.dropArea.show()},hideDropArea:function(){a.dropArea.hide()},showFocalPoint:function(){l.getUploadType()==="image"?a.focalPoint.show():l.hideFocalPoint()},hideFocalPoint:function(){a.focalPoint.hide()},setProcessing:function(){u.$e.addClass(o.PROCESSING)},clearProcessing:function(){u.$e.removeClass(o.PROCESSING)},isMultiSelect:function(){return a.fileInput[0].hasAttribute("multiple")},handleFileDrop:function(e){var t,n,r,i,s;t=new FileReader,r=[],i=-1,s=l.isMultiSelect()?e.length:1,n=function(){var t,o;t={},i+=1,i<s?(o=e[i],l.acceptableFile(o)&&(t.file=o,r[i]=t,t.isImage=/image(?!.*(svg))/.test(t.file.type),u.uploadType==="auto"&&l.setUploadType(t.isImage?"image":"file"),t.isImage&&(t.url=URL.createObjectURL(t.file))),n()):(l.updateFiles(r),l.clearProcessing(),u.$e.trigger("change"))},t.onload=function(e){var t=r[i];t.data=e.target.result,n()},n()},acceptableFile:function(e){return u.uploadType==="auto"||u.uploadType==="file"||u.uploadType==="image"&&/image/.test(e.type)},updateFiles:function(t,n){var r,i;n=n||{},i=l.getUploadType(),r=u.$e.data("filesProcessor"),e.isArray(t)||(t=[t]),r&&(t=r(t)),u.files=t,l.updateState(),i==="auto"&&u.files.length===1&&l.setUploadType(u.files[0].isImage?"image":"file"),n.silent||u.$e.trigger("filesupdated")},updateState:function(){var e;e=u.files.length>0,u.$e.toggleClass(o.FILLED,e),e?(l.showPreview(),l.showFocalPoint()):(l.clearPreview(),l.hideFocalPoint())},getVal:function(){return u.files},getFileSize:function(e){return e.isImage?l.getImageSize(e):l.getFileDataSize(e)},setVal:function(e,t){l.updateFiles(e,t)},getFileDataSize:function(e){var t,n,r,i,s,o;return t=e.file.size,n=t/1024,r=n/1024,i=r/1024,s=n,o="KB",n>1&&(s=r,o="MB"),i>1&&(s=i,o="GB"),s=Math.round(s*100)/100,s+" "+o},getImageSize:function(e){var t;return t=new Image,t.onload=function(){a.fileSize.html(this.width+" x "+this.height),u.imageMeta.width=this.width,u.imageMeta.height=this.height},t.src=e.url,e.file.size},validImageDimensions:function(){var e,t,n;return e=parseInt(u.$e.data("minHeight")||0,10),t=parseInt(u.$e.data("minWidth")||0,10),n=u.imageMeta.width<t||u.imageMeta.height<e,n&&u.errorMessages.push(l.buildErrorMsg("imageTooSmall",{minWidth:t,minHeight:e})),!n},removeFile:function(){a.fileInput.val(""),l.updateFiles([]),u.$e.trigger("change")},buildErrorMsg:function(t,n){var r=u.validationMessages[t];return e.each(n,function(e,t){var n=new RegExp("{{"+e+"}}","g");r=r.replace(n,t)}),r},isValid:function(){var e=!0;return e=!!u.files.length,e},validate:function(){u.errorMessages=[],!l.isValid()||u.uploadType==="image"&&!l.validImageDimensions()?(l.renderErrorMessages(),i.setInvalid()):i.setValid()},isBlank:function(){return!u.files.length},renderErrorMessages:function(){var t="";e.each(u.errorMessages,function(e,n){t+="<p>"+n+"</p>"}),a.validationMessage.html(t)},beforeDestroy:function(){u.$e.off("drag dragstart dragover dragenter dragleave dragend drop")}},c={internalElChange:function(){l.validate()},interceptDragEvents:function(e){e.preventDefault(),e.stopPropagation()},dropAreaDragover:function(){u.$e.addClass(o.DRAG_OVER)},dropAreaDragout:function(){u.$e.removeClass(o.DRAG_OVER)},dropAreaDrop:function(e){c.dropAreaDragout(),l.setProcessing(),l.handleFileDrop(e.originalEvent.dataTransfer.files)},dropAreaClick:function(){l.isBlank()&&a.fileInput.click()},fileInputChange:function(e){l.setProcessing(),l.handleFileDrop(e.target.files)},removeFileClick:function(){l.removeFile()}},h={getVal:l.getVal,setVal:l.setVal,isValid:l.isValid,isBlank:l.isBlank,hasImagePreview:l.hasImagePreview,getUploadType:l.getUploadType},t({self:i,o:s,m:o,internal:u,elements:a,templates:f,fn:l,handlers:c,api:h}).create()};return n.markup={DRAG_OVER:"state-drag-over",FILLED:"state-filled"},n}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";function n(){return e.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)f(t,n)&&(e[n]=t[n]);return f(t,"toString")&&(e.toString=t.toString),f(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return kn(e,t,n,r,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var n=h(e),r=t.call(n.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&r);if(e._strict&&(i=i&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function d(e){var t=c(NaN);return null!=e?l(h(t),e):h(t).userInvalidated=!0,t}function m(e,t){var n,r,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=h(t)),s(t._locale)||(e._locale=t._locale),0<v.length)for(n=0;n<v.length;n++)s(i=t[r=v[n]])||(e[r]=i);return e}function y(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===g&&(g=!0,n.updateOffset(this),g=!1)}function b(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function E(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function S(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&E(e[r])!==E(t[r]))&&o++;return o+s}function x(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var r=!0;return l(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){for(var i,s=[],o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(var u in i+="\n["+o+"] ",arguments[0])i+=u+": "+arguments[0][u]+", ";i=i.slice(0,-2)}else i=arguments[o];s.push(i)}x(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)},t)}function k(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),C[e]||(x(t),C[e]=!0)}function L(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e,t){var n,r=l({},e);for(n in t)f(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},l(r[n],e[n]),l(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)f(e,n)&&!f(t,n)&&i(e[n])&&(r[n]=l({},r[n]));return r}function O(e){null!=e&&this.set(e)}function _(e,t){var n=e.toLowerCase();M[n]=M[n+"s"]=M[t]=e}function D(e){return"string"==typeof e?M[e]||M[e.toLowerCase()]:void 0}function P(e){var t,n,r={};for(n in e)f(e,n)&&(t=D(n))&&(r[t]=e[n]);return r}function B(e,t){H[e]=t}function j(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function U(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(R[e]=i),t&&(R[t[0]]=function(){return j(i.apply(this,arguments),t[1],t[2])}),n&&(R[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e,t){return e.isValid()?(t=W(t,e.localeData()),q[t]=q[t]||function(e){var t,n,r,i=e.match(F);for(t=0,n=i.length;t<n;t++)R[i[t]]?i[t]=R[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,s="";for(r=0;r<n;r++)s+=L(i[r])?i[r].call(t,e):i[r];return s}}(t),q[t](e)):e.localeData().invalidDate()}function W(e,t){function r(e){return t.longDateFormat(e)||e}var n=5;for(I.lastIndex=0;0<=n&&I.test(e);)e=e.replace(I,r),I.lastIndex=0,n-=1;return e}function at(e,t,n){ut[e]=L(t)?t:function(e,r){return e&&n?n:t}}function ft(e,t){return f(ut,e)?ut[e](t._strict,t._locale):new RegExp(lt(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})))}function lt(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ht(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),o(t)&&(r=function(e,n){n[t]=E(e)}),n=0;n<e.length;n++)ct[e[n]]=r}function pt(e,t){ht(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function xt(e){return Tt(e)?366:365}function Tt(e){return e%4==0&&e%100!=0||e%400==0}function kt(e,t){return function(r){return null!=r?(At(this,e,r),n.updateOffset(this,t),this):Lt(this,e)}}function Lt(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function At(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Tt(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ot(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Ot(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?Tt(e)?29:28:31-r%7%2}function Pt(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=E(t);else if(!o(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ot(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ht(e){return null!=e?(Pt(this,e),n.updateOffset(this,!0),this):Lt(this,"Month")}function Ft(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],s=[];for(t=0;t<12;t++)n=c([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),s.sort(e),t=0;t<12;t++)r[t]=lt(r[t]),i[t]=lt(i[t]);for(t=0;t<24;t++)s[t]=lt(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function It(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function qt(e,t,n){var r=7+t-n;return-((7+It(e,0,r).getUTCDay()-t)%7)+r-1}function Rt(e,t,n,r,i){var s,o,u=1+7*(t-1)+(7+n-r)%7+qt(e,r,i);return u<=0?o=xt(s=e-1)+u:u>xt(e)?(s=e+1,o=u-xt(e)):(s=e,o=u),{year:s,dayOfYear:o}}function Ut(e,t,n){var r,i,s=qt(e.year(),t,n),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return o<1?r=o+zt(i=e.year()-1,t,n):o>zt(e.year(),t,n)?(r=o-zt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function zt(e,t,n){var r=qt(e,t,n),i=qt(e+1,t,n);return(xt(e)-r+i)/7}function Qt(){function e(e,t){return t.length-e.length}var t,n,r,i,s,o=[],u=[],a=[],f=[];for(t=0;t<7;t++)n=c([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),s=this.weekdays(n,""),o.push(r),u.push(i),a.push(s),f.push(r),f.push(i),f.push(s);for(o.sort(e),u.sort(e),a.sort(e),f.sort(e),t=0;t<7;t++)u[t]=lt(u[t]),a[t]=lt(a[t]),f[t]=lt(f[t]);this._weekdaysRegex=new RegExp("^("+f.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Gt(){return this.hours()%12||12}function Yt(e,t){U(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Zt(e,t){return t._meridiemParse}function on(e){return e?e.toLowerCase().replace("_","-"):e}function un(e){var t=null;if(!rn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=en._abbr,require("./locale/"+e),an(t)}catch(e){}return rn[e]}function an(e,t){var n;return e&&((n=s(t)?ln(e):fn(e,t))?en=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),en._abbr}function fn(e,t){if(null!==t){var n,r=nn;if(t.abbr=e,null!=rn[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=rn[e]._config;else if(null!=t.parentLocale)if(null!=rn[t.parentLocale])r=rn[t.parentLocale]._config;else{if(null==(n=un(t.parentLocale)))return sn[t.parentLocale]||(sn[t.parentLocale]=[]),sn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return rn[e]=new O(A(r,t)),sn[e]&&sn[e].forEach(function(e){fn(e.name,e.config)}),an(e),rn[e]}return delete rn[e],null}function ln(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return en;if(!r(e)){if(t=un(e))return t;e=[e]}return function(e){for(var t,n,r,i,s=0;s<e.length;){for(t=(i=on(e[s]).split("-")).length,n=(n=on(e[s+1]))?n.split("-"):null;0<t;){if(r=un(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}s++}return en}(e)}function cn(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[vt]<0||11<n[vt]?vt:n[mt]<1||n[mt]>Ot(n[dt],n[vt])?mt:n[gt]<0||24<n[gt]||24===n[gt]&&(0!==n[yt]||0!==n[bt]||0!==n[wt])?gt:n[yt]<0||59<n[yt]?yt:n[bt]<0||59<n[bt]?bt:n[wt]<0||999<n[wt]?wt:-1,h(e)._overflowDayOfYear&&(t<dt||mt<t)&&(t=mt),h(e)._overflowWeeks&&-1===t&&(t=Et),h(e)._overflowWeekday&&-1===t&&(t=St),h(e).overflow=t),e}function hn(e,t,n){return null!=e?e:null!=t?t:n}function pn(e){var t,r,i,s,o,u=[];if(!e._d){var a,f;for(a=e,f=new Date(n.now()),i=a._useUTC?[f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()]:[f.getFullYear(),f.getMonth(),f.getDate()],e._w&&null==e._a[mt]&&null==e._a[vt]&&function(e){var t,n,r,i,s,o,u,a;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)s=1,o=4,n=hn(t.GG,e._a[dt],Ut(Ln(),1,4).year),r=hn(t.W,1),((i=hn(t.E,1))<1||7<i)&&(a=!0);else{s=e._locale._week.dow,o=e._locale._week.doy;var f=Ut(Ln(),s,o);n=hn(t.gg,e._a[dt],f.year),r=hn(t.w,f.week),null!=t.d?((i=t.d)<0||6<i)&&(a=!0):null!=t.e?(i=t.e+s,(t.e<0||6<t.e)&&(a=!0)):i=s}r<1||r>zt(n,s,o)?h(e)._overflowWeeks=!0:null!=a?h(e)._overflowWeekday=!0:(u=Rt(n,r,i,s,o),e._a[dt]=u.year,e._dayOfYear=u.dayOfYear)}(e),null!=e._dayOfYear&&(o=hn(e._a[dt],i[dt]),(e._dayOfYear>xt(o)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),r=It(o,0,e._dayOfYear),e._a[vt]=r.getUTCMonth(),e._a[mt]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=u[t]=i[t];for(;t<7;t++)e._a[t]=u[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[gt]&&0===e._a[yt]&&0===e._a[bt]&&0===e._a[wt]&&(e._nextDay=!0,e._a[gt]=0),e._d=(e._useUTC?It:function(e,t,n,r,i,s,o){var u=new Date(e,t,n,r,i,s,o);return e<100&&0<=e&&isFinite(u.getFullYear())&&u.setFullYear(e),u}).apply(null,u),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[gt]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(h(e).weekdayMismatch=!0)}}function wn(e){var t,n,r,i,s,o,u=e._i,a=dn.exec(u)||vn.exec(u);if(a){for(h(e).iso=!0,t=0,n=gn.length;t<n;t++)if(gn[t][1].exec(a[1])){i=gn[t][0],r=!1!==gn[t][2];break}if(null==i)return void (e._isValid=!1);if(a[3]){for(t=0,n=yn.length;t<n;t++)if(yn[t][1].exec(a[3])){s=(a[2]||" ")+yn[t][0];break}if(null==s)return void (e._isValid=!1)}if(!r&&null!=s)return void (e._isValid=!1);if(a[4]){if(!mn.exec(a[4]))return void (e._isValid=!1);o="Z"}e._f=i+(s||"")+(o||""),Nn(e)}else e._isValid=!1}function Sn(e,t,n,r,i,s){var o=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),Dt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Tn(e){var t,n,r,i=En.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(i){var s=Sn(i[4],i[3],i[2],i[5],i[6],i[7]);if(t=i[1],n=s,r=e,!(!t||Xt.indexOf(t)===(new Date(n[0],n[1],n[2])).getDay()||(h(r).weekdayMismatch=!0,r._isValid=!1)))return;e._a=s,e._tzm=function(e,t,n){if(e)return xn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(i[8],i[9],i[10]),e._d=It.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function Nn(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],h(e).empty=!0;var t,r,i,s,o,u,a,l,c=""+e._i,p=c.length,d=0;for(i=W(e._f,e._locale).match(F)||[],t=0;t<i.length;t++)s=i[t],(r=(c.match(ft(s,e))||[])[0])&&(0<(o=c.substr(0,c.indexOf(r))).length&&h(e).unusedInput.push(o),c=c.slice(c.indexOf(r)+r.length),d+=r.length),R[s]?(r?h(e).empty=!1:h(e).unusedTokens.push(s),u=s,l=e,null!=(a=r)&&f(ct,u)&&ct[u](a,l._a,l,u)):e._strict&&!r&&h(e).unusedTokens.push(s);h(e).charsLeftOver=p-d,0<c.length&&h(e).unusedInput.push(c),e._a[gt]<=12&&!0===h(e).bigHour&&0<e._a[gt]&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[gt]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0)),t)}(e._locale,e._a[gt],e._meridiem),pn(e),cn(e)}else Tn(e);else wn(e)}function Cn(e){var t,f,c,v,g=e._i,w=e._f;return e._locale=e._locale||ln(e._l),null===g||void 0===w&&""===g?d({nullInput:!0}):("string"==typeof g&&(e._i=g=e._locale.preparse(g)),b(g)?new y(cn(g)):(u(g)?e._d=g:r(w)?function(e){var t,n,r,i,s;if(0===e._f.length)return h(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)s=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Nn(t),p(t)&&(s+=h(t).charsLeftOver,s+=10*h(t).unusedTokens.length,h(t).score=s,(null==r||s<r)&&(r=s,n=t));l(e,n||t)}(e):w?Nn(e):s(f=(t=e)._i)?t._d=new Date(n.now()):u(f)?t._d=new Date(f.valueOf()):"string"==typeof f?(c=t,null===(v=bn.exec(c._i))?(wn(c),!1===c._isValid&&(delete c._isValid,Tn(c),!1===c._isValid&&(delete c._isValid,n.createFromInputFallback(c)))):c._d=new Date(+v[1])):r(f)?(t._a=a(f.slice(0),function(e){return parseInt(e,10)}),pn(t)):i(f)?function(e){if(!e._d){var t=P(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),pn(e)}}(t):o(f)?t._d=new Date(f):n.createFromInputFallback(t),p(e)||(e._d=null),e))}function kn(e,t,n,s,o){var u,a={};return!0!==n&&!1!==n||(s=n,n=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||r(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=e,a._f=t,a._strict=s,(u=new y(cn(Cn(a))))._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}function Ln(e,t,n,r){return kn(e,t,n,r,!1)}function Mn(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return Ln();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function Dn(e){var t=P(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||0,o=t.day||0,u=t.hour||0,a=t.minute||0,f=t.second||0,l=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Nt.call(_n,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<_n.length;++r)if(e[_n[r]]){if(n)return!1;parseFloat(e[_n[r]])!==E(e[_n[r]])&&(n=!0)}return!0}(t),this._milliseconds=+l+1e3*f+6e4*a+1e3*u*60*60,this._days=+o+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=ln(),this._bubble()}function Pn(e){return e instanceof Dn}function Hn(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Bn(e,t){U(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+j(~~(e/60),2)+t+j(~~e%60,2)})}function Fn(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(jn)||["-",0,0],i=60*r[1]+E(r[2]);return 0===i?0:"+"===r[0]?i:-i}function In(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(b(e)||u(e)?e.valueOf():Ln(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Ln(e).local()}function qn(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Rn(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Wn(e,t){var n,r,i,s=e,u=null;return Pn(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:o(e)?(s={},t?s[t]=e:s.milliseconds=e):(u=Un.exec(e))?(n="-"===u[1]?-1:1,s={y:0,d:E(u[mt])*n,h:E(u[gt])*n,m:E(u[yt])*n,s:E(u[bt])*n,ms:E(Hn(1e3*u[wt]))*n}):(u=zn.exec(e))?(n="-"===u[1]?-1:(u[1],1),s={y:Xn(u[2],n),M:Xn(u[3],n),w:Xn(u[4],n),d:Xn(u[5],n),h:Xn(u[6],n),m:Xn(u[7],n),s:Xn(u[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(i=function(e,t){var n;return!e.isValid()||!t.isValid()?{milliseconds:0,months:0}:(t=In(t,e),e.isBefore(t)?n=Vn(e,t):((n=Vn(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n)}(Ln(s.from),Ln(s.to)),(s={}).ms=i.milliseconds,s.M=i.months),r=new Dn(s),Pn(e)&&f(e,"_locale")&&(r._locale=e._locale),r}function Xn(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Vn(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t- +e.clone().add(n.months,"M"),n}function $n(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Jn(this,Wn(n="string"==typeof n?+n:n,r),e),this}}function Jn(e,t,r,i){var s=t._milliseconds,o=Hn(t._days),u=Hn(t._months);e.isValid()&&(i=null==i||i,u&&Pt(e,Lt(e,"Month")+u*r),o&&At(e,"Date",Lt(e,"Date")+o*r),s&&e._d.setTime(e._d.valueOf()+s*r),i&&n.updateOffset(e,o||u))}function Gn(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Yn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ln(e))&&(this._locale=t),this)}function er(){return this._locale}function tr(e,t){U(0,[e,e.length],0,t)}function nr(e,t,n,r,i){var s;return null==e?Ut(this,r,i).year:((s=zt(e,r,i))<t&&(t=s),function(e,t,n,r,i){var s=Rt(e,t,n,r,i),o=It(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,n,r,i))}function ur(e,t){t[wt]=E(1e3*("0."+e))}function lr(e){return e}function hr(e,t,n,r){var i=ln(),s=c().set(r,t);return i[n](s,e)}function pr(e,t,n){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return hr(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=hr(e,r,n,"month");return i}function dr(e,t,n,r){"boolean"==typeof e?o(t)&&(n=t,t=void 0):(t=e,e=!1,o(n=t)&&(n=t,t=void 0)),t=t||"";var i,s=ln(),u=e?s._week.dow:0;if(null!=n)return hr(t,(n+u)%7,r,"day");var a=[];for(i=0;i<7;i++)a[i]=hr(t,(i+u)%7,r,"day");return a}function mr(e,t,n,r){var i=Wn(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function gr(e){return e<0?Math.floor(e):Math.ceil(e)}function yr(e){return 4800*e/146097}function br(e){return 146097*e/4800}function wr(e){return function(){return this.as(e)}}function Ar(e){return function(){return this.isValid()?this._data[e]:NaN}}function qr(e){return(0<e)-(e<0)||+e}function Rr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Ir(this._milliseconds)/1e3,r=Ir(this._days),i=Ir(this._months);t=w((e=w(n/60))/60),n%=60,e%=60;var s=w(i/12),o=i%=12,u=r,a=t,f=e,l=n?n.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var h=c<0?"-":"",p=qr(this._months)!==qr(c)?"-":"",d=qr(this._days)!==qr(c)?"-":"",v=qr(this._milliseconds)!==qr(c)?"-":"";return h+"P"+(s?p+s+"Y":"")+(o?p+o+"M":"")+(u?d+u+"D":"")+(a||f||l?"T":"")+(a?v+a+"H":"")+(f?v+f+"M":"")+(l?v+l+"S":"")}var e,t;t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var v=n.momentProperties=[],g=!1,N,C={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,N=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)f(e,t)&&n.push(t);return n};var M={},H={},F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,q={},R={},X=/\d/,V=/\d\d/,$=/\d{3}/,J=/\d{4}/,K=/[+-]?\d{6}/,Q=/\d\d?/,G=/\d\d\d\d?/,Y=/\d\d\d\d\d\d?/,Z=/\d{1,3}/,et=/\d{1,4}/,tt=/[+-]?\d{1,6}/,nt=/\d+/,rt=/[+-]?\d+/,it=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,ot=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ut={},ct={},dt=0,vt=1,mt=2,gt=3,yt=4,bt=5,wt=6,Et=7,St=8;U("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),_("year","y"),B("year",1),at("Y",rt),at("YY",Q,V),at("YYYY",et,J),at("YYYYY",tt,K),at("YYYYYY",tt,K),ht(["YYYYY","YYYYYY"],dt),ht("YYYY",function(e,t){t[dt]=2===e.length?n.parseTwoDigitYear(e):E(e)}),ht("YY",function(e,t){t[dt]=n.parseTwoDigitYear(e)}),ht("Y",function(e,t){t[dt]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return E(e)+(68<E(e)?1900:2e3)};var Nt,Ct=kt("FullYear",!0);Nt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),U("MMMM",0,0,function(e){return this.localeData().months(this,e)}),_("month","M"),B("month",8),at("M",Q),at("MM",Q,V),at("MMM",function(e,t){return t.monthsShortRegex(e)}),at("MMMM",function(e,t){return t.monthsRegex(e)}),ht(["M","MM"],function(e,t){t[vt]=E(e)-1}),ht(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[vt]=i:h(n).invalidMonth=e});var Mt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_t="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Dt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Bt=ot,jt=ot;U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),_("week","w"),_("isoWeek","W"),B("week",5),B("isoWeek",5),at("w",Q),at("ww",Q,V),at("W",Q),at("WW",Q,V),pt(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=E(e)}),U("d",0,"do","day"),U("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),U("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),U("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),_("day","d"),_("weekday","e"),_("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),at("d",Q),at("e",Q),at("E",Q),at("dd",function(e,t){return t.weekdaysMinRegex(e)}),at("ddd",function(e,t){return t.weekdaysShortRegex(e)}),at("dddd",function(e,t){return t.weekdaysRegex(e)}),pt(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e}),pt(["d","e","E"],function(e,t,n,r){t[r]=E(e)});var Wt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Vt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$t=ot,Jt=ot,Kt=ot;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Gt),U("k",["kk",2],0,function(){return this.hours()||24}),U("hmm",0,0,function(){return""+Gt.apply(this)+j(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Gt.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+j(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)}),Yt("a",!0),Yt("A",!1),_("hour","h"),B("hour",13),at("a",Zt),at("A",Zt),at("H",Q),at("h",Q),at("k",Q),at("HH",Q,V),at("hh",Q,V),at("kk",Q,V),at("hmm",G),at("hmmss",Y),at("Hmm",G),at("Hmmss",Y),ht(["H","HH"],gt),ht(["k","kk"],function(e,t,n){var r=E(e);t[gt]=24===r?0:r}),ht(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ht(["h","hh"],function(e,t,n){t[gt]=E(e),h(n).bigHour=!0}),ht("hmm",function(e,t,n){var r=e.length-2;t[gt]=E(e.substr(0,r)),t[yt]=E(e.substr(r)),h(n).bigHour=!0}),ht("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[gt]=E(e.substr(0,r)),t[yt]=E(e.substr(r,2)),t[bt]=E(e.substr(i)),h(n).bigHour=!0}),ht("Hmm",function(e,t,n){var r=e.length-2;t[gt]=E(e.substr(0,r)),t[yt]=E(e.substr(r))}),ht("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[gt]=E(e.substr(0,r)),t[yt]=E(e.substr(r,2)),t[bt]=E(e.substr(i))});var en,tn=kt("Hours",!0),nn={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:_t,monthsShort:Dt,week:{dow:0,doy:6},weekdays:Wt,weekdaysMin:Vt,weekdaysShort:Xt,meridiemParse:/[ap]\.?m?\.?/i},rn={},sn={},dn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mn=/Z|[+-]\d\d(?::?\d\d)?/,gn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],yn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],bn=/^\/?Date\((\-?\d+)/i,En=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};n.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var An=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ln.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:d()}),On=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ln.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:d()}),_n=["year","quarter","month","week","day","hour","minute","second","millisecond"];Bn("Z",":"),Bn("ZZ",""),at("Z",st),at("ZZ",st),ht(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Fn(st,e)});var jn=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var Un=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,zn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Wn.fn=Dn.prototype,Wn.invalid=function(){return Wn(NaN)};var Kn=$n(1,"add"),Qn=$n(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Zn=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),tr("gggg","weekYear"),tr("ggggg","weekYear"),tr("GGGG","isoWeekYear"),tr("GGGGG","isoWeekYear"),_("weekYear","gg"),_("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),at("G",rt),at("g",rt),at("GG",Q,V),at("gg",Q,V),at("GGGG",et,J),at("gggg",et,J),at("GGGGG",tt,K),at("ggggg",tt,K),pt(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=E(e)}),pt(["gg","GG"],function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)}),U("Q",0,"Qo","quarter"),_("quarter","Q"),B("quarter",7),at("Q",X),ht("Q",function(e,t){t[vt]=3*(E(e)-1)}),U("D",["DD",2],"Do","date"),_("date","D"),B("date",9),at("D",Q),at("DD",Q,V),at("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ht(["D","DD"],mt),ht("Do",function(e,t){t[mt]=E(e.match(Q)[0])});var rr=kt("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),_("dayOfYear","DDD"),B("dayOfYear",4),at("DDD",Z),at("DDDD",$),ht(["DDD","DDDD"],function(e,t,n){n._dayOfYear=E(e)}),U("m",["mm",2],0,"minute"),_("minute","m"),B("minute",14),at("m",Q),at("mm",Q,V),ht(["m","mm"],yt);var ir=kt("Minutes",!1);U("s",["ss",2],0,"second"),_("second","s"),B("second",15),at("s",Q),at("ss",Q,V),ht(["s","ss"],bt);var sr,or=kt("Seconds",!1);for(U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),_("millisecond","ms"),B("millisecond",16),at("S",Z,X),at("SS",Z,V),at("SSS",Z,$),sr="SSSS";sr.length<=9;sr+="S")at(sr,nt);for(sr="S";sr.length<=9;sr+="S")ht(sr,ur);var ar=kt("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var fr=y.prototype;fr.add=Kn,fr.calendar=function(e,t){var r=e||Ln(),i=In(r,this).startOf("day"),s=n.calendarFormat(this,i)||"sameElse",o=t&&(L(t[s])?t[s].call(this,r):t[s]);return this.format(o||this.localeData().calendar(s,this,Ln(r)))},fr.clone=function(){return new y(this)},fr.diff=function(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(!(r=In(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=D(t)){case"year":s=Gn(this,r)/12;break;case"month":s=Gn(this,r);break;case"quarter":s=Gn(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:w(s)},fr.endOf=function(e){return void 0===(e=D(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},fr.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)},fr.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Ln(e).isValid())?Wn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fr.fromNow=function(e){return this.from(Ln(),e)},fr.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Ln(e).isValid())?Wn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fr.toNow=function(e){return this.to(Ln(),e)},fr.get=function(e){return L(this[e=D(e)])?this[e]():this},fr.invalidAt=function(){return h(this).overflow},fr.isAfter=function(e,t){var n=b(e)?e:Ln(e);return!!this.isValid()&&!!n.isValid()&&("millisecond"===(t=D(s(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},fr.isBefore=function(e,t){var n=b(e)?e:Ln(e);return!!this.isValid()&&!!n.isValid()&&("millisecond"===(t=D(s(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},fr.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},fr.isSame=function(e,t){var n,r=b(e)?e:Ln(e);return!!this.isValid()&&!!r.isValid()&&("millisecond"===(t=D(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},fr.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},fr.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},fr.isValid=function(){return p(this)},fr.lang=Zn,fr.locale=Yn,fr.localeData=er,fr.max=On,fr.min=An,fr.parsingFlags=function(){return l({},h(this))},fr.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:H[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=P(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(L(this[e=D(e)]))return this[e](t);return this},fr.startOf=function(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},fr.subtract=Qn,fr.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},fr.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},fr.toDate=function(){return new Date(this.valueOf())},fr.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):L(Date.prototype.toISOString)?t?this.toDate().toISOString():(new Date(this.valueOf()+60*this.utcOffset()*1e3)).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},fr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},fr.toJSON=function(){return this.isValid()?this.toISOString():null},fr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fr.unix=function(){return Math.floor(this.valueOf()/1e3)},fr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fr.year=Ct,fr.isLeapYear=function(){return Tt(this.year())},fr.weekYear=function(e){return nr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fr.isoWeekYear=function(e){return nr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},fr.quarter=fr.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},fr.month=Ht,fr.daysInMonth=function(){return Ot(this.year(),this.month())},fr.week=fr.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},fr.isoWeek=fr.isoWeeks=function(e){var t=Ut(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},fr.weeksInYear=function(){var e=this.localeData()._week;return zt(this.year(),e.dow,e.doy)},fr.isoWeeksInYear=function(){return zt(this.year(),1,4)},fr.date=rr,fr.day=fr.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof (t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-r,"d")):r},fr.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},fr.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=(n=e,r=this.localeData(),"string"==typeof n?r.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?t:t-7)}return this.day()||7;var n,r},fr.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},fr.hour=fr.hours=tn,fr.minute=fr.minutes=ir,fr.second=fr.seconds=or,fr.millisecond=fr.milliseconds=ar,fr.utcOffset=function(e,t,r){var i,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Fn(st,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=qn(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?Jn(this,Wn(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:qn(this)},fr.utc=function(e){return this.utcOffset(0,e)},fr.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(qn(this),"m")),this},fr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Fn(it,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},fr.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ln(e).utcOffset():0,(this.utcOffset()-e)%60==0)},fr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fr.isLocal=function(){return!!this.isValid()&&!this._isUTC},fr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fr.isUtc=Rn,fr.isUTC=Rn,fr.zoneAbbr=function(){return this._isUTC?"UTC":""},fr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fr.dates=T("dates accessor is deprecated. Use date instead.",rr),fr.months=T("months accessor is deprecated. Use month instead",Ht),fr.years=T("years accessor is deprecated. Use year instead",Ct),fr.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),fr.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),(e=Cn(e))._a){var t=e._isUTC?c(e._a):Ln(e._a);this._isDSTShifted=this.isValid()&&0<S(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var cr=O.prototype;cr.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return L(r)?r.call(t,n):r},cr.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},cr.invalidDate=function(){return this._invalidDate},cr.ordinal=function(e){return this._ordinal.replace("%d",e)},cr.preparse=lr,cr.postformat=lr,cr.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return L(i)?i(e,t,n,r):i.replace(/%d/i,e)},cr.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return L(n)?n(t):n.replace(/%s/i,t)},cr.set=function(e){var t,n;for(n in e)L(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},cr.months=function(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Mt).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone},cr.monthsShort=function(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Mt.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},cr.monthsParse=function(e,t,n){var r,i,s;if(this._monthsParseExact)return function(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Nt.call(this._shortMonthsParse,o))?i:null:-1!==(i=Nt.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Nt.call(this._shortMonthsParse,o))?i:-1!==(i=Nt.call(this._longMonthsParse,o))?i:null:-1!==(i=Nt.call(this._longMonthsParse,o))?i:-1!==(i=Nt.call(this._shortMonthsParse,o))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},cr.monthsRegex=function(e){return this._monthsParseExact?(f(this,"_monthsRegex")||Ft.call(this),e?this._monthsStrictRegex:this._monthsRegex):(f(this,"_monthsRegex")||(this._monthsRegex=jt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},cr.monthsShortRegex=function(e){return this._monthsParseExact?(f(this,"_monthsRegex")||Ft.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(f(this,"_monthsShortRegex")||(this._monthsShortRegex=Bt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},cr.week=function(e){return Ut(e,this._week.dow,this._week.doy).week},cr.firstDayOfYear=function(){return this._week.doy},cr.firstDayOfWeek=function(){return this._week.dow},cr.weekdays=function(e,t){return e?r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone},cr.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},cr.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},cr.weekdaysParse=function(e,t,n){var r,i,s;if(this._weekdaysParseExact)return function(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Nt.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Nt.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Nt.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Nt.call(this._weekdaysParse,o))?i:-1!==(i=Nt.call(this._shortWeekdaysParse,o))?i:-1!==(i=Nt.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Nt.call(this._shortWeekdaysParse,o))?i:-1!==(i=Nt.call(this._weekdaysParse,o))?i:-1!==(i=Nt.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Nt.call(this._minWeekdaysParse,o))?i:-1!==(i=Nt.call(this._weekdaysParse,o))?i:-1!==(i=Nt.call(this._shortWeekdaysParse,o))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},cr.weekdaysRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(f(this,"_weekdaysRegex")||(this._weekdaysRegex=$t),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},cr.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(f(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Jt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},cr.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(f(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Kt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},cr.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},cr.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},an("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===E(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=T("moment.lang is deprecated. Use moment.locale instead.",an),n.langData=T("moment.langData is deprecated. Use moment.localeData instead.",ln);var vr=Math.abs,Er=wr("ms"),Sr=wr("s"),xr=wr("m"),Tr=wr("h"),Nr=wr("d"),Cr=wr("w"),kr=wr("M"),Lr=wr("y"),Or=Ar("milliseconds"),Mr=Ar("seconds"),_r=Ar("minutes"),Dr=Ar("hours"),Pr=Ar("days"),Hr=Ar("months"),Br=Ar("years"),jr=Math.round,Fr={ss:44,s:45,m:45,h:22,d:26,M:11},Ir=Math.abs,Ur=Dn.prototype;return Ur.isValid=function(){return this._isValid},Ur.abs=function(){var e=this._data;return this._milliseconds=vr(this._milliseconds),this._days=vr(this._days),this._months=vr(this._months),e.milliseconds=vr(e.milliseconds),e.seconds=vr(e.seconds),e.minutes=vr(e.minutes),e.hours=vr(e.hours),e.months=vr(e.months),e.years=vr(e.years),this},Ur.add=function(e,t){return mr(this,e,t,1)},Ur.subtract=function(e,t){return mr(this,e,t,-1)},Ur.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=D(e))||"year"===e)return t=this._days+r/864e5,n=this._months+yr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(br(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Ur.asMilliseconds=Er,Ur.asSeconds=Sr,Ur.asMinutes=xr,Ur.asHours=Tr,Ur.asDays=Nr,Ur.asWeeks=Cr,Ur.asMonths=kr,Ur.asYears=Lr,Ur.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12):NaN},Ur._bubble=function(){var e,t,n,r,i,s=this._milliseconds,o=this._days,u=this._months,a=this._data;return 0<=s&&0<=o&&0<=u||s<=0&&o<=0&&u<=0||(s+=864e5*gr(br(u)+o),u=o=0),a.milliseconds=s%1e3,e=w(s/1e3),a.seconds=e%60,t=w(e/60),a.minutes=t%60,n=w(t/60),a.hours=n%24,u+=i=w(yr(o+=w(n/24))),o-=gr(br(i)),r=w(u/12),u%=12,a.days=o,a.months=u,a.years=r,this},Ur.clone=function(){return Wn(this)},Ur.get=function(e){return e=D(e),this.isValid()?this[e+"s"]():NaN},Ur.milliseconds=Or,Ur.seconds=Mr,Ur.minutes=_r,Ur.hours=Dr,Ur.days=Pr,Ur.weeks=function(){return w(this.days()/7)},Ur.months=Hr,Ur.years=Br,Ur.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,r,i,s,o,u,a,f,l,c,h=this.localeData(),p=(n=!e,r=h,i=Wn(t=this).abs(),s=jr(i.as("s")),o=jr(i.as("m")),u=jr(i.as("h")),a=jr(i.as("d")),f=jr(i.as("M")),l=jr(i.as("y")),(c=s<=Fr.ss&&["s",s]||s<Fr.s&&["ss",s]||o<=1&&["m"]||o<Fr.m&&["mm",o]||u<=1&&["h"]||u<Fr.h&&["hh",u]||a<=1&&["d"]||a<Fr.d&&["dd",a]||f<=1&&["M"]||f<Fr.M&&["MM",f]||l<=1&&["y"]||["yy",l])[2]=n,c[3]=0<+t,c[4]=r,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,c));return e&&(p=h.pastFuture(+this,p)),h.postformat(p)},Ur.toISOString=Rr,Ur.toString=Rr,Ur.toJSON=Rr,Ur.locale=Yn,Ur.localeData=er,Ur.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Rr),Ur.lang=Zn,U("X",0,0,"unix"),U("x",0,0,"valueOf"),at("x",rt),at("X",/[+-]?\d+(\.\d{1,3})?/),ht("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ht("x",function(e,t,n){n._d=new Date(E(e))}),n.version="2.22.1",e=Ln,n.fn=fr,n.min=function(){return Mn("isBefore",[].slice.call(arguments,0))},n.max=function(){return Mn("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+(new Date)},n.utc=c,n.unix=function(e){return Ln(1e3*e)},n.months=function(e,t){return pr(e,t,"months")},n.isDate=u,n.locale=an,n.invalid=d,n.duration=Wn,n.isMoment=b,n.weekdays=function(e,t,n){return dr(e,t,n,"weekdays")},n.parseZone=function(){return Ln.apply(null,arguments).parseZone()},n.localeData=ln,n.isDuration=Pn,n.monthsShort=function(e,t){return pr(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return dr(e,t,n,"weekdaysMin")},n.defineLocale=fn,n.updateLocale=function(e,t){if(null!=t){var n,r,i=nn;null!=(r=un(e))&&(i=r._config),(n=new O(t=A(i,t))).parentLocale=rn[e],rn[e]=n,an(e)}else null!=rn[e]&&(null!=rn[e].parentLocale?rn[e]=rn[e].parentLocale:null!=rn[e]&&delete rn[e]);return rn[e]},n.locales=function(){return N(rn)},n.weekdaysShort=function(e,t,n){return dr(e,t,n,"weekdaysShort")},n.normalizeUnits=D,n.relativeTimeRounding=function(e){return void 0===e?jr:"function"==typeof e&&(jr=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Fr[e]&&(void 0===t?Fr[e]:(Fr[e]=t,"s"===e&&(Fr.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=fr,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},n}),function(e,t){"use strict";var n;if(typeof exports=="object"){try{n=require("moment")}catch(r){}module.exports=t(n)}else typeof define=="function"&&define.amd?define("Pikaday",["require"],function(e){var r="moment";try{n=e(r)}catch(i){}return t(n)}):e.Pikaday=t(e.moment)}(this,function(e){"use strict";var t=typeof e=="function",n=!!window.addEventListener,r=window.document,i=window.setTimeout,s=function(e,t,r,i){n?e.addEventListener(t,r,!!i):e.attachEvent("on"+t,r)},o=function(e,t,r,i){n?e.removeEventListener(t,r,!!i):e.detachEvent("on"+t,r)},u=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},a=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1},f=function(e,t){a(e,t)||(e.className=e.className===""?t:e.className+" "+t)},l=function(e,t){e.className=u((" "+e.className+" ").replace(" "+t+" "," "))},c=function(e){return/Array/.test(Object.prototype.toString.call(e))},h=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var t=e.getDay();return t===0||t===6},d=function(e){return e%4===0&&e%100!==0||e%400===0},v=function(e,t){return[31,d(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},m=function(e){h(e)&&e.setHours(0,0,0,0)},g=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var r,i;for(r in t){i=e[r]!==undefined;if(i&&typeof t[r]=="object"&&t[r]!==null&&t[r].nodeName===undefined)h(t[r])?n&&(e[r]=new Date(t[r].getTime())):c(t[r])?n&&(e[r]=t[r].slice(0)):e[r]=y({},t[r],n);else if(n||!i)e[r]=t[r]}return e},b=function(e,t,n){var i;r.createEvent?(i=r.createEvent("HTMLEvents"),i.initEvent(t,!0,!1),i=y(i,n),e.dispatchEvent(i)):r.createEventObject&&(i=r.createEventObject(),i=y(i,n),e.fireEvent("on"+t,i))},w=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},E={field:null,bound:undefined,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:undefined,maxMonth:undefined,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:undefined,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},S=function(e,t,n){t+=e.firstDay;while(t>=7)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},x=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'">'+'<button class="pika-button pika-day" type="button" '+'data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button>"+"</td>"},T=function(e,t,n){var r=new Date(n,0,1),i=Math.ceil(((new Date(n,t,e)-r)/864e5+r.getDay()+1)/7);return'<td class="pika-week">'+i+"</td>"},N=function(e,t,n,r){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(r?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},C=function(e){return"<tbody>"+e.join("")+"</tbody>"},k=function(e){var t,n=[];e.showWeekNumber&&n.push("<th></th>");for(t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+S(e,t)+'">'+S(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"},L=function(e,t,n,r,i,s){var o,u,a,f=e._o,l=n===f.minYear,h=n===f.maxYear,p='<div id="'+s+'" class="pika-title" role="heading" aria-live="assertive">',d,v,m=!0,g=!0;for(a=[],o=0;o<12;o++)a.push('<option value="'+(n===i?o-t:12+o-t)+'"'+(o===r?' selected="selected"':"")+(l&&o<f.minMonth||h&&o>f.maxMonth?'disabled="disabled"':"")+">"+f.i18n.months[o]+"</option>");d='<div class="pika-label">'+f.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+a.join("")+"</select></div>",c(f.yearRange)?(o=f.yearRange[0],u=f.yearRange[1]+1):(o=n-f.yearRange,u=1+n+f.yearRange);for(a=[];o<u&&o<=f.maxYear;o++)o>=f.minYear&&a.push('<option value="'+o+'"'+(o===n?' selected="selected"':"")+">"+o+"</option>");return v='<div class="pika-label">'+n+f.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+a.join("")+"</select></div>",f.showMonthAfterYear?p+=v+d:p+=d+v,l&&(r===0||f.minMonth>=r)&&(m=!1),h&&(r===11||f.maxMonth<=r)&&(g=!1),t===0&&(p+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+f.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(p+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+f.i18n.nextMonth+"</button>"),p+="</div>"},A=function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+k(e)+C(t)+"</table>"},O=function(o){var u=this,f=u.config(o);u._onMouseDown=function(e){if(!u._v)return;e=e||window.event;var t=e.target||e.srcElement;if(!t)return;a(t,"is-disabled")||(a(t,"pika-button")&&!a(t,"is-empty")&&!a(t.parentNode,"is-disabled")?(u.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),f.bound&&i(function(){u.hide(),f.blurFieldOnSelect&&f.field&&f.field.blur()},100)):a(t,"pika-prev")?u.prevMonth():a(t,"pika-next")&&u.nextMonth());if(!a(t,"pika-select")){if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}else u._c=!0},u._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;if(!t)return;a(t,"pika-select-month")?u.gotoMonth(t.value):a(t,"pika-select-year")&&u.gotoYear(t.value)},u._onKeyChange=function(e){e=e||window.event;if(u.isVisible())switch(e.keyCode){case 13:case 27:f.field&&f.field.blur();break;case 37:e.preventDefault(),u.adjustDate("subtract",1);break;case 38:u.adjustDate("subtract",7);break;case 39:u.adjustDate("add",1);break;case 40:u.adjustDate("add",7)}},u._onInputChange=function(n){var r;if(n.firedBy===u)return;f.parse?r=f.parse(f.field.value,f.format):t?(r=e(f.field.value,f.format,f.formatStrict),r=r&&r.isValid()?r.toDate():null):r=new Date(Date.parse(f.field.value)),h(r)&&u.setDate(r),u._v||u.show()},u._onInputFocus=function(){u.show()},u._onInputClick=function(){u.show()},u._onInputBlur=function(){var e=r.activeElement;do if(a(e,"pika-single"))return;while(e=e.parentNode);u._c||(u._b=i(function(){u.hide()},50)),u._c=!1},u._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,r=t;if(!t)return;!n&&a(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),s(t,"change",u._onChange)));do if(a(r,"pika-single")||r===f.trigger)return;while(r=r.parentNode);u._v&&t!==f.trigger&&r!==f.trigger&&u.hide()},u.el=r.createElement("div"),u.el.className="pika-single"+(f.isRTL?" is-rtl":"")+(f.theme?" "+f.theme:""),s(u.el,"mousedown",u._onMouseDown,!0),s(u.el,"touchend",u._onMouseDown,!0),s(u.el,"change",u._onChange),s(r,"keydown",u._onKeyChange),f.field&&(f.container?f.container.appendChild(u.el):f.bound?r.body.appendChild(u.el):f.field.parentNode.insertBefore(u.el,f.field.nextSibling),s(f.field,"change",u._onInputChange),f.defaultDate||(t&&f.field.value?f.defaultDate=e(f.field.value,f.format).toDate():f.defaultDate=new Date(Date.parse(f.field.value)),f.setDefaultDate=!0));var l=f.defaultDate;h(l)?f.setDefaultDate?u.setDate(l,!0):u.gotoDate(l):u.gotoDate(new Date),f.bound?(this.hide(),u.el.className+=" is-bound",s(f.trigger,"click",u._onInputClick),s(f.trigger,"focus",u._onInputFocus),s(f.trigger,"blur",u._onInputBlur)):this.show()};return O.prototype={config:function(e){this._o||(this._o=y({},E,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme=typeof t.theme=="string"&&t.theme?t.theme:null,t.bound=!!(t.bound!==undefined?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn=typeof t.disableDayFn=="function"?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;t.numberOfMonths=n>4?4:n,h(t.minDate)||(t.minDate=!1),h(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate);if(c(t.yearRange)){var r=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||r,t.yearRange[1]=parseInt(t.yearRange[1],10)||r}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||E.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return n=n||this._o.format,h(this._d)?this._o.toString?this._o.toString(this._d,n):t?e(this._d).format(n):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,r){t&&e.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return h(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",b(this._o.field,"change",{firedBy:this})),this.draw();typeof e=="string"&&(e=new Date(Date.parse(e)));if(!h(e))return;var n=this._o.minDate,r=this._o.maxDate;h(n)&&e<n?e=n:h(r)&&e>r&&(e=r),this._d=new Date(e.getTime()),m(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),b(this._o.field,"change",{firedBy:this})),!t&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())},gotoDate:function(e){var t=!0;if(!h(e))return;if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=i<n.getTime()||r.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()},adjustDate:function(e,t){var n=this.getDate()||new Date,r=parseInt(t)*24*60*60*1e3,i;e==="add"?i=new Date(n.valueOf()+r):e==="subtract"&&(i=new Date(n.valueOf()-r)),this.setDate(i)},adjustCalendars:function(){this.calendars[0]=w(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=w({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(m(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=E.minDate,this._o.minYear=E.minYear,this._o.minMonth=E.minMonth,this._o.startRange=E.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(m(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=E.maxDate,this._o.maxYear=E.maxYear,this._o.maxMonth=E.maxMonth,this._o.endRange=E.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(!this._v&&!e)return;var t=this._o,n=t.minYear,r=t.maxYear,s=t.minMonth,o=t.maxMonth,u="",a;this._y<=n&&(this._y=n,!isNaN(s)&&this._m<s&&(this._m=s)),this._y>=r&&(this._y=r,!isNaN(o)&&this._m>o&&(this._m=o)),a="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var f=0;f<t.numberOfMonths;f++)u+='<div class="pika-lendar">'+L(this,f,this.calendars[f].year,this.calendars[f].month,this.calendars[0].year,a)+this.render(this.calendars[f].year,this.calendars[f].month,a)+"</div>";this.el.innerHTML=u,t.bound&&t.field.type!=="hidden"&&i(function(){t.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),t.bound&&t.field.setAttribute("aria-label","Use the arrow keys to pick a date")},adjustPosition:function(){var e,t,n,i,s,o,u,a,f,l;if(this._o.container)return;this.el.style.position="absolute",e=this._o.trigger,t=e,n=this.el.offsetWidth,i=this.el.offsetHeight,s=window.innerWidth||r.documentElement.clientWidth,o=window.innerHeight||r.documentElement.clientHeight,u=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop;if(typeof e.getBoundingClientRect=="function")l=e.getBoundingClientRect(),a=l.left+window.pageXOffset,f=l.bottom+window.pageYOffset;else{a=t.offsetLeft,f=t.offsetTop+t.offsetHeight;while(t=t.offsetParent)a+=t.offsetLeft,f+=t.offsetTop}if(this._o.reposition&&a+n>s||this._o.position.indexOf("right")>-1&&a-n+e.offsetWidth>0)a=a-n+e.offsetWidth;if(this._o.reposition&&f+i>o+u||this._o.position.indexOf("top")>-1&&f-i-e.offsetHeight>0)f=f-i-e.offsetHeight;this.el.style.left=a+"px",this.el.style.top=f+"px"},render:function(e,t,n){var r=this._o,i=new Date,s=v(e,t),o=(new Date(e,t,1)).getDay(),u=[],a=[];m(i),r.firstDay>0&&(o-=r.firstDay,o<0&&(o+=7));var f=t===0?11:t-1,l=t===11?0:t+1,c=t===0?e-1:e,d=t===11?e+1:e,y=v(c,f),b=s+o,w=b;while(w>7)w-=7;b+=7-w;var E=!1;for(var S=0,C=0;S<b;S++){var k=new Date(e,t,1+(S-o)),L=h(this._d)?g(k,this._d):!1,O=g(k,i),M=r.events.indexOf(k.toDateString())!==-1?!0:!1,_=S<o||S>=s+o,D=1+(S-o),P=t,H=e,B=r.startRange&&g(r.startRange,k),j=r.endRange&&g(r.endRange,k),F=r.startRange&&r.endRange&&r.startRange<k&&k<r.endRange,I=r.minDate&&k<r.minDate||r.maxDate&&k>r.maxDate||r.disableWeekends&&p(k)||r.disableDayFn&&r.disableDayFn(k);_&&(S<o?(D=y+D,P=f,H=c):(D-=s,P=l,H=d));var q={day:D,month:P,year:H,hasEvent:M,isSelected:L,isToday:O,isDisabled:I,isEmpty:_,isStartRange:B,isEndRange:j,isInRange:F,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:r.enableSelectionDaysInNextAndPreviousMonths};r.pickWholeWeek&&L&&(E=!0),a.push(x(q)),++C===7&&(r.showWeekNumber&&a.unshift(T(S-o,t,e)),u.push(N(a,r.isRTL,r.pickWholeWeek,E)),a=[],C=0,E=!1)}return A(r,u,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),l(this.el,"is-hidden"),this._o.bound&&(s(r,"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&o(r,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",f(this.el,"is-hidden"),this._v=!1,e!==undefined&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"touchend",this._onMouseDown,!0),o(this.el,"change",this._onChange),o(r,"keydown",this._onKeyChange),this._o.field&&(o(this._o.field,"change",this._onInputChange),this._o.bound&&(o(this._o.trigger,"click",this._onInputClick),o(this._o.trigger,"focus",this._onInputFocus),o(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},O}),define("forms/fields/DatePicker",["jquery","moment","Pikaday","factories/fieldFactory"],function(e,t,n,r){"use strict";var i=function(s){var o,u,a,f,l,c,h,p,d;o=this,a=i.markup,u=e.extend({$e:null,selector:".date-picker"},s),f={name:"DatePicker",$e:u.$e||e(u.selector),explicitInit:!0,picker:null,format:"MM/DD/YYYY",initialVal:null,components:{nativeInput:{selector:".picker"},picker:{selector:".picker"}}},l={},c={},h={init:function(){h.getFormat(),h.initPicker(),h.getInitialVal()},getFormat:function(){f.format=l.picker.data("format")||f.format},initPicker:function(){f.picker=new n({field:l.picker[0],format:f.format,setDefaultDate:f.initialVal?t(f.initialVal).format(f.format):""})},getInitialVal:function(){f.initialVal=l.picker.val(),h.isBlank()||h.setDefaultVal(t(f.initialVal).format(f.format))},setDisplayDate:function(e){l.picker.val(e)},getVal:function(){var e=l.picker.val();return e?f.picker?f.picker.getMoment().format("YYYY-MM-DD"):e:""},getRawVal:function(){return f.picker?f.picker.getMoment().format():""},setVal:function(e,n){var r=e?t(e).format(f.format):"";n=n||{},f.picker?f.picker.setDate(r):l.picker.val(r),n.isDefault&&l.picker.trigger("change:default",r)}},p={},d={getVal:h.getVal,getRawVal:h.getRawVal,setVal:h.setVal},r({self:o,o:u,m:a,internal:f,elements:l,templates:c,fn:h,handlers:p,api:d}).create()};return i.markup={},i}),define("forms/fields/Time",["jquery","factories/fieldFactory","forms/widgets/DropMenu"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h,p;s=this,u=r.markup,o=e.extend({$e:null,selector:".time"},i),a={name:"Time",$e:o.$e||e(o.selector),explicitInit:!0,dropMenus:[],twelveTimeRegex:/^([0-9]|1[0-2]):[0-5][0-9](am|pm)$/,zuluTimeRegex:/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$/,components:{nativeInput:{selector:".time-control"},timeDropMenu:{selector:".time-drop-menu"}},events:{"blur @nativeInput":"nativeInputBlur"}},f={},l={},c={init:function(){f.timeDropMenu.each(function(t,r){a.dropMenus.push(new n({$e:e(r),onSelect:function(e){c.setVal(e.data("value"))},selfToggle:!0}))})},setVal:function(e,t){t=t||{},f.nativeInput.val(c.convertTo12hTime(e)),f.nativeInput.trigger("change"),t.isDefault&&f.nativeInput.trigger("change:default",e)},getVal:function(){return s.isValid()?c.convertToISOTime(e.trim(f.nativeInput.val())):""},convertTo12hTime:function(e){var t,n,r,i;if(!e)return"";if(a.twelveTimeRegex.test(e))return e;if(a.zuluTimeRegex.test(e))return t=e.split(":"),n=parseInt(t[0]),r=t[1],n>=12?(n-=12,i="pm"):i="am",n===0&&(n=12),n+":"+r+i},convertToISOTime:function(e){var t,n,r,i;return!e||!s.isValid()?"":(a.twelveTimeRegex.test(e)?t=e.replace(/am|pm/,"").split(":"):a.zuluTimeRegex.test(e)&&(t=e.split(":")),n=parseInt(t[0]),r=t[1],/pm/.test(e)&&n!==12?n+=12:/am/.test(e)&&n===12&&(n=0),n<10&&(n="0"+n),i=n+":"+r+":00",i)}},h={nativeInputBlur:function(){a.dropMenus.forEach(function(e){e.close()})}},p={setVal:c.setVal,getVal:c.getVal},t({self:s,o:o,m:u,internal:a,elements:f,templates:l,fn:c,handlers:h,api:p}).create()};return r.markup={},r}),define("forms/fields/HtmlField",["jquery","factories/fieldFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c,h;i=this,o=n.markup,s=e.extend({$e:null,selector:".html-field"},r),u={name:"HtmlField",$e:s.$e||e(s.selector),explicitInit:!0,withoutNativeInput:!0,components:{}},a={},f={},l={init:function(){},getName:function(){return u.$e.attr("name")},getVal:function(){return u.$e.html()},setVal:function(e,t){t=t||{},u.$e.html(e),t.isDefault&&u.$e.trigger("change:default",e)}},c={},h={getName:l.getName,getVal:l.getVal,setVal:l.setVal},t({self:i,o:s,m:o,internal:u,elements:a,templates:f,fn:l,handlers:c,api:h}).create()};return n.markup={},n}),define("forms/widgets/FocalPoint",["jquery","factories/fieldFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c;i=this,o=n.markup,s=e.extend({$e:null,selector:".focal-point"},r),u={name:"FocalPoint",$e:s.$e||e(s.selector),withoutNativeInput:!0,wrapperBounds:{},fieldset:{},tooltipTimeout:null,tooltipDelay:1e3,components:{focalPointControl:{selector:".focal-point-control"}},events:{mousedown:"mouseDown",mousemove:"mouseMove",mouseup:"mouseUp",mouseenter:"mouseEnter"}},a={},f={init:function(){u.fieldset=u.$e.data("fieldsetInstance"),u.fieldset.isReady()?f.setInitialFocalPoint():u.$e.one("initCustomFieldsComplete",f.setInitialFocalPoint)},setInitialFocalPoint:function(){var e;e=u.fieldset.getVals(["focus_x","focus_y"]),!e.focus_x||!e.focus_y?f.showTooltip():f.hideTooltip(),e.focus_x=e.focus_x?parseFloat(e.focus_x):.5,e.focus_y=e.focus_y?parseFloat(e.focus_y):.5,u.fieldset.setVals(e,null,{silent:!0}),f.updateFocalPoint()},cacheWrapperBounds:function(){u.wrapperBounds=u.$e[0].getBoundingClientRect()},startFocalPointDrag:function(){u.focalPointDragging=!0},stopFocalPointDrag:function(){u.focalPointDragging=!1},setFocalPoint:function(e,t){var n,r;n=(e-u.wrapperBounds.left)/u.wrapperBounds.width,r=(t-u.wrapperBounds.top)/u.wrapperBounds.height,n=Math.max(0,Math.min(1,n)),r=Math.max(0,Math.min(1,r)),u.fieldset.setVals({focus_x:n,focus_y:r}),f.updateFocalPoint()},updateFocalPoint:function(){var e;e=u.fieldset.getVals(["focus_x","focus_y"]),a.focalPointControl.css({left:parseFloat(e.focus_x)*100+"%",top:parseFloat(e.focus_y)*100+"%"})},showTooltip:function(){if(!u.tooltipTimeout){u.tooltipTimeout=setTimeout(function(){f.showTooltip()},u.tooltipDelay);return}a.focalPointControl.addClass(o.SHOW_TOOLTIP)},hideTooltip:function(){a.focalPointControl.removeClass(o.SHOW_TOOLTIP),clearTimeout(u.tooltipTimeout),u.tooltipTimeout=null}},l={mouseDown:function(e){f.cacheWrapperBounds(),f.startFocalPointDrag(),f.setFocalPoint(e.clientX,e.clientY),f.hideTooltip()},mouseMove:function(e){u.focalPointDragging&&(e.preventDefault(),f.setFocalPoint(e.clientX,e.clientY))},mouseUp:function(){f.stopFocalPointDrag()},mouseEnter:function(){f.showTooltip()}},c={},t({self:i,o:s,m:o,internal:u,elements:a,fn:f,handlers:l,api:c}).create()};return n.markup={SHOW_TOOLTIP:"state-show-tooltip"},n}),define("managers/TagSearchManager",["jquery","factories/moduleFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c,h;i=this,o=n.markup,s=e.extend({$e:null,selector:".autocomplate.variant-tag-search-input",autocomplete:null},r),u={name:"TagSearchManager",$e:s.$e||e(s.selector),defaultTags:[],currentTagIndex:-1,rotateDelay:3500,transitionDelay:350,restartDelay:1e3,rotateTimeout:null,restartTimeout:null,controlFocused:!1,controlMouseover:!1,firstClick:!1,startTag:!1,components:{heroSearch:{selector:"^#hero-search"},autocompleteDropMenu:{selector:".autocomplete-drop-menu"},autocompleteControl:{selector:".autocomplete-control"}},events:{"mouseenter @autocompleteControl":"autocompleteControlMouseenter","mouseleave @autocompleteControl":"autocompleteControlMouseleave","focus @autocompleteControl":"autocompleteControlFocus","blur @autocompleteControl":"autocompleteControlBlur","click @autocompleteControl":"autocompleteControlClick",clearinput:"autocompleteClearInput",autocompleteSelect:"autocompleteSelect"}},a={},f={},l={init:function(){l.cacheDefaultTags(),l.ensureTagTitle(),l.acControlHasVal()?(l.setControlState(),u.startTag=!0):l.rotateTags(),u.globalSearchManager=a.heroSearch.data("globalSearchManagerInstance")},cacheDefaultTags:function(){var t;t=s.autocomplete.getResults(),t.each(function(t,n){var r,i;r=e(n),i=r.data("result"),u.defaultTags.push({$e:r,json:i})})},ensureTagTitle:function(){var e;e=l.getCurrentTag(),e&&s.autocomplete.setInputVal(e.json.title)},acControlHasVal:function(){var e;return e=s.autocomplete.getControlVal(),e.length>0},rotateTags:function(){var e,t;u.defaultTags.length&&(e=u.currentTagIndex+1,e>=u.defaultTags.length&&(e=0),t=u.defaultTags[e],l.fadeInValue(t.json),u.rotateTimeout=setTimeout(l.rotateTags,u.rotateDelay),u.currentTagIndex=e)},restartRotator:function(){var e;e=l.getCurrentTag();if(e||!l.acControlHasVal())u.restartTimeout=setTimeout(function(){l.rotateTags()},u.restartDelay)},getCurrentTag:function(){var e,t,n;return e=s.autocomplete.getControlVal(),t=new RegExp("^"+e+"$","i"),n=null,u.defaultTags.forEach(function(e){var r=e.json;if(t.test(r.slug)||t.test(r.title))return n=e,!1}),n},triggerAutoCompleteSelect:function(){var e;e=l.getCurrentTag(),e&&s.autocomplete.setValByEl(e.$e)},setControlState:function(){var e;e=l.acControlHasVal(),u.$e.toggleClass(o.TAG_SELECTED,e)},fadeInValue:function(e){a.autocompleteControl.css("color","rgba(255,255,255,0)").delay(u.transitionDelay).queue(function(t){a.autocompleteControl.val(e.title).css("color","rgba(255,255,255,1)"),t()})},stopRotator:function(){clearTimeout(u.rotateTimeout),clearTimeout(u.restartTimeout)}},c={autocompleteControlMouseenter:function(){u.controlMouseover=!0,l.stopRotator()},autocompleteControlMouseleave:function(){u.controlMouseover=!1,!u.controlFocused&&!u.$e.hasClass(o.TAG_SELECTED)&&l.restartRotator()},autocompleteControlFocus:function(){u.controlFocused=!0,l.stopRotator()},autocompleteControlBlur:function(){u.controlFocused=!1,u.firstClick=!1,!u.controlMouseover&&!u.$e.hasClass(o.TAG_SELECTED)&&(u.startTag?u.globalSearchManager.reset({removeParam:"tag"}):l.restartRotator())},autocompleteControlClick:function(){u.firstClick?l.triggerAutoCompleteSelect():u.firstClick=!0},autocompleteClearInput:function(){u.startTag?u.globalSearchManager.reset({removeParam:"tag"}):(u.controlFocused=!1,u.firstClick=!1,u.controlMouseover=!1,l.rotateTags())},autocompleteSelect:function(){l.stopRotator()}},h={},t({self:i,o:s,m:o,internal:u,elements:a,templates:f,fn:l,handlers:c,api:h}).create()};return n.markup={TAG_SELECTED:"state-tag-selected"},n}),define("forms/widgets/Autocomplete",["jquery","factories/moduleFactory","forms/widgets/DropMenu","services/Xhr","utils/keycodes","utils/functionUtil","managers/TagSearchManager"],function(e,t,n,r,i,s,o){"use strict";var u=function(a){var f,l,c,h,p,d,v,m,g;f=this,c=u.markup,l=e.extend({$e:null,selector:".field.autocomplete",searchDelay:250},a),h={name:"Autocomplete",$e:l.$e||e(l.selector),withoutNativeInput:!0,endpoint:"/q/{{query}}",xhr:new r({xhrSettings:{contentType:"text/plain; charest=utf-8",dataType:"html"}}),currentSearch:null,defaultResults:null,tagData:{dataKey:null,tagFieldName:null,tagMetaFields:{}},dropMenu:null,dropMenuOptions:{control:".autocomplete-control",wrapper:".autocomplete-results",item:".autocomplete-results .autocomplete-result",autocomplete:!0},templates:{tag:{selector:"!.autocomplete-tag-template"}},components:{dropMenu:{selector:".autocomplete-drop-menu"},control:{selector:".autocomplete-control"},results:{selector:".autocomplete-results"},result:{selector:".autocomplete-result"},tags:{selector:".autocomplete-tags"},tag:{selector:".autocomplete-tag"},removeTag:{selector:".remove-tag"},clearInput:{selector:".clear-input"}},events:{initCustomFieldsComplete:"initCustomFieldsComplete","focus @control":"controlFocus","blur @control":"controlBlur","keyup @control":"controlKeyup","click @removeTag":"removeTagClick","click @clearInput":"clearInputClick","change @control":"controlChange","paste @control":"controlPaste"}},p={},d={},v={init:function(){v.cacheDataEndpoint(),v.cacheDefaultResults(),v.cacheTagData(),v.initDropMenu(),v.getInitialTags(),v.isSingleValue()&&v.prefillControl(),h.$e.hasClass(c.TAG_SEARCH_INPUT)&&new o({$e:h.$e,autocomplete:f})},cacheDataEndpoint:function(){var e=h.$e.data("endpoint");e&&(e=e.replace("[[","{{","g").replace("]]","}}","g"),h.endpoint=e)},updateEndpoint:function(e){h.endpoint=e},cacheDefaultResults:function(){p.result&&(h.defaultResults=p.results.html())},getResults:function(){return p.result||e()},getControlVal:function(){return e.trim(p.control.val())},cacheTagData:function(){h.tagData.name=h.$e.data("name"),h.tagData.dataKey=h.$e.data("key"),h.tagData.tagFieldName=h.$e.data("tagFieldName"),h.tagData.tagMetaFields=h.$e.data("tagMetaFields")},initDropMenu:function(){h.dropMenu=new n({$e:p.dropMenu,menuControl:h.dropMenuOptions.control,menuItemsWrapper:h.dropMenuOptions.wrapper,menuItem:h.dropMenuOptions.item,onSelect:v.setValByEl})},getInitialTags:function(){var t=h.$e.data("tags");e.isPlainObject(t)&&(t=[t]),e.isArray(t)&&e.each(t,function(t,n){e.type(n)==="string"&&(n=JSON.parse(n.replace(/'/g,'"'))),v.appendTag(e.extend({value:n,label:n.title},h.tagData))})},prefillControl:function(){var t,n,r;p.tag&&(n=p.tag.first(),r=n.find(".label"),t=e.trim(r.text()),p.control.val(t),v.setTagSelectedState())},isSingleValue:function(){return!!h.$e.data("singleValue")},setValByEl:function(t){var n,r,i,s;s=h.$e.data("handleAutoCompleteSelect");if(!t.length){s&&s(null);return}i=t.clone(),i.find(".result-meta").remove(),n=e.trim(i.text()),r=t.data("result");if(s){s(r,n);return}v.isSingleValue()&&v.reset(),v.appendTag(e.extend({value:r,label:n},h.tagData)),v.getComponents(),v.isSingleValue()?(p.control.val(n),h.$e.addClass(c.TAG_SELECTED)):p.control.val(""),h.$e.trigger("autocompleteSelect",r),p.control.trigger("change")},findResult:function(t){var n,r;return n=null,r=new RegExp("^"+e.trim(t)+"$","i"),p.result.each(function(t,i){var s,o;s=e(i),o=s.data("result");if(o&&(r.test(o.slug)||r.test(o.title)))return n=o,!1}),n},doSearch:function(e){e=e||{},v.abortSearch();if(!p.control.val().length&&!e.initialResults){h.defaultResults?v.renderResults(h.defaultResults,{toggleOpen:!0}):v.toggleDropMenu();return}h.$e.addClass(c.PROCESSING),e.initialResults&&h.$e.addClass(c.PREFETCHING),h.currentSearch=h.xhr.getHtml(v.buildEndpoint(),{complete:function(){h.$e.removeClass(c.PROCESSING),e.initialResults&&h.$e.removeClass(c.PREFETCHING)},success:function(t){h.searchTimeout=null,v.renderResults(t,e)}})},throttledSearch:s.throttle(function(){v.doSearch()},l.searchDelay),abortSearch:function(){h.currentSearch&&h.currentSearch.abort&&h.currentSearch.abort()},buildEndpoint:function(){var e=h.endpoint,t=p.control.val(),n=h.$e.data("endpointSuffix"),r=h.$e.data("forAssociation");return n&&(e+=n),t&&t.length?e=e.replace(/{{query}}/,t):e=e.replace(/{{query}}/,"%20"),r&&(e+=e.indexOf("?")>-1?"&":"?",e+="association=true"),e},renderResults:function(e,t){t=t||{},t.initialResults?e.indexOf(c.NO_RESULTS)<0&&p.results.html(e):p.results.html(e),h.dropMenu.update(),v.getComponents(),t.initialResults?h.defaultResults=p.results.html():v.toggleDropMenu(t)},clearResults:function(){p.results.html("")},toggleDropMenu:function(e){e=e||{},p.control.val().length||e.toggleOpen?h.dropMenu.open():h.dropMenu.close()},appendTag:function(t){var n,r,i,s;r=!1,i=v.getCurrentTags(),s=h.$e.data("valueKey"),e.each(i,function(e,n){var i,o;i=s?n[s]:n.pk?n.pk:n.slug,o=s?t.value[s]:t.value.pk?t.value.pk:t.value.slug;if(i+""==o+"")return r=!0,!1});if(r)return;s&&(t.valueKey=s),n=e(d.tag(t)),n.data("valuePk",t.value.pk),p.tags.append(n),v.getComponents(),n.trigger("new:fieldset"),h.$e.trigger("change")},appendTags:function(t){e.each(t,function(e){v.appendTag(e)})},getCurrentTags:function(){var t;return t=[],v.getComponents(),p.tag&&p.tag.each(function(n,r){var i,s;i=e(r),s=i.data("tagValue"),t.push(s)}),t},removeTag:function(t){var n=e(t).closest(h.components.tag.selector),r=n.data("fieldsetInstance");r?(r.removeEl(),h.$e.trigger("change"),h.$e.trigger("removeACTag")):n.remove(),p.tag=p.tag.not(n),v.getComponents()},hasTags:function(){return p.tags[0].children.length>0},reset:function(){v.getComponents(),p.tag&&p.tag.each(function(e,t){v.removeTag(t)}),p.control.val("")},setInputVal:function(e){p.control.val(e),v.setTagSelectedState()},isInlineSearch:function(){return h.$e.hasClass(c.INLINE_SEARCH_INPUT)},focus:function(){p.control.focus()},setTagSelectedState:function(){var t;t=e.trim(p.control.val()),h.$e.toggleClass(c.TAG_SELECTED,t.length>0)},prefillControlVal:function(){var e=v.getControlVal();!e.length&&h.$e.hasClass(c.PREFILL_DEFAULT)&&(v.renderResults(h.defaultResults),v.getComponents(),p.result.first().trigger("click"))},isDisabled:function(){return h.$e.hasClass(c.DISABLED)},disable:function(){h.$e.addClass(c.DISABLED)},doPrefetch:function(){return!h.$e.hasClass(c.NO_PREFETCH)},prefetchResults:function(e){e=e||{},e.clearFirst&&v.clearResults(),v.doPrefetch()&&v.doSearch({initialResults:!0})},ensureSingleValue:function(){var e=v.getControlVal();e.length||v.reset()}},m={initCustomFieldsComplete:function(){v.prefetchResults(),v.prefillControlVal()},controlFocus:function(){if(v.isDisabled())return;v.toggleDropMenu({toggleOpen:p.result&&p.result.length>0}),clearTimeout(h.rotationTimer),h.$e.addClass(c.FOCUS)},controlKeyup:function(e){var t=/^[a-z\d\s]+$/i,n=String.fromCharCode(e.which),r=t.test(n);if(v.isDisabled())return;(r||e.which===i.BACKSPACE||e.which===i.SPACE)&&v.throttledSearch()},removeTagClick:function(){v.removeTag(this)},controlBlur:function(){if(v.isDisabled())return;h.dropMenu.close({delay:!0}),v.abortSearch(),v.prefillControlVal(),h.$e.removeClass(c.FOCUS),v.isSingleValue()&&v.ensureSingleValue()},clearInputClick:function(){v.setInputVal(""),h.$e.trigger("clearinput"),v.setTagSelectedState()},controlChange:function(){if(v.isDisabled())return;v.setTagSelectedState()},controlPaste:function(){if(v.isDisabled())return;v.throttledSearch()}},g={hasTags:v.hasTags,reset:v.reset,appendTags:v.appendTags,updateEndpoint:v.updateEndpoint,setInputVal:v.setInputVal,focus:v.focus,findResult:v.findResult,getResults:v.getResults,getControlVal:v.getControlVal,fadeInValue:v.fadeInValue,setValByEl:v.setValByEl,prefetchResults:v.prefetchResults,disable:v.disable},t({self:f,o:l,m:c,internal:h,elements:p,templates:d,fn:v,handlers:m,api:g}).create()};return u.markup={ROTATING_VALUES:"variant-rotating-values",INLINE_SEARCH_INPUT:"variant-tag-search-input",TAG_SEARCH_INPUT:"variant-tag-search-input",PREFILL_DEFAULT:"variant-prefill-default",NO_PREFETCH:"variant-no-prefetch",NO_RESULTS:"variant-no-results",TAG_SELECTED:"state-tag-selected",PREFETCHING:"state-prefetching"},u}),define("forms/widgets/Datetime",["jquery","moment","factories/moduleFactory"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h,p;s=this,u=r.markup,o=e.extend({$e:null,selector:".fieldset.datetime"},i),a={name:"Datetime",$e:o.$e||e(o.selector),isoTimeRegex:/([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]/,components:{datePicker:{selector:".date-picker"},time:{selector:".time"},datetimeField:{selector:".datetime-field"}},events:{setupFieldsComplete:"setupFieldsComplete","fieldReady @dateTimeField":"dateTimeFieldReady","change @datePicker":"datePickerChange","change @time":"timeChange"}},f={},l={},c={init:function(){},setInitialValues:function(){var e,n;e=f.datetimeField.data("fieldInstance").getVal();if(!e)return;e=t(e).format(),n=e.match(a.isoTimeRegex)[0],f.datePicker.data("fieldInstance").setDefaultVal(e),f.time.data("fieldInstance").setDefaultVal(n)},updateDateTime:function(){var e,n,r;e=f.datePicker.data("fieldInstance").getRawVal(),n=f.time.data("fieldInstance").getVal(),n?r=e.replace(a.isoTimeRegex,n):r=e,r=t(r).utc().format(),f.datetimeField.data("fieldInstance").setVal(r)}},h={datePickerChange:function(){c.updateDateTime()},timeChange:function(){c.updateDateTime()},dateTimeFieldReady:function(){c.setInitialValues()},setupFieldsComplete:function(e,t){t.getEl()[0]===a.$e[0]&&c.setInitialValues()}},p={},n({self:s,o:o,m:u,internal:a,elements:f,templates:l,fn:c,handlers:h,api:p}).create()};return r.markup={},r}),define("forms/widgets/PublicationLink",["jquery","factories/moduleFactory","forms/widgets/DropMenu"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h;s=this,u=r.markup,o=e.extend({$e:null,selector:".publication-link"},i),a={name:"PublicationLink",fieldset:null,mode:"read",components:{editComponents:{selector:".edit-components"},readComponents:{selector:".read-components"},fieldGroup:{selector:".field-group"},createLink:{selector:".create-link"},linkButton:{selector:".publication-link-button"},linkButtonLabel:{selector:".publication-link-button .label"},editDrop:{selector:".edit-drop",constructor:n,moduleOptions:{selfToggle:!0}},editLink:{selector:".edit-link"},removeLink:{selector:".remove-link"}},events:{"click @createLink":"createLinkClick","click @editLink":"editLinkClick","click @removeLink":"removeLinkClick"}},f={},l={init:function(){a.fieldset=a.$e.data("fieldsetInstance"),a.fieldset.isReady()?l.renderState():a.$e.one("initCustomFieldsComplete",l.renderState)},getLinkData:function(){return{title:a.fieldset.getVal("publication_link_title"),url:a.fieldset.getVal("publication_link_url")}},linkIsValid:function(){var e;return e=l.getLinkData(),!!e.title},getState:function(){return l.linkIsValid()&&a.mode!=="edit"?"read":"edit"},createLink:function(){var e;e=l.getLinkData(),f.linkButton.attr("href",e.url),f.linkButtonLabel.html(e.title),a.mode="read",l.renderState()},removeLink:function(){a.fieldset.reset(),l.renderState()},renderState:function(){var e,t;e=l.getState(),t=l.getLinkData(),f.readComponents.toggleClass(u.HIDE,e==="edit"),f.editComponents.toggleClass(u.HIDE,e==="read"),f.linkButton.toggleClass(u.LINK_LESS,!t.url)}},c={createLinkClick:function(){l.createLink()},editLinkClick:function(){a.mode="edit",l.renderState()},removeLinkClick:function(){l.removeLink()}},h={},t({self:s,o:o,m:u,internal:a,elements:f,fn:l,handlers:c,api:h}).create()};return r.markup={LINK_LESS:"variant-link-less"},r}),define("forms/widgets/ShowWhenValid",["jquery","factories/moduleFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c;i=this,o=n.markup,s=e.extend({$e:null,selector:".show-when-valid"},r),u={name:"ShowWhenValid",$e:s.$e||e(s.selector),form:s.form,fieldset:s.fieldset,$fieldset:s.fieldset.getEl(),targetField:null,$target:null,components:{},events:{},autoComplete:null},a={},f={init:function(){f.linkToTarget(),u.autoComplete?f.setAutocompleteVisibility():f.setVisibility()},linkToTarget:function(){var e,t;t=u.$e.data("linkAutocomplete"),e=u.$e.data("targetName"),u.targetField=u.fieldset.getField(e),u.$target=u.targetField.getEls?u.targetField.getEls():u.targetField.getEl(),t?(u.autoComplete=u.$fieldset.find("."+t),u.$target.on("change.showWhenValid",l.autocompleteChange),u.$fieldset.on("clearinput",l.autocompleteChange)):u.$target.on("change.showWhenValid",l.targetChange)},setVisibility:function(){var e,t,n;t=u.$e.data("targetValue"),typeof t=="boolean"?e=u.targetField.getVal()===t:typeof t=="string"?(n=t.split(","),e=n.indexOf(u.targetField.getVal())>-1):e=u.targetField.isValid(),u.$e.toggleClass(o.HIDE,!e)},setAutocompleteVisibility:function(){var t,n,r,i,s;t=u.autoComplete.data("tagFieldName"),n=r=u.fieldset.getField(t),n&&(i=e.trim(n.getEl().data("value").title),s=e.trim(u.targetField.getVal()),r=i&&i===s),u.$e.toggleClass(o.HIDE,!r)},destroy:function(){u.$target.off("change.showWhenValid"),u.$target.off("clearinput",l.autocompleteChange)}},l={targetChange:function(e){e.target!==u.$e[0]&&f.setVisibility()},autocompleteChange:function(e){e.target!==u.$e[0]&&f.setAutocompleteVisibility()}},c={},t({self:i,o:s,m:o,internal:u,elements:a,fn:f,handlers:l,api:c}).create()};return n.markup={},n}),define("forms/widgets/LicensePicker",["jquery","factories/moduleFactory","utils/functionUtil"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h;s=this,u=r.markup,o=e.extend({$e:null,selector:"fieldset.media-license"},i),a={name:"LicensePicker",$e:o.$e||e(o.selector),fieldset:null,ccLicenseComponents:{by:"Attribution",nd:"NoDerivatives",sa:"ShareAlike",nc:"NonCommercial",suffix:"4.0 International"},ccLicenseUrlTemplate:"http://creativecommons.org/licenses/{{copyrightString}}/4.0/",components:{form:{selector:"^form"},ccIcons:{selector:".cc-icon"},ccLicenseLink:{selector:"^form .cc-license-link"}},events:{change:"licenseChange"}},f={},l={init:function(){a.fieldset=a.$e.data("fieldsetInstance"),l.setInitialState()},setInitialState:function(){var e,t;e=a.fieldset.getData(),t=e.copyright_string.split("-"),t[0]==="cc"&&a.fieldset.setVals({is_creative_commons:!0,adaptations:(e.copyright_string.match(/nd|sa/)||[""])[0],commercial:(e.copyright_string.match(/nc/)||[""])[0]})},updateCCLicense:n.debounce(function(){var e,t,n,r,i;e=a.fieldset.getData(),t=e.is_creative_commons,t?(i=["cc","by"],n=e.adaptations||"",r=e.commercial||"",r.length&&i.push(r),n.length&&i.push(n),a.fieldset.setVals({copyright_string:i.join("-"),adaptations:n,commercial:r},null,{silent:!0}),l.updateCCIcons(i),l.updateCCLicenseLink()):a.fieldset.setVals({copyright_string:"",adaptations:"",commercial:""},null,{silent:!0})},100,!0),updateCCIcons:function(e){var t,n;t=f.ccIcons.not(".cc-cc"),n="cc-",t.addClass(u.HIDE),e.forEach(function(e){t.filter("."+n+e).removeClass(u.HIDE)})},updateCCLicenseLink:function(){var e,t,n,r;e=a.fieldset.getVal("copyright_string"),e=e.replace("cc-",""),t=e.split("-"),n=[],t.forEach(function(e){n.push(a.ccLicenseComponents[e])}),n=n.join("-"),n=n+" "+a.ccLicenseComponents.suffix,r=a.ccLicenseUrlTemplate.replace("{{copyrightString}}",e),f.ccLicenseLink.attr("href",r),f.ccLicenseLink.html(n)}},c={licenseChange:function(t){var n,r;n=e(t.target),r=n.attr("name"),r!=="copyright_string"&&l.updateCCLicense()}},h={},t({self:s,o:o,m:u,internal:a,elements:f,fn:l,handlers:c,api:h}).create()};return r.markup={},r}),define("utils/appendValToObj",["jquery"],function(e){"use strict";var t,n;return t=function(r,i,s){var o,u,a,f,l,c;i=i||"",o=i.match(/\[(.*?)\]/g)||!1,a=i.replace(/\[(.*?)\]/g,""),u=a.split("."),a=u.shift(),r=r||{},f=r,l=r,c=a,a&&a.length&&(r[a]=r[a]||{},l=r,c=a,f=r[a]),u.length&&e.each(u,function(e,t){f[t]=f[t]||{},l=f,c=t,f=f[t]});if(o.length){e.isArray(l[c])||(l[c]=[]);if(!s)return;s[c]&&e.isArray(s[c])?e.each(s[c],function(e,t){l[c].push(t)}):e.each(o,function(n,r){var i=r.match(/\[(.*?)\]/)||!1,o;i&&i[1].length?(o={},t(o,i[1],s)):o=s,e.isEmptyObject(o)||l[c].push(o)})}else e.isPlainObject(s)?c&&c.length?s[c]?n(l,s):n(l[c],s):n(l,s):l[c]=s},n=function(t,r){e.each(r,function(r,i){e.isPlainObject(i)?t[r]?n(t[r],i):t[r]=i:e.isArray(i)?t[r]?e.each(i,function(e,n){t[r].push(n)}):t[r]=i:t[r]=i})},t}),define("forms/Fieldset",["jquery","factories/moduleFactory","forms/fields/CustomInput","forms/fields/CustomTextarea","forms/fields/CustomRadio","forms/fields/CustomCheckbox","forms/fields/CustomSelect","forms/fields/LinkedCustomSelect","forms/fields/RichContentEditor","forms/fields/JsonField","forms/fields/FileDrop","forms/fields/DatePicker","forms/fields/Time","forms/fields/HtmlField","forms/widgets/FocalPoint","forms/widgets/Autocomplete","forms/widgets/Datetime","forms/widgets/PublicationLink","forms/widgets/ShowWhenValid","forms/widgets/DropMenu","forms/widgets/LicensePicker","utils/appendValToObj"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E){"use strict";var S=function(x){var T,N,C,k,L,A,O,M;T=this,C=S.markup,N=e.extend({$e:null,selector:"fieldset"},x),k={name:"Fieldset",$e:N.$e||e(N.selector),explicitInit:!0,fieldsets:[],fields:[],fieldConstructors:{".custom-input":n,".custom-radio":i,".custom-checkbox":s,".custom-select":o,".custom-textarea":r,".linked-custom-select":u,".editable-content":a,".json-field":f,".html-field":p,".file-drop":l,".date-picker":c,".time":h},widgetConstructors:{".autocomplete":v,".datetime":m,".publication-link":g,".focal-point":d,".license-picker":w},componentWidgets:{showWhenValid:y,editDrop:{constructor:b,options:{selfToggle:!0}}},components:{fieldset:{selector:"fieldset, .fieldset",ignoreNested:!0},sortableFieldsets:{selector:".sortable-fieldsets"},showWhenValid:{selector:".show-when-valid",directChildrenOnly:!0},editDrop:{selector:".edit-drop",directChildrenOnly:!0},resetFieldset:{selector:".reset-fieldset"}},events:{"setupFieldsComplete @fieldset":"fieldsetSetupFieldsComplete","destroy @fieldset":"fieldsetDestroy","destroy @field":"fieldDestroy","new:fieldset @fieldset":"fieldsetNew",sort:"fieldsetsSort",orderfieldsets:"internalOrderFieldsets","click @resetFieldset":"resetFieldsetClick"}},L={},A={init:function(){A.generateFieldsetId(),A.initChildFieldsets(),A.initWidgets(),L.fieldset||A.setupCustomFields(),k.$e.one("initCustomFieldsComplete",A.initComponentWidgets)},generateFieldsetId:function(){k.$e.data("fieldsetId",Date.now())},initChildFieldsets:function(){if(!L.fieldset)return;L.fieldset.each(function(e,t){A.setupFieldset(t)}),e.each(k.fieldsets,function(e,t){t.init()})},setupFieldset:function(t,n){var r;n=n||!1,r=new S({$e:e(t),form:N.form,parentFieldset:T}),k.fieldsets.push(r),n&&r.init()},orderFieldsets:function(){var t=[],n;k.$e.data("orderedFieldsets")?n=k.$e.data("orderedFieldsets")():(A.getComponents(),n=L.fieldset),n.each(function(n,r){e.each(k.fieldsets,function(e,i){i.getEl()[0]===r&&(t[n]=i)})}),k.fieldsets=t},initWidgets:function(){e.each(k.widgetConstructors,function(e,t){k.$e.is(e)&&new t({$e:k.$e,fieldset:T,form:N.form})})},initComponentWidgets:function(){e.each(k.componentWidgets,function(t,n){L[t]&&L[t].each(function(t,r){typeof n=="object"?new n.constructor(e.extend({$e:e(r),fieldset:T},n.options)):new n({$e:e(r),fieldset:T})})})},setupCustomFields:function(t){var n;t=t||{},n=!0,e.each(k.fieldsets,function(e,t){return n=t.isSetup(),n});if(!n||L.fieldset&&k.fieldsets.length!==L.fieldset.length)return;e.each(k.fieldConstructors,function(t,n){k.$e.find(t).each(function(t,r){var i=e(r),s;i.hasClass(C.SETUP)||(s=new n({$e:i,form:N.form,fieldset:T}),k.fields.push(s))})}),k.$e.data("setupComplete",!0),t.silent||k.$e.trigger("setupFieldsComplete",T)},isSetup:function(){return k.$e.data("setupComplete")||!1},isReady:function(){return k.$e.data("initCustomFieldsComplete")||!1},initCustomFields:function(){e.each(k.fields,function(e,t){t.isInited()||t.init()}),e.each(k.fieldsets,function(e,t){t.initCustomFields()});if(k.$e.data("initCustomFieldsComplete"))return;k.$e.data("initCustomFieldsComplete",!0),k.$e.trigger("initCustomFieldsComplete",T)},getFieldsetId:function(){return k.$e.data("fieldsetId")},getName:function(){return k.$e.attr("name")||k.$e.data("name")||""},getClosestParentName:function(){var e=A.getName();return e.length?e:N.parentFieldset?N.parentFieldset.getClosestParentName():""},getField:function(t,n){var r,i,s,o,u,a;if(!t.length)return;return r=!1,s=!n&&typeof n!="string",n=n||"",u=A.getName(),a=A.getClosestParentName(),o=new RegExp((n||"").replace(/\[.*?\]/,"")+"(\\[.*?\\])?"),i=new RegExp("^"+t.replace(/\[.*?\]/,"")+"(\\[.*?\\])?"+"$"),u.length&&(a=u),e.each(k.fields,function(e,t){var u=t.getName();if(!u)return;if(u.length&&i.test(u)&&(s||!n.length&&!a.length||n.length&&o.test(a)))return r=t,!1}),r||e.each(k.fieldsets,function(e,i){r=i.getField(t,s?null:n,a);if(r)return!1}),r},getFields:function(t){var n=[];return e.each(k.fields,function(e,r){r.getName()===t&&n.push(r)}),e.each(k.fieldsets,function(r,i){var s=i.getFields(t);e.each(s,function(e,t){n.push(t)})}),n},getData:function(t){var n={},r={},i=null,s=A.getName(),o=k.$e.data("nullIfBlank"),u=k.$e.data("emptyName"),a=u?u.match(/\[(.*?)\]/g)||!1:!1,f=!0;return t=t||{},e.each(k.fieldsets,function(e,n){var i=n.getName(),s;if(n.ignore()&&!t.all)return;s=n.getData(),E(r,i,s)}),e.each(k.fields,function(e,n){var r=n.getName(),s=n.getVal();if(n.ignore()&&!t.all)return;n.nullIfBlank()&&n.isBlank()&&(s=null),/^(true|false)$/i.test(s)&&(s=/^true$/i.test(s)),i=i||{},n.isBlank()||(f=!1),E(i,r,s)}),o&&f&&(i={}),i&&!e.isEmptyObject(i)&&e.extend(!0,r,i),e.isEmptyObject(r)||E(n,s,r),e.isEmptyObject(n)&&(a?n[u.replace(/\[(.*?)\]/g,"")]=[]:n=o?null:""),n},beforeDestroy:function(){var t=k.fieldsets.slice(0),n=k.fields.slice(0);e.each(t,function(e,t){t.destroy()}),e.each(n,function(e,t){t.destroy()})},removeDestroyedFieldset:function(t){var n=-1;e.each(k.fieldsets,function(e,r){if(r.getEl()[0]===t[0])return n=e,!1}),n>-1&&(k.fieldsets.splice(n,1),A.getComponents())},removeDestroyedField:function(t){var n=-1;e.each(k.fields,function(e,r){if(r.getEl()[0]===t)return n=e,!1}),n>-1&&(k.fields.splice(n,1),A.getComponents())},validate:function(){e.each(k.fieldsets,function(e,t){t.validate()}),e.each(k.fields,function(e,t){t.validate()})},reset:function(t){e.each(k.fieldsets,function(e,n){n.reset(t)}),e.each(k.fields,function(e,n){n.reset(t)})},setVals:function(t,n,r){e.each(t,function(t,i){var s=A.getField(t,n);s?s.setVal(i,r):e.isPlainObject(i)&&A.setVals(i,t,r)})},getVal:function(e){var t=A.getField(e);return t?t.getVal():null},getVals:function(t){var n={};return e.each(t,function(e,t){n[t]=A.getVal(t)}),n},ignore:function(){return!!k.$e.data("ignore")},focusFirst:function(){k.fields[0].focus()}},O={fieldsetSetupFieldsComplete:function(e){e.intercepted||(e.intercepted=!0,A.setupCustomFields())},fieldsetDestroy:function(e,t){var n;if(e.intercepted||!t)return;e.intercepted=!0,n=t.self.getEl(),A.removeDestroyedFieldset(n),setTimeout(function(){A.orderFieldsets()},50)},fieldDestroy:function(e){if(e.intercepted)return;e.intercepted=!0,A.removeDestroyedField(this)},fieldsetNew:function(t){if(t.intercepted)return;t.intercepted=!0,e(this).data("fieldsetInstance")||(A.getComponents(),A.setupFieldset(this,!0),A.orderFieldsets())},fieldsetsSort:function(){A.orderFieldsets()},internalOrderFieldsets:function(){A.orderFieldsets()},resetFieldsetClick:function(){A.reset()}},M={setupCustomFields:A.setupCustomFields,initCustomFields:A.initCustomFields,getFieldsetId:A.getFieldsetId,getName:A.getName,getData:A.getData,getField:A.getField,getFields:A.getFields,validate:A.validate,reset:A.reset,isSetup:A.isSetup,isReady:A.isReady,setVals:A.setVals,getVal:A.getVal,getVals:A.getVals,getClosestParentName:A.getClosestParentName,ignore:A.ignore,focusFirst:A.focusFirst},t({self:T,o:N,m:C,internal:k,elements:L,fn:A,handlers:O,api:M}).create()};return S.markup={},S}),define("forms/widgets/FieldsetCloner",["jquery","factories/moduleFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c,h;i=this,o=n.markup,s=e.extend({selector:"form"},r),u={name:"FieldsetCloner",$e:s.$e||e(s.selector),templates:{removeClonedFieldset:{selector:"!.remove-cloned-fieldset-template"}},components:{fieldsetCloner:{selector:".fieldset-cloner"},removeFieldsetControl:{selector:".remove-fieldset-control"}},events:{"click @fieldsetCloner":"fieldsetClonerClick","focus @fieldsetCloner":"fieldsetClonerFocus","click @removeFieldsetControl":"removeFieldsetControlClick",sort:"internalElSort"}},a={},f={},l={init:function(){l.setInitialStates()},setInitialStates:function(){a.fieldsetCloner.each(function(t,n){var r,i;r=e(n),i=r.data("target"),i==="self"&&(i='[name="'+r.attr("name")+'"]'),l.processClones(r,i)})},processClones:function(e,t){var n,r;n=u.$e.find("fieldset"+t),r=e.data("maxClones"),r=r?parseInt(r):null,r&&n.length>r?e.hide():e.show(),n.length>1?n.each(function(r,i){l.appendRemoveControl(i,t,e,r,n.length)}):n.each(function(t,r){l.removeRemoveControl(r,e,t,n.length)}),l.getComponents()},appendRemoveControl:function(t,n,r,i,s){var u,a,c,h,p;a=e(t),c=r.data("customControl"),p=r.data("clearLast"),c&&(h=a.find(c));if(a.hasClass(o.CLONED)||a.hasClass(o.CLONER))return;u=c?a.find("."+o.REMOVE_FIELDSET_CONTROL):f.removeClonedFieldset.clone(),u.data("target",n),u.data("$fieldsetCloner",r),c?(h.show(),p&&l.setCustomControlState(a,i,s)):a.append(u),a.addClass(o.CLONED)},removeRemoveControl:function(t,n,r,i){var s,u,a,f;s=e(t),u=n.data("customControl"),f=n.data("clearLast"),u&&(a=s.find(u)),u?f?l.setCustomControlState(s,r,i):a.hide():s.find("."+o.REMOVE_CLONED_FIELDSET).remove(),s.removeClass(o.CLONED)},setCustomControlState:function(e,t,n){var r,i;i=e.find("."+o.RESET_FIELDSET),r=e.find("."+o.REMOVE_FIELDSET_CONTROL),t===0&&n===1?(r.hide(),i.show()):(r.show(),i.hide())},cloneFieldset:function(t){var n,r,i,s,a;n=e(t),r=n.data("target"),r==="self"?(s=n.clone(),s.removeClass(o.CLONER),s.insertBefore(n),r='[name="'+n.attr("name")+'"]'):(i=u.$e.find("fieldset"+r).last(),s=i.clone(),s.removeClass(o.CLONED),s.insertAfter(i)),s.find("."+o.SETUP).removeClass(o.SETUP),s.find("."+o.INITED).removeClass(o.INITED),s.trigger("new:fieldset"),a=s.data("fieldsetInstance"),a.reset(),a.focusFirst(),l.processClones(n,r)},removeClonedFieldset:function(t){var n,r,i,s,u;n=e(t),r=n.closest("fieldset."+o.CLONED).first(),i=n.data("$fieldsetCloner"),s=r.data("fieldsetInstance"),u=n.data("target"),s.removeEl(),l.processClones(i,u)}},c={fieldsetClonerClick:function(){l.cloneFieldset(this)},fieldsetClonerFocus:function(){l.cloneFieldset(this)},removeFieldsetControlClick:function(){l.removeClonedFieldset(this)},internalElSort:function(){l.getComponents(),l.setInitialStates()}},h={},t({self:i,o:s,m:o,internal:u,elements:a,templates:f,fn:l,handlers:c,api:h}).create()};return n.markup={CLONER:"fieldset-cloner",CLONED:"state-cloned",REMOVE_CLONED_FIELDSET:"remove-cloned-fieldset",REMOVE_FIELDSET_CONTROL:"remove-fieldset-control",RESET_FIELDSET:"reset-fieldset"},n}),!function(e){"use strict";"function"==typeof define&&define.amd?define("Sortable",e):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=e():window.Sortable=e()}(function(){"use strict";function e(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=b({},t),e[X]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var r in n)!(r in t)&&(t[r]=n[r]);ot(t);for(var i in this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Y,s(e,"mousedown",this._onTapStart),s(e,"touchstart",this._onTapStart),s(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(s(e,"dragover",this),s(e,"dragenter",this)),it.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function t(e,t){"clone"!==e.lastPullMode&&(t=!0),N&&N.state!==t&&(a(N,"display",t?"none":""),t||N.state&&(e.options.group.revertClone?(C.insertBefore(N,k),e._animate(S,N)):C.insertBefore(N,S)),N.state=t)}function n(e,t,n){if(e){n=n||$;do if(">*"===t&&e.parentNode===n||g(e,t))return e;while(e=r(e))}return null}function r(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function i(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}function s(e,t,n){e.addEventListener(t,n,G)}function o(e,t,n){e.removeEventListener(t,n,G)}function u(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(z," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(z," ")}}function a(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return $.defaultView&&$.defaultView.getComputedStyle?n=$.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function f(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function l(e,t,n,r,i,s,o){e=e||t[X];var u=$.createEvent("Event"),a=e.options,f="on"+n.charAt(0).toUpperCase()+n.substr(1);u.initEvent(n,!0,!0),u.to=t,u.from=i||t,u.item=r||t,u.clone=N,u.oldIndex=s,u.newIndex=o,t.dispatchEvent(u),a[f]&&a[f].call(e,u)}function c(e,t,n,r,i,s,o,u){var a,f,l=e[X],c=l.options.onMove;return a=$.createEvent("Event"),a.initEvent("move",!0,!0),a.to=t,a.from=e,a.dragged=n,a.draggedRect=r,a.related=i||t,a.relatedRect=s||t.getBoundingClientRect(),a.willInsertAfter=u,e.dispatchEvent(a),c&&(f=c.call(l,a,o)),f}function h(e){e.draggable=!1}function p(){et=!1}function d(e,t){var n=e.lastElementChild,r=n.getBoundingClientRect();return t.clientY-(r.top+r.height)>5||t.clientX-(r.left+r.width)>5}function v(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function m(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!g(e,t)||n++;return n}function g(e,t){if(e){t=t.split(".");var n=t.shift().toUpperCase(),r=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(r)||[]).length!=t.length)}return!1}function y(e,t){var n,r;return function(){void 0===n&&(n=arguments,r=this,setTimeout(function(){1===n.length?e.call(r,n[0]):e.apply(r,n),n=void 0},t))}}function b(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function w(e){return K?K(e).clone(!0)[0]:Q&&Q.dom?Q.dom(e).cloneNode(!0):e.cloneNode(!0)}function E(e){for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&rt.push(r)}}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U={},z=/\s+/g,W=/left|right|inline/,X="Sortable"+(new Date).getTime(),V=window,$=V.document,J=V.parseInt,K=V.jQuery||V.Zepto,Q=V.Polymer,G=!1,Y="draggable"in $.createElement("div"),Z=function(e){return!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&(e=$.createElement("x"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents)}(),et=!1,tt=Math.abs,nt=Math.min,rt=[],it=[],st=y(function(e,t,n){if(n&&t.scroll){var r,i,s,o,u,a,f=n[X],l=t.scrollSensitivity,c=t.scrollSpeed,h=e.clientX,p=e.clientY,d=window.innerWidth,v=window.innerHeight;if(O!==n&&(A=t.scroll,O=n,M=t.scrollFn,A===!0)){A=n;do if(A.offsetWidth<A.scrollWidth||A.offsetHeight<A.scrollHeight)break;while(A=A.parentNode)}A&&(r=A,i=A.getBoundingClientRect(),s=(tt(i.right-h)<=l)-(tt(i.left-h)<=l),o=(tt(i.bottom-p)<=l)-(tt(i.top-p)<=l)),s||o||(s=(d-h<=l)-(h<=l),o=(v-p<=l)-(p<=l),(s||o)&&(r=V)),U.vx===s&&U.vy===o&&U.el===r||(U.el=r,U.vx=s,U.vy=o,clearInterval(U.pid),r&&(U.pid=setInterval(function(){return a=o?o*c:0,u=s?s*c:0,"function"==typeof M?M.call(f,u,a,e):void (r===V?V.scrollTo(V.pageXOffset+u,V.pageYOffset+a):(r.scrollTop+=a,r.scrollLeft+=u))},24)))}},30),ot=function(e){function t(e,t){return void 0!==e&&e!==!0||(e=n.name),"function"==typeof e?e:function(n,r){var i=r.options.group.name;return t?e:e&&(e.join?e.indexOf(i)>-1:i==e)}}var n={},r=e.group;r&&"object"==typeof r||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n};e.prototype={constructor:e,_onTapStart:function(e){var t,r=this,i=this.el,s=this.options,o=s.preventOnFilter,u=e.type,a=e.touches&&e.touches[0],f=(a||e).target,c=e.target.shadowRoot&&e.path[0]||f,h=s.filter;if(E(i),!S&&!("mousedown"===u&&0!==e.button||s.disabled)&&(f=n(f,s.draggable,i),f&&L!==f)){if(t=m(f,s.draggable),"function"==typeof h){if(h.call(this,e,f,this))return l(r,c,"filter",f,i,t),void (o&&e.preventDefault())}else if(h&&(h=h.split(",").some(function(e){if(e=n(c,e.trim(),i))return l(r,e,"filter",f,i,t),!0})))return void (o&&e.preventDefault());s.handle&&!n(c,s.handle,i)||this._prepareDragStart(e,a,f,t)}},_prepareDragStart:function(e,t,n,r){var i,o=this,a=o.el,c=o.options,p=a.ownerDocument;n&&!S&&n.parentNode===a&&(I=e,C=a,S=n,x=S.parentNode,k=S.nextSibling,L=n,j=c.group,H=r,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,S.style["will-change"]="transform",i=function(){o._disableDelayedDrag(),S.draggable=o.nativeDraggable,u(S,c.chosenClass,!0),o._triggerDragStart(e,t),l(o,C,"choose",S,C,H)},c.ignore.split(",").forEach(function(e){f(S,e.trim(),h)}),s(p,"mouseup",o._onDrop),s(p,"touchend",o._onDrop),s(p,"touchcancel",o._onDrop),s(p,"pointercancel",o._onDrop),s(p,"selectstart",o),c.delay?(s(p,"mouseup",o._disableDelayedDrag),s(p,"touchend",o._disableDelayedDrag),s(p,"touchcancel",o._disableDelayedDrag),s(p,"mousemove",o._disableDelayedDrag),s(p,"touchmove",o._disableDelayedDrag),s(p,"pointermove",o._disableDelayedDrag),o._dragStartTimer=setTimeout(i,c.delay)):i())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),o(e,"mouseup",this._disableDelayedDrag),o(e,"touchend",this._disableDelayedDrag),o(e,"touchcancel",this._disableDelayedDrag),o(e,"mousemove",this._disableDelayedDrag),o(e,"touchmove",this._disableDelayedDrag),o(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,t){t=t||("touch"==e.pointerType?e:null),t?(I={target:S,clientX:t.clientX,clientY:t.clientY},this._onDragStart(I,"touch")):this.nativeDraggable?(s(S,"dragend",this),s(C,"dragstart",this._onDragStart)):this._onDragStart(I,!0);try{$.selection?setTimeout(function(){$.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(C&&S){var t=this.options;u(S,t.ghostClass,!0),u(S,t.dragClass,!1),e.active=this,l(this,C,"start",S,C,H)}else this._nulling()},_emulateDragOver:function(){if(q){if(this._lastX===q.clientX&&this._lastY===q.clientY)return;this._lastX=q.clientX,this._lastY=q.clientY,Z||a(T,"display","none");var e=$.elementFromPoint(q.clientX,q.clientY),t=e,n=it.length;if(t)do{if(t[X]){for(;n--;)it[n]({clientX:q.clientX,clientY:q.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);Z||a(T,"display","")}},_onTouchMove:function(t){if(I){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=t.touches?t.touches[0]:t,o=s.clientX-I.clientX+i.x,u=s.clientY-I.clientY+i.y,f=t.touches?"translate3d("+o+"px,"+u+"px,0)":"translate("+o+"px,"+u+"px)";if(!e.active){if(r&&nt(tt(s.clientX-this._lastX),tt(s.clientY-this._lastY))<r)return;this._dragStarted()}this._appendGhost(),R=!0,q=s,a(T,"webkitTransform",f),a(T,"mozTransform",f),a(T,"msTransform",f),a(T,"transform",f),t.preventDefault()}},_appendGhost:function(){if(!T){var e,t=S.getBoundingClientRect(),n=a(S),r=this.options;T=S.cloneNode(!0),u(T,r.ghostClass,!1),u(T,r.fallbackClass,!0),u(T,r.dragClass,!0),a(T,"top",t.top-J(n.marginTop,10)),a(T,"left",t.left-J(n.marginLeft,10)),a(T,"width",t.width),a(T,"height",t.height),a(T,"opacity","0.8"),a(T,"position","fixed"),a(T,"zIndex","100000"),a(T,"pointerEvents","none"),r.fallbackOnBody&&$.body.appendChild(T)||C.appendChild(T),e=T.getBoundingClientRect(),a(T,"width",2*t.width-e.width),a(T,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=e.dataTransfer,r=this.options;this._offUpEvents(),j.checkPull(this,this,S,e)&&(N=w(S),N.draggable=!1,N.style["will-change"]="",a(N,"display","none"),u(N,this.options.chosenClass,!1),C.insertBefore(N,S),l(this,C,"clone",S)),u(S,r.dragClass,!0),t?("touch"===t?(s($,"touchmove",this._onTouchMove),s($,"touchend",this._onDrop),s($,"touchcancel",this._onDrop),s($,"pointermove",this._onTouchMove),s($,"pointerup",this._onDrop)):(s($,"mousemove",this._onTouchMove),s($,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",r.setData&&r.setData.call(this,n,S)),s($,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(r){var i,s,o,u,f=this.el,l=this.options,h=l.group,v=e.active,m=j===h,g=!1,y=l.sort;if(void 0!==r.preventDefault&&(r.preventDefault(),!l.dragoverBubble&&r.stopPropagation()),!S.animated&&(R=!0,v&&!l.disabled&&(m?y||(u=!C.contains(S)):F===this||(v.lastPullMode=j.checkPull(this,v,S,r))&&h.checkPut(this,v,S,r))&&(void 0===r.rootEl||r.rootEl===this.el))){if(st(r,l,this.el),et)return;if(i=n(r.target,l.draggable,f),s=S.getBoundingClientRect(),F!==this&&(F=this,g=!0),u)return t(v,!0),x=C,void (N||k?C.insertBefore(S,N||k):y||C.appendChild(S));if(0===f.children.length||f.children[0]===T||f===r.target&&d(f,r)){if(0!==f.children.length&&f.children[0]!==T&&f===r.target&&(i=f.lastElementChild),i){if(i.animated)return;o=i.getBoundingClientRect()}t(v,m),c(C,f,S,s,i,o,r)!==!1&&(S.contains(f)||(f.appendChild(S),x=f),this._animate(s,S),i&&this._animate(o,i))}else if(i&&!i.animated&&i!==S&&void 0!==i.parentNode[X]){_!==i&&(_=i,D=a(i),P=a(i.parentNode)),o=i.getBoundingClientRect();var b=o.right-o.left,w=o.bottom-o.top,E=W.test(D.cssFloat+D.display)||"flex"==P.display&&0===P["flex-direction"].indexOf("row"),L=i.offsetWidth>S.offsetWidth,A=i.offsetHeight>S.offsetHeight,O=(E?(r.clientX-o.left)/b:(r.clientY-o.top)/w)>.5,M=i.nextElementSibling,H=!1;if(E){var B=S.offsetTop,I=i.offsetTop;H=B===I?i.previousElementSibling===S&&!L||O&&L:i.previousElementSibling===S||S.previousElementSibling===i?(r.clientY-o.top)/w>.5:I>B}else g||(H=M!==S&&!A||O&&A);var q=c(C,f,S,s,i,o,r,H);q!==!1&&(1!==q&&q!==-1||(H=1===q),et=!0,setTimeout(p,30),t(v,m),S.contains(f)||(H&&!M?f.appendChild(S):i.parentNode.insertBefore(S,H?M:i)),x=S.parentNode,this._animate(s,S),this._animate(o,i))}}},_animate:function(e,t){var n=this.options.animation;if(n){var r=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),a(t,"transition","none"),a(t,"transform","translate3d("+(e.left-r.left)+"px,"+(e.top-r.top)+"px,0)"),t.offsetWidth,a(t,"transition","all "+n+"ms"),a(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){a(t,"transition",""),a(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;o($,"touchmove",this._onTouchMove),o($,"pointermove",this._onTouchMove),o(e,"mouseup",this._onDrop),o(e,"touchend",this._onDrop),o(e,"pointerup",this._onDrop),o(e,"touchcancel",this._onDrop),o(e,"pointercancel",this._onDrop),o(e,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;clearInterval(this._loopId),clearInterval(U.pid),clearTimeout(this._dragStartTimer),o($,"mousemove",this._onTouchMove),this.nativeDraggable&&(o($,"drop",this),o(n,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(R&&(t.preventDefault(),!r.dropBubble&&t.stopPropagation()),T&&T.parentNode&&T.parentNode.removeChild(T),C!==x&&"clone"===e.active.lastPullMode||N&&N.parentNode&&N.parentNode.removeChild(N),S&&(this.nativeDraggable&&o(S,"dragend",this),h(S),S.style["will-change"]="",u(S,this.options.ghostClass,!1),u(S,this.options.chosenClass,!1),l(this,C,"unchoose",S,C,H),C!==x?(B=m(S,r.draggable),B>=0&&(l(null,x,"add",S,C,H,B),l(this,C,"remove",S,C,H,B),l(null,x,"sort",S,C,H,B),l(this,C,"sort",S,C,H,B))):S.nextSibling!==k&&(B=m(S,r.draggable),B>=0&&(l(this,C,"update",S,C,H,B),l(this,C,"sort",S,C,H,B))),e.active&&(null!=B&&B!==-1||(B=H),l(this,C,"end",S,C,H,B),this.save()))),this._nulling()},_nulling:function(){C=S=x=T=k=N=L=A=O=I=q=R=B=_=D=F=j=e.active=null,rt.forEach(function(e){e.checked=!0}),rt.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":S&&(this._onDragOver(e),i(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)e=r[i],n(e,o.draggable,this.el)&&t.push(e.getAttribute(o.dataIdAttr)||v(e));return t},sort:function(e){var t={},r=this.el;this.toArray().forEach(function(e,i){var s=r.children[i];n(s,this.options.draggable,r)&&(t[e]=s)},this),e.forEach(function(e){t[e]&&(r.removeChild(t[e]),r.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return n(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;return void 0===t?n[e]:(n[e]=t,void ("group"===e&&ot(n)))},destroy:function(){var e=this.el;e[X]=null,o(e,"mousedown",this._onTapStart),o(e,"touchstart",this._onTapStart),o(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(o(e,"dragover",this),o(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),it.splice(it.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},s($,"touchmove",function(t){e.active&&t.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){G={capture:!1,passive:!1}}}))}catch(e){}return e.utils={on:s,off:o,css:a,find:f,is:function(e,t){return!!n(e,t,e)},extend:b,throttle:y,closest:n,toggleClass:u,clone:w,index:m},e.create=function(t,n){return new e(t,n)},e.version="1.6.0",e}),define("forms/widgets/SortableFieldsets",["jquery","Sortable","factories/moduleFactory"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h,p;s=this,u=r.markup,o=e.extend({selector:".sortable-fieldsets"},i),a={name:"SortableFieldsets",$e:o.$e||e(o.selector),sortableOptions:{draggable:"."+u.DRAGGABLE,handle:"."+u.HANDLE,onSort:function(){c.handleSort()}},templates:{dragHandle:{selector:"!.drag-handle-template"}},components:{fieldset:{selector:"fieldset:not(.variant-locked)",ignoreNested:!0}},events:{"new:fieldset":"fieldsetNew","modremove @fieldset":"fieldsetRemove"}},f={},l={},c={init:function(){c.setupFieldsetsForSorting(),c.initSortable()},setupFieldsetsForSorting:function(){if(!f.fieldset)return;f.fieldset.length>1?(f.fieldset.addClass(u.DRAGGABLE),c.noHandle()||f.fieldset.append(l.dragHandle.clone())):(f.fieldset.removeClass(u.DRAGGABLE),f.fieldset.find("."+u.HANDLE).remove())},initSortable:function(){t.create(a.$e[0],c.sortableOptions())},sortableOptions:function(){return c.noHandle()&&delete a.sortableOptions.handle,a.sortableOptions},handleNewFieldset:function(){c.getComponents(),c.setupFieldsetsForSorting()},handleFieldsetRemove:function(){c.getComponents(),c.setupFieldsetsForSorting()},handleSort:function(){a.$e.trigger("sort")},noHandle:function(){return a.$e.hasClass(u.NO_HANDLE)}},h={fieldsetNew:function(){c.handleNewFieldset()},fieldsetRemove:function(e,t){t.tagName==="FIELDSET"&&setTimeout(function(){c.handleFieldsetRemove()},10)}},p={},n({self:s,o:o,m:u,internal:a,elements:f,templates:l,fn:c,handlers:h,api:p}).create()};return r.markup={DRAGGABLE:"state-draggable",HANDLE:"drag-handle",NO_HANDLE:"variant-no-drag-handle"},r}),define("forms/Form",["jquery","factories/moduleFactory","factories/validatorFactory","forms/Fieldset","forms/widgets/FieldsetCloner","forms/widgets/SortableFieldsets","services/Xhr","utils/appendValToObj"],function(e,t,n,r,i,s,o,u){"use strict";var a=function(f){var l,c,h,p,d,v,m,g;l=this,h=a.markup,c=e.extend({$e:null,selector:"form",initialData:null,prepData:null,onSubmit:function(){},onComplete:function(){},onSuccess:function(){},onError:function(e,t){var n;t==="error"&&e.responseJSON&&(n=e.responseJSON,v.showErrors(n))},onDelete:function(){}},f),p={name:"Form",$e:c.$e||e(c.selector),xhr:new o,fieldsets:[],initCustomFieldsTimeout:null,widgetConstructors:{fieldsetCloner:{constructor:i,$e:c.$e},sortableFieldsets:s},components:{fieldset:{selector:"fieldset, .fieldset",ignoreNested:!0},allFieldsets:{selector:"fieldset, .fieldset"},formSubmit:{selector:'[type="submit"], .form-submit'},fieldsetCloner:{selector:".fieldset-cloner"},sortableFieldsets:{selector:".sortable-fieldsets"},deleteControl:{selector:".delete-control"}},events:{change:"internalElChange",keyup:"internalElKeyup",submit:"internalElSubmit",complete:"internalElComplete","new:fieldset @fieldset":"fieldsetNew","initComplete @fieldset":"fieldsetInitComplete","destroy @fieldset":"fieldsetDestroy","sort @sortableFieldsets":"sortableFieldsetsSort","click @deleteControl":"deleteControlClick"}},d={},v={init:function(){v.initValidator(),v.initFieldsets(),v.setSubmitStatus(),v.initWidgets()},initFieldsets:function(){if(!d.fieldset)return;d.fieldset.each(function(e,t){v.setupFieldset(t)}),e.each(p.fieldsets,function(e,t){t.init()})},setupFieldset:function(t,n){var i;n=n||!1,i=new r({$e:e(t),form:l}),p.fieldsets.push(i),n&&i.init()},orderFieldsets:function(){var t=[];d.fieldset.each(function(n,r){e.each(p.fieldsets,function(e,n){n&&n.getEl()[0]===r&&t.push(n)})}),p.fieldsets=t},initCustomFields:function(t){var n=function(){var n=d.allFieldsets.length,r=d.allFieldsets.filter("."+h.INITED).length;if(n!==r)return;e.each(p.fieldsets,function(e,n){var r=n.getEl();(!t||r[0]===t)&&n.initCustomFields()}),v.checkIfReady()};p.initCustomFieldsTimeout&&clearTimeout(p.initCustomFieldsTimeout),p.initCustomFieldsTimeout=setTimeout(n,100)},checkIfReady:function(){var t=p.$e.data("isReady");if(t)return;e.each(p.fieldsets,function(e,n){return t=n.isReady(),t}),t&&(v.setInitialData(),p.$e.data("isReady",!0),p.$e.trigger("formReady"),typeof c.onReady=="function"&&c.onReady())},isReady:function(){return p.$e.data("isReady")||!1},isProcessing:function(){return p.$e.data("processing")||!1},isDisabled:function(){return p.$e[0].hasAttribute("disabled")},setInitialData:function(){c.initialData&&v.setVals(c.initialData,null,{silent:!0})},initValidator:function(){n({$e:p.$e,self:l,o:c,internal:p,elements:d,fn:v,m:h}).create()},initWidgets:function(){e.each(p.widgetConstructors,function(t,n){d[t]&&(typeof n=="object"?new n.constructor({$e:n.$e||p.$e.find(n.selector),form:l}):d[t].each(function(t,r){new n({$e:e(r),form:l})}))})},getName:function(){return p.$e.attr("name")},getData:function(){var t={},n=v.getName()||"";return v.isDisabled()||e.each(p.fieldsets,function(e,r){var i={},s=r.getName(),o;if(r.ignore()&&!f.all)return;o=r.getData(),u(i,s,o),u(t,n,i)}),e.isEmptyObject(t)&&n.length&&(t[n]={}),t},getField:function(t,n){var r=!1;return e.each(p.fieldsets,function(e,i){r||(r=i.getField(t,n));if(r)return!1}),r},getFields:function(t){var n=[];return e.each(p.fieldsets,function(r,i){e.each(i.getFields(t),function(e,t){n.push(t)})}),n},removeDestroyedFieldset:function(t){var n=-1,r=[];e.each(p.fieldsets,function(e,i){!i||i.getEl()[0]!==t?r.push(i):n=e}),n>-1&&(p.fieldsets=r,v.getComponents())},setSubmitStatus:function(){var e=l.isValid(),t=v.isProcessing();d.formSubmit&&(p.$e.toggleClass(h.DISABLED,!e),d.formSubmit.toggleClass(h.DISABLED,!e),d.formSubmit.toggleClass(h.PROCESSING,t),d.formSubmit.prop("disabled",!e))},setProcessing:function(){p.$e.addClass(h.PROCESSING),p.$e.data("processing",!0)},clearProcessing:function(){p.$e.removeClass(h.PROCESSING),p.$e.data("processing",!1)},handleAjaxSubmit:function(){var t,n,r,i;t=v.getData(),c.prepData&&(t=c.prepData(t)),n=new FormData,r=p.$e.attr("method").toLowerCase(),i=p.$e.attr("action"),e.each(t,function(t,r){r instanceof File?n.append(t,r,r.name):e.isArray(r)?r.length?e.each(r,function(e,r){n.append(t+"[]",JSON.stringify(r))}):n.append(t+"[]",""):n.append(t,r)}),p.xhr[r](n,{url:i,cache:!1,contentType:!1,processData:!1,complete:function(e,t){c.onComplete(e,t),v.clearProcessing(),v.setSubmitStatus()},success:function(e,t,n){c.onSuccess(e,t,n)},error:function(e,t,n){c.onError(e,t,n),v.clearProcessing(),v.setSubmitStatus()}})},setVal:function(e,t,n){var r=v.getField(e);n=n||{},r&&r.setVal(t,n)},setVals:function(t,n,r){r=r||(typeof n=="object"?n:{}),n=typeof n=="string"?n:"",e.each(t,function(t,i){var s=v.getField(t,n);s?s.setVal(i,r):e.isPlainObject(i)&&v.setVals(i,t,r)})},getVal:function(e){var t=v.getField(e);return t?t.getVal():null},getVals:function(t){var n={};return e.each(t,function(e,t){n[t]=v.getVal(t)}),n},reset:function(t){e.each(p.fieldsets,function(e,n){n.reset(t)})},showErrors:function(t,n){var r;e.each(t,function(t,i){e.isPlainObject(i)?v.showErrors(i,t):(r=v.getField(t,n),r&&r.showError(i))})},stopProcessing:function(){v.clearProcessing(),v.setSubmitStatus()},ignore:function(){return!!p.$e.data("ignore")},submit:function(t){t=t||{},e.extend(c,t),v.isProcessing()||p.$e.submit()}},m={internalElChange:function(){v.setSubmitStatus()},internalElKeyup:function(){v.setSubmitStatus()},internalElSubmit:function(e){v.setProcessing(),v.setSubmitStatus();if(p.$e.hasClass(h.DISABLED)||!p.$e.attr("action")||p.$e.data("ajax"))e.preventDefault(),p.$e.attr("action")||c.onSubmit(e,v.getData()),p.$e.data("ajax")&&v.handleAjaxSubmit()},internalElComplete:function(){v.clearProcessing(),v.setSubmitStatus()},fieldsetNew:function(t){if(t.intercepted)return;t.intercepted=!0,e(this).data("fieldsetInstance")||(v.getComponents(),v.setupFieldset(this,!0),v.initCustomFields(this),v.orderFieldsets())},fieldsetInitComplete:function(){v.initCustomFields()},fieldsetDestroy:function(e,t){var n;if(e.intercepted||!t)return;e.intercepted=!0,n=t.self.getEl(),v.removeDestroyedFieldset(n),setTimeout(function(){v.orderFieldsets()},50)},sortableFieldsetsSort:function(){v.getComponents(),v.orderFieldsets()},deleteControlClick:function(){c.onDelete()}},g={getData:v.getData,getField:v.getField,getFields:v.getFields,setVals:v.setVals,setVal:v.setVal,getVal:v.getVal,getVals:v.getVals,reset:v.reset,isReady:v.isReady,showErrors:v.showErrors,stopProcessing:v.stopProcessing,ignore:v.ignore,submit:v.submit,setProcessing:v.setProcessing,clearProcessing:v.clearProcessing},t({self:l,o:c,m:h,internal:p,elements:d,fn:v,handlers:m,api:g}).create()};return a.markup={},a}),define("managers/ModalsManager",["jquery","factories/moduleFactory","utils/transitionUtil","forms/Form","utils/keycodes","utils/globalElements"],function(e,t,n,r,i,s){"use strict";var o=function(u){var a,f,l,c,h,p,d,v,m;a=this,l=o.markup,f=e.extend({$e:null,selector:".modals-container"},u),c={name:"ModalsManager",$e:f.$e||e(f.selector),modals:[],templates:{modal:{selector:".modal-template"},confirmationModal:{selector:"!.confirmation-modal-template"},unexpectedErrorModal:{selector:"!.unexpected-error-modal-template"}},components:{modal:{selector:".modal"},closeModal:{selector:".close-modal"},modalPane:{selector:".modal-pane"},modalContent:{selector:".modal-content"},modalCurtain:{selector:".modal-curtain"},modalForms:{selector:".modal-form"},confirmBtn:{selector:".button.confirm"}},events:{"click @closeModal":"closeModalClick","click @modalCurtain":"modalCurtainClick","click @confirmBtn":"confirmBtnClick"}},h={},p={},d={init:function(){},launchForm:function(e){var t,n,i,s;return n=h.modalForms.filter('[data-form-type="'+e.type+'"]'),i=n.clone(),e.content=i,d.launchModal(e),s=d.getCurrentActiveModal(),e.formContent&&i.find("."+l.FORM_CONTENT).html(e.formContent),t=new r({$e:i,onSubmit:function(e,t){s.onSubmit(e,t)},onComplete:function(e,t){s.onComplete(e,t)},onSuccess:function(e,t,n){s.onSuccess(e,t,n),d.closeModal()},onError:function(e,t,n){s.onError(e,t,n)}}),s.form=t,s},launchModal:function(e){var t,n;e=e||{};if(!e.content)return;return n=e.content,d.createNewModal(e),t=d.getCurrentActiveModal(),n!==undefined&&d.replaceContent(n),s.body.addClass(l.DISABLED_SCROLL),c.$e.addClass(l.OPEN),requestAnimationFrame(function(){t.modal.addClass(l.SHOW),t.modalCurtain.addClass(l.SHOW)}),s.doc.on("keyup",v.documentKeyup),t},launchConfirmationModal:function(t,n){var r;return r=d.launchModal(e.extend({content:p.confirmationModal(t)},n)),r},launchUnexpectedErrorModal:function(t,n){var r;return n=n||{},r=d.launchModal(e.extend({content:p.unexpectedErrorModal(t)},n)),r},createNewModal:function(e){var t;e=e||{},c.$e.append(p.modal.clone()),d.getComponents(),t={modal:h.modal.last(),modalPane:h.modalPane.last(),modalContent:h.modalContent.last(),modalCurtain:h.modalCurtain.last(),onClose:e.onClose||function(){},onSubmit:e.onSubmit||function(){},onComplete:e.onComplete||function(){},onSuccess:e.onSuccess||function(){},onError:e.onError||function(){},onConfirm:e.onConfirm||function(){},beforeClose:e.beforeClose||function(){},afterClose:e.afterClose||function(){},closeModal:d.closeModal},c.modals.push(t),t.modal.css("z-index",c.modals.length),e.size&&t.modalPane.addClass("variant-"+e.size)},getCurrentActiveModal:function(e){var t;return e=e||!1,e?t=c.modals.pop():t=c.modals[c.modals.length-1],t},replaceContent:function(t){var n=e(t),r=d.getCurrentActiveModal();r.modalContent.empty().append(n)},closeModal:function(t){var r,i,o;r=d.getCurrentActiveModal(!0);if(!r)return;i=r.beforeClose()||!1;if(i)return;o=e(t),n.oneEnd(r.modalCurtain,function(){r.modal.find("."+l.INITED).each(function(t,n){e(n).trigger("modremove",n)}),r.modal.remove(),c.modals.length||(s.body.removeClass(l.DISABLED_SCROLL),c.$e.removeClass(l.OPEN)),d.getComponents(),r.afterClose()}),r.modal.removeClass(l.SHOW),r.modalCurtain.removeClass(l.SHOW),s.doc.off("keyup",v.documentKeyup),r.onClose({byBtn:o.hasClass(l.BUTTON)})},handleConfirm:function(){var e=d.getCurrentActiveModal();e.onConfirm({modal:e})}},v={closeModalClick:function(){d.closeModal(this)},modalCurtainClick:function(){d.closeModal()},documentKeyup:function(e){e.which===i.ESCAPE&&d.closeModal()},confirmBtnClick:function(){d.handleConfirm()}},m={launchForm:d.launchForm,launchModal:d.launchModal,launchConfirmationModal:d.launchConfirmationModal,launchUnexpectedErrorModal:d.launchUnexpectedErrorModal},t({self:a,o:f,internal:c,elements:h,templates:p,fn:d,handlers:v,m:l,api:m}).create()};return o.markup={DISABLED_SCROLL:"disable-scroll",FORM_CONTENT:"form-content",BUTTON:"button"},o}),define("managers/HeroSizeManager",["jquery","factories/moduleFactory","services/layout"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h;s=this,u=r.markup,o=e.extend({$e:null,selector:"body"},i),a={name:"HeroSizeManager",$e:o.$e||e(o.selector),components:{hero:{selector:"."+u.HERO},licenseTooltip:{selector:"."+u.LICENSE_TOOLTIP}},events:{}},f={},l={init:function(){l.update(),n.onResize(c.resize)},update:function(){if(!f.hero)return;f.hero.each(function(){var t=e(this),n=t.find("."+u.HERO_CONTENT),r,i;n.length&&(t.css("height",""),r=t.offset().top,i=n.offset().top,i<r&&t.height(t.height()+(r-i)))}),f.licenseTooltip&&f.licenseTooltip.toggleClass(u.REVERSE_X,window.innerWidth>420)}},c={resize:function(){l.update()}},h={},t({self:s,o:o,m:u,internal:a,elements:f,fn:l,handlers:c,api:h}).create()};return r.markup={HERO:"hero",HERO_CONTENT:"hero-content",LICENSE_TOOLTIP:"license-tooltip",REVERSE_X:"variant-reverse-x"},r}),define("utils/jsonUtil",["jquery"],function(e){"use strict";var t={paramsToJson:function(t){var n,r;return n=t.substring(1),r=decodeURIComponent(n).replace(/"/g,'\\"').replace(/^&/g,"").replace(/&/g,'","').replace(/=/g,'":"'),e.trim(r).length?JSON.parse('{"'+r+'"}'):{}},jsonToParams:function(t,n){var r=[];return e.each(t,function(t,i){var s=!1;typeof i=="object"?(e.isArray(i)&&n&&(i=i.map(function(e){return e[n]})),e.isEmptyObject(i)||(s=encodeURIComponent(t)+"="+encodeURIComponent(JSON.stringify(i)))):!i||(s=encodeURIComponent(t)+"="+encodeURIComponent(i)),s&&r.push(s)}),r.join("&")},isDiff:function(e,t){return JSON.stringify(e)!==JSON.stringify(t)},isDiffSimple:function(n,r){var i,s,o,u,a,f,l;i=e.type(n),s=e.type(r),o=!1;if(i!==s)return!0;switch(i){case"boolean":case"number":case"string":return n!==r;case"array":o=n.length!==r.length;if(!o)for(u=0;u<n.length;u++){f=n[u],l=r[u],o=t.isDiffSimple(f,l);if(o)return o}return o;case"object":for(a in n)if(n.hasOwnProperty(a)){o=r[a]===undefined||t.isDiff(n[a],r[a]);if(o)return o}return o}}};return t}),define("managers/GlobalSearchManager",["jquery","forms/Form","utils/keycodes","utils/jsonUtil","factories/moduleFactory"],function(e,t,n,r,i){"use strict";var s=function(n){var o,u,a,f,l,c,h,p;o=this,a=s.markup,u=e.extend({$e:null,selector:"#global-search",queryKey:"q",redirectOnSelect:!0,useResultSlug:!1,resetWhenEmpty:!1,searchEndpoint:"/search/?q={{ query }}",resetEndpoint:"/search/"},n),f={name:"GlobalSearchManager",$e:u.$e||e(u.selector),autocomplete:null,searchEndpoint:u.searchEndpoint,resetEndpoint:u.resetEndpoint,currentResultJson:null,components:{autocomplete:{selector:".autocomplete"},autocompleteControl:{selector:".autocomplete .autocomplete-control"},autocompleteCta:{selector:".autocomplete-cta"}},events:{"click @autocompleteCta":"autocompleteCtaClick"}},l={},c={init:function(){if(!f.$e||!f.$e.length)return;new t({$e:f.$e}),l.autocomplete.data("handleAutoCompleteSelect",c.handleAutoCompleteSelect),f.autocomplete=l.autocomplete.data("autocompleteInstance")},handleAutoCompleteSelect:function(e,t){var n,i,s;n=r.paramsToJson(location.search),i=l.autocompleteControl.val(),s=null,l.autocompleteControl.val(t),l.autocomplete.addClass(a.TAG_SELECTED),e?(f.currentResultJson=e,u.useResultSlug&&(s=e.slug)):u.resetWhenEmpty&&!i?s="":u.useResultSlug?f.currentResultJson&&f.currentResultJson.slug?s=f.currentResultJson.slug:(e=f.autocomplete.findResult(i),e&&(s=e.slug)):i&&!u.useResultSlug&&(s=i),s!==null?(n[u.queryKey]=s,c.doSearch(n)):u.redirectOnSelect&&e&&(window.location=e.read_url)},doSearch:function(e){var t=location.pathname;delete e.page,t.length>1&&f.searchEndpoint.indexOf(t)>-1?window.location.search=r.jsonToParams(e):window.location=c.getSearchEndpoint(e[u.queryKey])},getSearchEndpoint:function(e){var t,n;return t=location.pathname,n=f.searchEndpoint.replace("{{ query }}",e),location.search.length&&f.searchEndpoint.indexOf(t)>-1&&(n+="&"+location.search.replace(/^\?/,"").replace(/q=.*?(&|$)/,"")),n},reset:function(e){var t;e=e||{},e.removeParam?(t=r.paramsToJson(location.search),delete t[e.removeParam],window.location.search=r.jsonToParams(t)):window.location=f.resetEndpoint}},h={autocompleteCtaClick:function(){c.handleAutoCompleteSelect()}},p={reset:c.reset},i({self:o,o:u,m:a,internal:f,elements:l,fn:c,handlers:h,api:p}).create()};return s.markup={TAG_SELECTED:"state-tag-selected"},s}),define("managers/RailManager",["jquery","factories/moduleFactory","forms/widgets/DropMenu"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h;s=this,u=r.markup,o=e.extend({$e:null,selector:".rail"},i),a={name:"RailManager",$e:o.$e||e(o.selector),components:{dropMenu:{selector:".drop-menu",constructor:n,moduleOptions:{selfToggle:!0}}},events:{}},f={},l={init:function(){}},c={},h={},t({self:s,o:o,m:u,internal:a,elements:f,fn:l,handlers:c,api:h}).create()};return r.markup={},r}),define("ui/Breadcrumb",["jquery","factories/moduleFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c;i=this,o=n.markup,s=e.extend({$e:null,selector:"",targetSelector:""},r),u={name:"Breadcrumb",$e:s.$e||e(s.selector),components:{breadcrumbLink:{selector:"a"},breadcrumbArrow:{selector:".icon"},breadcrumbLabel:{selector:".breadcrumb-label"}},events:{}},a={},f={init:function(){if(u.$e.length===0)return;e.get("/breadcrumb/",{referrer_url:document.referrer,curr_path:location.pathname},function(e){e&&(a.breadcrumbLink.attr("href",e.url_path),a.breadcrumbArrow.css("display","block"),a.breadcrumbLabel.text(e.title))})}},l={},c={},t({self:i,o:s,m:o,internal:u,elements:a,fn:f,handlers:l,api:c}).create()};return n.markup={},n}),define("services/CSRFLoader",["jquery","factories/moduleFactory","jquery.cookie"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c;i=this,o=n.markup,s=e.extend({},r),u={name:"CSRFLoader",selector:"[data-csrf]",events:{}},a={},f={init:function(){var t=e(u.selector);if(t.length===0)return;e.get("/csrf/",{},function(n){n&&(t.replaceWith('<input type="hidden" name="csrfmiddlewaretoken" value="'+n.token+'">'),e.cookie("csrftoken",n.token,{path:"/"}))})}},l={},c={},t({self:i,o:s,m:o,internal:u,elements:a,fn:f,handlers:l,api:c}).create()};return n.markup={},n}),function(e){(function(){if(e.requestAnimationFrame)return;if(e.webkitRequestAnimationFrame){e.requestAnimationFrame=e.webkitRequestAnimationFrame,e.cancelAnimationFrame=e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame;return}var t=0;e.requestAnimationFrame=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),s=e.setTimeout(function(){n(r+i)},i);return t=r+i,s},e.cancelAnimationFrame=function(e){clearTimeout(e)}})(),typeof define=="function"&&define("requireAnimationFrame",[],function(){return e.requestAnimationFrame})}(window),define("core",["jquery","utils/jqDomUtils","ui/Header","ui/Drawer","ui/ModuleLayout","ui/ListingLayout","services/AnchorLinkObserver","services/ExternalLinkObserver","managers/ModalsManager","managers/HeroSizeManager","managers/GlobalSearchManager","managers/RailManager","ui/Breadcrumb","services/CSRFLoader","requireAnimationFrame"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){"use strict";var d={isIniting:!1,isInited:!1},v={constructors:[{name:"modalsManager",constructor:a,options:{selector:".global-modals"}},{multi:!0,name:"moduleLayouts",constructor:i,options:{selector:"."+i.markup.CONTAINER}},{multi:!0,name:"listingLayouts",constructor:s,options:{selector:"."+s.markup.CONTAINER}},{name:"header",constructor:n,options:{selector:".global-header"}},{name:"drawer",constructor:r,options:{selector:".global-drawer"}},{name:"anchorLinkObserver",constructor:o,options:{selector:".global-container"}},{name:"externalLinkObserver",constructor:u,options:{linksInModal:!1,selector:".global-container"}},{name:"heroSizeManager",constructor:f},{name:"globalSearchManager",constructor:l,options:{selector:"#global-search"}},{name:"railManager",constructor:c,options:{selector:".rail"}},{name:"breadcrumb",constructor:h,options:{selector:".rail-nav-breadcrumb"}},{name:"csrfLoader",constructor:p}],instances:{}};return v.init=function(t,n){d.isIniting=!0,e.each(v.constructors,function(t,r){var i=e.extend(r.options||{},(n||{})[r.name]||{});r.constructor._core=v,r.multi?(v.instances[r.name]=[],e(i.selector).each(function(){var t=e.extend({},i,{$e:e(this)});v.instances[r.name].push(new r.constructor(t,v.instances))})):v.instances[r.name]=new r.constructor(i,v.instances)}),t&&t.length&&v.runScripts(t),d.isInited=!0},v.runScripts=function(t){e.each(t,function(t,n){e.isFunction(n)&&n(v)})},v.getInstance=function(e){!d.isInited&&!d.isIniting&&v.init();if(!v.instances[e])throw"Core: No modules available for "+e;return v.instances[e]},v}),define("ui/OpenCloseToggler",["jquery","factories/moduleFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c;i=this,o=n.markup,s=e.extend({$e:null,selector:"",targetSelector:""},r),u={name:"OpenCloseToggler",$e:s.$e||e(s.selector),components:{target:{selector:s.targetSelector}},events:{click:"click"}},a={},f={init:function(){},toggle:function(){a.target.toggleClass(o.OPEN)}},l={click:function(e){e.preventDefault(),f.toggle()}},c={},t({self:i,o:s,m:o,internal:u,elements:a,fn:f,handlers:l,api:c}).create()};return n.markup={},n}),define("ui/MoreText",["jquery","factories/moduleFactory","services/layout"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h;s=this,u=r.markup,o=e.extend({$e:null,selector:".more-text"},i),a={name:"MoreText",$e:o.$e||e(o.selector),components:{moreLink:{selector:u.LINK},introText:{selector:u.INTRO},fullText:{selector:u.FULL}},events:{"click @moreLink":"moreLinkClick"}},f={},l={init:function(){l.hideFullText(!1)},showFullText:function(e){f.introText.hide(),f.fullText.show(),e&&n.trigger()},hideFullText:function(e){f.fullText.hide(),f.introText.show(),e&&n.trigger()}},c={moreLinkClick:function(e){e.preventDefault(),l.showFullText(!0)}},h={},t({self:s,o:o,m:u,internal:a,elements:f,fn:l,handlers:c,api:h}).create()};return r.markup={LINK:"a.more-link",INTRO:".more-text-intro",FULL:".more-text-full"},r}),define("ui/blocks/EmbedBlock",["jquery","factories/moduleFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c;i=this,o=n.markup,s=e.extend({selector:".stream-block.embed-block"},r),u={name:"UiEmbedBlock",$e:s.$e||e(s.selector),components:{primaryBlockContent:{selector:".primary-block-content"},embedContent:{selector:".embed-content"}}},a={},f={init:function(){f.setSize()},setSize:function(){var e,t;u.$e.removeClass(o.SIZED),e=a.embedContent.height()/a.embedContent.width(),t=Math.floor(e*100),a.embedContent.css({"padding-bottom":t+"%"}),u.$e.addClass(o.SIZED)}},l={},c={setSize:f.setSize},t({self:i,o:s,m:o,internal:u,elements:a,fn:f,handlers:l,api:c}).create()};return n.markup={SIZED:"state-sized"},n}),!function(e,t,n,r){"use strict";function i(e,t,n){return setTimeout(f(e,n),t)}function s(e,t,n){return Array.isArray(e)?(o(e,n[t],n),!0):!1}function o(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==r)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function u(t,n,r){var i="DEPRECATED METHOD: "+n+"\n"+r+" AT \n";return function(){var n=new Error("get-stack-trace"),r=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=e.console&&(e.console.warn||e.console.log);return s&&s.call(e.console,i,r),t.apply(this,arguments)}}function a(e,t,n){var r,i=t.prototype;r=e.prototype=Object.create(i),r.constructor=e,r._super=i,n&&ct(r,n)}function f(e,t){return function(){return e.apply(t,arguments)}}function l(e,t){return typeof e==dt?e.apply(t?t[0]||r:r,t):e}function c(e,t){return e===r?t:e}function h(e,t,n){o(m(t),function(t){e.addEventListener(t,n,!1)})}function p(e,t,n){o(m(t),function(t){e.removeEventListener(t,n,!1)})}function d(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function v(e,t){return e.indexOf(t)>-1}function m(e){return e.trim().split(/\s+/g)}function g(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function y(e){return Array.prototype.slice.call(e,0)}function b(e,t,n){for(var r=[],i=[],s=0;s<e.length;){var o=t?e[s][t]:e[s];g(i,o)<0&&r.push(e[s]),i[s]=o,s++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function w(e,t){for(var n,i,s=t[0].toUpperCase()+t.slice(1),o=0;o<ht.length;){if(n=ht[o],i=n?n+s:t,i in e)return i;o++}return r}function E(){return wt++}function S(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}function x(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){l(e.options.enable,[e])&&n.handler(t)},this.init()}function T(e){var t,n=e.options.inputClass;return new(t=n?n:xt?F:Tt?R:St?z:j)(e,N)}function N(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,s=t&Ot&&r-i===0,o=t&(_t|Dt)&&r-i===0;n.isFirst=!!s,n.isFinal=!!o,s&&(e.session={}),n.eventType=t,C(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function C(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=A(t)),i>1&&!n.firstMultiple?n.firstMultiple=A(t):1===i&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,u=o?o.center:s.center,a=t.center=O(r);t.timeStamp=gt(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=P(u,a),t.distance=D(u,a),k(n,t),t.offsetDirection=_(t.deltaX,t.deltaY);var f=M(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=f.x,t.overallVelocityY=f.y,t.overallVelocity=mt(f.x)>mt(f.y)?f.x:f.y,t.scale=o?B(o.pointers,r):1,t.rotation=o?H(o.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,L(n,t);var l=e.element;d(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function k(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},s=e.prevInput||{};t.eventType!==Ot&&s.eventType!==_t||(i=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function L(e,t){var n,i,s,o,u=e.lastInterval||t,a=t.timeStamp-u.timeStamp;if(t.eventType!=Dt&&(a>At||u.velocity===r)){var f=t.deltaX-u.deltaX,l=t.deltaY-u.deltaY,c=M(a,f,l);i=c.x,s=c.y,n=mt(c.x)>mt(c.y)?c.x:c.y,o=_(f,l),e.lastInterval=t}else n=u.velocity,i=u.velocityX,s=u.velocityY,o=u.direction;t.velocity=n,t.velocityX=i,t.velocityY=s,t.direction=o}function A(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:vt(e.pointers[n].clientX),clientY:vt(e.pointers[n].clientY)},n++;return{timeStamp:gt(),pointers:t,center:O(t),deltaX:e.deltaX,deltaY:e.deltaY}}function O(e){var t=e.length;if(1===t)return{x:vt(e[0].clientX),y:vt(e[0].clientY)};for(var n=0,r=0,i=0;t>i;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:vt(n/t),y:vt(r/t)}}function M(e,t,n){return{x:t/e||0,y:n/e||0}}function _(e,t){return e===t?Pt:mt(e)>=mt(t)?0>e?Ht:Bt:0>t?jt:Ft}function D(e,t,n){n||(n=Ut);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function P(e,t,n){n||(n=Ut);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function H(e,t){return P(t[1],t[0],zt)+P(e[1],e[0],zt)}function B(e,t){return D(t[0],t[1],zt)/D(e[0],e[1],zt)}function j(){this.evEl=Xt,this.evWin=Vt,this.pressed=!1,x.apply(this,arguments)}function F(){this.evEl=Kt,this.evWin=Qt,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function I(){this.evTarget=Yt,this.evWin=Zt,this.started=!1,x.apply(this,arguments)}function q(e,t){var n=y(e.touches),r=y(e.changedTouches);return t&(_t|Dt)&&(n=b(n.concat(r),"identifier",!0)),[n,r]}function R(){this.evTarget=tn,this.targetIds={},x.apply(this,arguments)}function U(e,t){var n=y(e.touches),r=this.targetIds;if(t&(Ot|Mt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,s,o=y(e.changedTouches),u=[],a=this.target;if(s=n.filter(function(e){return d(e.target,a)}),t===Ot)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&u.push(o[i]),t&(_t|Dt)&&delete r[o[i].identifier],i++;return u.length?[b(s.concat(u),"identifier",!0),u]:void 0}function z(){x.apply(this,arguments);var e=f(this.handler,this);this.touch=new R(this.manager,e),this.mouse=new j(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function W(e,t){e&Ot?(this.primaryTouch=t.changedPointers[0].identifier,X.call(this,t)):e&(_t|Dt)&&X.call(this,t)}function X(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches,i=function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)};setTimeout(i,nn)}}function V(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(t-i.x),o=Math.abs(n-i.y);if(rn>=s&&rn>=o)return!0}return!1}function $(e,t){this.manager=e,this.set(t)}function J(e){if(v(e,ln))return ln;var t=v(e,cn),n=v(e,hn);return t&&n?ln:t||n?t?cn:hn:v(e,fn)?fn:an}function K(){if(!on)return!1;var t={},n=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){t[r]=n?e.CSS.supports("touch-action",r):!0}),t}function Q(e){this.options=ct({},this.defaults,e||{}),this.id=E(),this.manager=null,this.options.enable=c(this.options.enable,!0),this.state=dn,this.simultaneous={},this.requireFail=[]}function G(e){return e&bn?"cancel":e&gn?"end":e&mn?"move":e&vn?"start":""}function Y(e){return e==Ft?"down":e==jt?"up":e==Ht?"left":e==Bt?"right":""}function Z(e,t){var n=t.manager;return n?n.get(e):e}function et(){Q.apply(this,arguments)}function tt(){et.apply(this,arguments),this.pX=null,this.pY=null}function nt(){et.apply(this,arguments)}function rt(){Q.apply(this,arguments),this._timer=null,this._input=null}function it(){et.apply(this,arguments)}function st(){et.apply(this,arguments)}function ot(){Q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ut(e,t){return t=t||{},t.recognizers=c(t.recognizers,ut.defaults.preset),new at(e,t)}function at(e,t){this.options=ct({},ut.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=T(this),this.touchAction=new $(this,this.options.touchAction),ft(this,!0),o(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ft(e,t){var n=e.element;if(n.style){var r;o(e.options.cssProps,function(i,s){r=w(n.style,s),t?(e.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=e.oldCssProps[r]||""}),t||(e.oldCssProps={})}}function lt(e,n){var r=t.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=n,n.target.dispatchEvent(r)}var ct,ht=["","webkit","Moz","MS","ms","o"],pt=t.createElement("div"),dt="function",vt=Math.round,mt=Math.abs,gt=Date.now;ct="function"!=typeof Object.assign?function(e){if(e===r||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==r&&null!==i)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}:Object.assign;var yt=u(function(e,t,n){for(var i=Object.keys(t),s=0;s<i.length;)(!n||n&&e[i[s]]===r)&&(e[i[s]]=t[i[s]]),s++;return e},"extend","Use `assign`."),bt=u(function(e,t){return yt(e,t,!0)},"merge","Use `assign`."),wt=1,Et=/mobile|tablet|ip(ad|hone|od)|android/i,St="ontouchstart"in e,xt=w(e,"PointerEvent")!==r,Tt=St&&Et.test(navigator.userAgent),Nt="touch",Ct="pen",kt="mouse",Lt="kinect",At=25,Ot=1,Mt=2,_t=4,Dt=8,Pt=1,Ht=2,Bt=4,jt=8,Ft=16,It=Ht|Bt,qt=jt|Ft,Rt=It|qt,Ut=["x","y"],zt=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(S(this.element),this.evWin,this.domHandler)}};var Wt={mousedown:Ot,mousemove:Mt,mouseup:_t},Xt="mousedown",Vt="mousemove mouseup";a(j,x,{handler:function(e){var t=Wt[e.type];t&Ot&&0===e.button&&(this.pressed=!0),t&Mt&&1!==e.which&&(t=_t),this.pressed&&(t&_t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:kt,srcEvent:e}))}});var $t={pointerdown:Ot,pointermove:Mt,pointerup:_t,pointercancel:Dt,pointerout:Dt},Jt={2:Nt,3:Ct,4:kt,5:Lt},Kt="pointerdown",Qt="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Kt="MSPointerDown",Qt="MSPointerMove MSPointerUp MSPointerCancel"),a(F,x,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=$t[r],s=Jt[e.pointerType]||e.pointerType,o=s==Nt,u=g(t,e.pointerId,"pointerId");i&Ot&&(0===e.button||o)?0>u&&(t.push(e),u=t.length-1):i&(_t|Dt)&&(n=!0),0>u||(t[u]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),n&&t.splice(u,1))}});var Gt={touchstart:Ot,touchmove:Mt,touchend:_t,touchcancel:Dt},Yt="touchstart",Zt="touchstart touchmove touchend touchcancel";a(I,x,{handler:function(e){var t=Gt[e.type];if(t===Ot&&(this.started=!0),this.started){var n=q.call(this,e,t);t&(_t|Dt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Nt,srcEvent:e})}}});var en={touchstart:Ot,touchmove:Mt,touchend:_t,touchcancel:Dt},tn="touchstart touchmove touchend touchcancel";a(R,x,{handler:function(e){var t=en[e.type],n=U.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Nt,srcEvent:e})}});var nn=2500,rn=25;a(z,x,{handler:function(e,t,n){var r=n.pointerType==Nt,i=n.pointerType==kt;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)W.call(this,t,n);else if(i&&V.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var sn=w(pt.style,"touchAction"),on=sn!==r,un="compute",an="auto",fn="manipulation",ln="none",cn="pan-x",hn="pan-y",pn=K();$.prototype={set:function(e){e==un&&(e=this.compute()),on&&this.manager.element.style&&pn[e]&&(this.manager.element.style[sn]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return o(this.manager.recognizers,function(t){l(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),J(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var r=this.actions,i=v(r,ln)&&!pn[ln],s=v(r,hn)&&!pn[hn],o=v(r,cn)&&!pn[cn];if(i){var u=1===e.pointers.length,a=e.distance<2,f=e.deltaTime<250;if(u&&a&&f)return}return o&&s?void 0:i||s&&n&It||o&&n&qt?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var dn=1,vn=2,mn=4,gn=8,yn=gn,bn=16,wn=32;Q.prototype={defaults:{},set:function(e){return ct(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(s(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Z(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return s(e,"dropRecognizeWith",this)?this:(e=Z(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(s(e,"requireFailure",this))return this;var t=this.requireFail;return e=Z(e,this),-1===g(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(s(e,"dropRequireFailure",this))return this;e=Z(e,this);var t=g(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,r=this.state;gn>r&&t(n.options.event+G(r)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),r>=gn&&t(n.options.event+G(r))},tryEmit:function(e){return this.canEmit()?this.emit(e):void (this.state=wn)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(wn|dn)))return!1;e++}return!0},recognize:function(e){var t=ct({},e);return l(this.options.enable,[this,t])?(this.state&(yn|bn|wn)&&(this.state=dn),this.state=this.process(t),void (this.state&(vn|mn|gn|bn)&&this.tryEmit(t))):(this.reset(),void (this.state=wn))},process:function(e){},getTouchAction:function(){},reset:function(){}},a(et,Q,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(vn|mn),i=this.attrTest(e);return r&&(n&Dt||!i)?t|bn:r||i?n&_t?t|gn:t&vn?t|mn:vn:wn}}),a(tt,et,{defaults:{event:"pan",threshold:10,pointers:1,direction:Rt},getTouchAction:function(){var e=this.options.direction,t=[];return e&It&&t.push(hn),e&qt&&t.push(cn),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,s=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&It?(i=0===s?Pt:0>s?Ht:Bt,n=s!=this.pX,r=Math.abs(e.deltaX)):(i=0===o?Pt:0>o?jt:Ft,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return et.prototype.attrTest.call(this,e)&&(this.state&vn||!(this.state&vn)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Y(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),a(nt,et,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ln]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&vn)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),a(rt,Q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[an]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,s=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(_t|Dt)&&!s)this.reset();else if(e.eventType&Ot)this.reset(),this._timer=i(function(){this.state=yn,this.tryEmit()},t.time,this);else if(e.eventType&_t)return yn;return wn},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===yn&&(e&&e.eventType&_t?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=gt(),this.manager.emit(this.options.event,this._input)))}}),a(it,et,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ln]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&vn)}}),a(st,et,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:It|qt,pointers:1},getTouchAction:function(){return tt.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(It|qt)?t=e.overallVelocity:n&It?t=e.overallVelocityX:n&qt&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&mt(t)>this.options.velocity&&e.eventType&_t},emit:function(e){var t=Y(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),a(ot,Q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[fn]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,s=e.deltaTime<t.time;if(this.reset(),e.eventType&Ot&&0===this.count)return this.failTimeout();if(r&&s&&n){if(e.eventType!=_t)return this.failTimeout();var o=this.pTime?e.timeStamp-this.pTime<t.interval:!0,u=!this.pCenter||D(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,u&&o?this.count+=1:this.count=1,this._input=e;var a=this.count%t.taps;if(0===a)return this.hasRequireFailures()?(this._timer=i(function(){this.state=yn,this.tryEmit()},t.interval,this),vn):yn}return wn},failTimeout:function(){return this._timer=i(function(){this.state=wn},this.options.interval,this),wn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==yn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ut.VERSION="2.0.7",ut.defaults={domEvents:!1,touchAction:un,enable:!0,inputTarget:null,inputClass:null,preset:[[it,{enable:!1}],[nt,{enable:!1},["rotate"]],[st,{direction:It}],[tt,{direction:It},["swipe"]],[ot],[ot,{event:"doubletap",taps:2},["tap"]],[rt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var En=1,Sn=2;at.prototype={set:function(e){return ct(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?Sn:En},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&yn)&&(i=t.curRecognizer=null);for(var s=0;s<r.length;)n=r[s],t.stopped===Sn||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(vn|mn|gn)&&(i=t.curRecognizer=n),s++}},get:function(e){if(e instanceof Q)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(s(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(s(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=g(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==r&&t!==r){var n=this.handlers;return o(m(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==r){var n=this.handlers;return o(m(e),function(e){t?n[e]&&n[e].splice(g(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&lt(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&ft(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ct(ut,{INPUT_START:Ot,INPUT_MOVE:Mt,INPUT_END:_t,INPUT_CANCEL:Dt,STATE_POSSIBLE:dn,STATE_BEGAN:vn,STATE_CHANGED:mn,STATE_ENDED:gn,STATE_RECOGNIZED:yn,STATE_CANCELLED:bn,STATE_FAILED:wn,DIRECTION_NONE:Pt,DIRECTION_LEFT:Ht,DIRECTION_RIGHT:Bt,DIRECTION_UP:jt,DIRECTION_DOWN:Ft,DIRECTION_HORIZONTAL:It,DIRECTION_VERTICAL:qt,DIRECTION_ALL:Rt,Manager:at,Input:x,TouchAction:$,TouchInput:R,MouseInput:j,PointerEventInput:F,TouchMouseInput:z,SingleTouchInput:I,Recognizer:Q,AttrRecognizer:et,Tap:ot,Pan:tt,Swipe:st,Pinch:nt,Rotate:it,Press:rt,on:h,off:p,each:o,merge:bt,extend:yt,assign:ct,inherit:a,bindFn:f,prefixed:w});var xn="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};xn.Hammer=ut,"function"==typeof define&&define.amd?define("Hammer",[],function(){return ut}):"undefined"!=typeof module&&module.exports?module.exports=ut:e[n]=ut}(window,document,"Hammer"),define("ui/blocks/TimelineBlock",["jquery","Hammer","factories/moduleFactory","services/layout","utils/keycodes"],function(e,t,n,r,i){"use strict";var s=function(o){var u,a,f,l,c,h,p,d;u=this,f=s.markup,a=e.extend({$e:null,selector:".stream-block.timeline-block"},o),l={name:"UiTimelineBlock",$e:a.$e||e(a.selector),hammer:null,components:{itemList:{selector:".timeline-items"},trackItemList:{selector:".timeline-track-items"},trackItemLabelInner:{selector:".timeline-track-items .item-label span"},navPrev:{selector:".timeline-nav-prev"},navNext:{selector:".timeline-nav-next"}},events:{"click @navPrev":"navPrevClick","click @navNext":"navNextClick","click @trackItemLabelInner":"trackItemLabelInnerClick","mouseenter @trackItemLabelInner":"trackItemLabelInnerMouseenter","mouseleave @trackItemLabelInner":"trackItemLabelInnerMouseleave",keydown:"keydown"}},c={},h={init:function(){var e;e=h.getActiveItem(),e.length?h.activateItem(e):h.activateIndex(0),r.hasTouchSupport()&&(l.hammer=new t(c.itemList[0]),l.hammer.on("swipe",p.swipe)),r.onResize(p.resize)},destroy:function(){l.hammer&&l.hammer.destroy(),r.offResize(p.resize)},activateItem:function(t){var n,r,i,s,o,u;n=t[0],r=h.getItems(),i=h.getTrackItems(),r.each(function(t){var r=e(this);n===this?(u=t,r.addClass(f.ACTIVE)):r.removeClass(f.ACTIVE)}),s=i.removeClass(f.PRE_ACTIVE).eq(u).addClass(f.ACTIVE),s.prev().addClass(f.PRE_ACTIVE),s.siblings().removeClass(f.ACTIVE),o=t.position().left,c.itemList.css("left",-1*o+"px"),c.itemList.height(t.outerHeight(!0)),c.trackItemList.css("left",-1*o/4+"px"),c.navPrev.removeClass(f.DISABLED),c.navNext.removeClass(f.DISABLED),u===0?c.navPrev.addClass(f.DISABLED):u===r.length-1&&c.navNext.addClass(f.DISABLED)},activateIndex:function(e){var t=h.getItems().eq(e);t.length&&h.activateItem(t)},getItems:function(){return c.itemList.children()},getActiveItem:function(){return h.getItems().filter("."+f.ACTIVE)},getTrackItems:function(){return c.trackItemList.children()},syncActiveItem:function(){var e=h.getActiveItem();e.length&&h.activateItem(e)},prev:function(){var e=h.getActiveItem().prev();e.length&&h.activateItem(e)},next:function(){var e=h.getActiveItem().next();e.length&&h.activateItem(e)}},p={navPrevClick:function(){h.prev()},navNextClick:function(){h.next()},trackItemLabelInnerClick:function(){var t=e(this).closest("."+f.ITEM);h.activateIndex(t.index())},trackItemLabelInnerMouseenter:function(){e(this).closest("."+f.ITEM).addClass(f.HOVER)},trackItemLabelInnerMouseleave:function(){e(this).closest("."+f.ITEM).removeClass(f.HOVER)},keydown:function(e){e.which===i.RIGHT?h.next():e.which===i.LEFT&&h.prev()},swipe:function(e){e.pointerType==="touch"&&(e.direction===2?h.next():e.direction===4&&h.prev())},resize:function(){h.syncActiveItem()}},d={},n({self:u,o:a,m:f,internal:l,elements:c,fn:h,handlers:p,api:d}).create()};return s.markup={ITEM:"item",PRE_ACTIVE:"state-pre-active"},s}),define("ui/blocks/GalleryBlock",["jquery","factories/moduleFactory","ui/Slideshow"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h;s=this,u=r.markup,o=e.extend({selector:".stream-block.embed-block"},i),a={name:"UiGalleryBlock",$e:o.$e||e(o.selector),components:{primaryBlockContent:{selector:".primary-block-content"},galleryBlockWrap:{selector:".gallery-block-wrap"}},events:{"click @galleryBlockWrap":"galleryBlockWrapClick"}},f={},l={init:function(){},launchSlideshow:function(t){var r,i,s,u,a,f;r=e(t),i=e('<div class="slideshow-wrapper" />'),u=r.data("images"),a=r.data("galleryTitle"),f=r.data("galleryTags"),s=o.modalsManager.launchModal({content:i}),new n({$e:i,data:e.extend({readView:!0},o.data),modal:s})}},c={galleryBlockWrapClick:function(){l.launchSlideshow()}},h={},t({self:s,o:o,m:u,internal:a,elements:f,fn:l,handlers:c,api:h}).create()};return r.markup={},r}),define("ui/GalleryManager",["jquery","ui/Slideshow","factories/moduleFactory"],function(e,t,n){"use strict";var r=function(i){var s,o,u,a,f,l,c,h;s=this,u=r.markup,o=e.extend({$e:null,selector:".gallery-manager",modalsManager:null},i),a={name:"GalleryManager",$e:o.$e||e(o.selector),components:{launchSlideshow:{selector:".launch-slideshow"}},events:{"click @launchSlideshow":"launchSlideshowClick"}},f={},l={init:function(){},launchSlideshow:function(){var n,r;r=e('<div class="slideshow-wrapper" />'),n=o.modalsManager.launchModal({content:r}),new t({$e:r,data:e.extend({readView:!0},o.data),modal:n})}},c={launchSlideshowClick:function(){l.launchSlideshow()}},h={},n({self:s,o:o,internal:a,elements:f,fn:l,handlers:c,m:u,api:h}).create()};return r.markup={},r}),define("ui/ListExpander",["jquery","factories/moduleFactory"],function(e,t){"use strict";var n=function(r){var i,s,o,u,a,f,l,c;i=this,o=n.markup,s=e.extend({$e:null,selector:"."+o.CONTAINER,$siblings:e(),index:null},r),u={name:"ListExpander",$e:s.$e||e(s.selector),isCollapsed:s.index!==0,dimensions:{listContainer:null},components:{listToggleControl:{selector:"."+o.LIST_TOGGLE_CONTROL},listContainer:{selector:"."+o.LIST_CONTAINER},listItem:{selector:"."+o.LIST_ITEM}},events:{"click @listToggleControl":"listToggleControlClick",collapse:"selfCollapse"}},a={},f={init:function(){f.toggleExpandState({initialCollapse:!0}),u.$e.removeClass(o.HIDE),a.listContainer.addClass(o.ARMED)},toggleExpandState:function(e){e=e||{},u.isCollapsed=e.forceCollapse||u.isCollapsed,a.listContainer.css("height",u.isCollapsed?0:a.listContainer[0].scrollHeight),u.$e.toggleClass(o.COLLAPSE,u.isCollapsed),!u.isCollapsed&&!e.initialCollapse&&f.collapseSiblings(),u.isCollapsed=!u.isCollapsed},collapseSiblings:function(){s.$siblings.length&&s.$siblings.trigger("collapse")}},l={listToggleControlClick:function(e){e.target.hasAttribute("href")||f.toggleExpandState()},selfCollapse:function(){f.toggleExpandState({forceCollapse:!0})}},c={},t({self:i,o:s,m:o,internal:u,elements:a,fn:f,handlers:l,api:c}).create()};return n.markup={CONTAINER:"list-expander",LIST_TOGGLE_CONTROL:"list-toggle-control",LIST_CONTAINER:"list-container",LIST_ITEM:"list-item",ARMED:"state-armed"},n}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("videojs",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojs=e()}}(function(){var e;return function t(e,n,r){function i(o,u){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!u&&l)return l(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var p=n[o]={exports:{}};e[o][0].call(p.exports,function(t){var n=e[o][1][t];return i(n?n:t)},p,p.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(2),a=r(u),f=e(5),l=r(f),c=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){this.player_.play()},t}(a["default"]);c.prototype.controlText_="Play Video",l["default"].registerComponent("BigPlayButton",c),n["default"]=c},{2:2,5:5}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(3),a=r(u),f=e(5),l=r(f),c=e(86),h=r(c),p=e(88),d=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return o(t,e),t.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=(0,p.assign)({className:this.buildCSSClass()},t),"button"!==e&&(h["default"].warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=(0,p.assign)({tabIndex:0},t),n=(0,p.assign)({role:"button"},n)),n=(0,p.assign)({type:"button","aria-live":"polite"},n);var r=l["default"].prototype.createEl.call(this,e,t,n);return this.createControlTextEl(r),r},t.prototype.addChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return h["default"].warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),l["default"].prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(a["default"]);l["default"].registerComponent("Button",d),n["default"]=d},{3:3,5:5,86:86,88:88}],3:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),f=i(a),l=e(81),c=r(l),h=e(82),p=r(h),d=e(83),v=r(d),m=e(86),g=i(m),y=e(94),b=i(y),w=e(88),E=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.emitTapEvents(),i.enable(),i}return u(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=(0,w.assign)({className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&g["default"].error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=(0,w.assign)({role:"button","aria-live":"polite"},r),this.tabIndex_=n.tabIndex;var i=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(i),i},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=c.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(!e)return this.controlText_||"Need Text";var n=this.localize(e);return this.controlText_=e,this.controlTextEl_.innerHTML=n,t.setAttribute("title",n),this},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},t.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("tap",this.handleClick),this.off("click",this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},t.prototype.handleClick=function(e){},t.prototype.handleFocus=function(e){p.on(b["default"],"keydown",v.bind(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(e){p.off(b["default"],"keydown",v.bind(this,this.handleKeyPress))},t}(f["default"]);f["default"].registerComponent("ClickableComponent",E),n["default"]=E},{5:5,81:81,82:82,83:83,86:86,88:88,94:94}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(2),a=r(u),f=e(5),l=r(f),c=function(e){function t(n,r){i(this,t);var o=s(this,e.call(this,n,r));return o.controlText(r&&r.controlText||o.localize("Close")),o}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(a["default"]);l["default"].registerComponent("CloseButton",c),n["default"]=c},{2:2,5:5}],5:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e(95),u=i(o),a=e(81),f=r(a),l=e(83),c=r(l),h=e(85),p=r(h),d=e(82),v=r(d),m=e(86),g=i(m),y=e(91),b=i(y),w=e(87),E=i(w),S=function(){function e(t,n,r){if(s(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=(0,E["default"])({},this.options_),n=this.options_=(0,E["default"])(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+p.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),f.removeElData(this.el_),this.el_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return g["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=(0,E["default"])(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return f.createEl(e,t,n)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!t||!n)return e;var r=n[t];if(r&&r[e])return r[e];var i=t.split("-")[0],s=n[i];return s&&s[e]?s[e]:e},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=(0,b["default"])(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,s=void 0;if("string"==typeof t){s=(0,b["default"])(t),n||(n={}),n===!0&&(g["default"].warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),n={});var o=n.componentClass||s;n.name=s;var u=e.getComponent(o);if(!u)throw new Error("Component "+o+" does not exist");if("function"!=typeof u)return null;i=new u(this.player_||this,n)}else i=t;if(this.children_.splice(r,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),s=s||i.name&&i.name(),s&&(this.childNameIndex_[s]=i),"function"==typeof i.el&&i.el()){var a=this.contentEl().children,f=a[r]||null;this.contentEl().insertBefore(i.el(),f)}return i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;n&&!function(){var r=t.options_,i=function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),i!==!1){i===!0&&(i={}),i.playerOptions=t.options_.playerOptions;var s=t.addChild(n,i);s&&(t[n]=s)}},s=void 0,o=e.getComponent("Tech");s=Array.isArray(n)?n:Object.keys(n),s.concat(Object.keys(t.options_).filter(function(e){return!s.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r=void 0,i=void 0;return"string"==typeof e?(r=e,i=n[r]||t.options_[r]||{}):(r=e.name,i=e),{name:r,opts:i}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||(0,b["default"])(t.name));return n&&!o.isTech(n)}).forEach(i)}()},e.prototype.buildCSSClass=function(){return""},e.prototype.on=function(e,t,n){var r=this;return"string"==typeof e||Array.isArray(e)?v.on(this.el_,e,c.bind(this,t)):!function(){var i=e,s=t,o=c.bind(r,n),u=function(){return r.off(i,s,o)};u.guid=o.guid,r.on("dispose",u);var a=function(){return r.off("dispose",u)};a.guid=o.guid,e.nodeName?(v.on(i,s,o),v.on(i,"dispose",a)):"function"==typeof e.on&&(i.on(s,o),i.on("dispose",a))}(),this},e.prototype.off=function(e,t,n){if(!e||"string"==typeof e||Array.isArray(e))v.off(this.el_,e,t);else{var r=e,i=t,s=c.bind(this,n);this.off("dispose",s),e.nodeName?(v.off(r,i,s),v.off(r,"dispose",s)):(r.off(i,s),r.off("dispose",s))}return this},e.prototype.one=function(e,t,n){var r=this,i=arguments;return"string"==typeof e||Array.isArray(e)?v.one(this.el_,e,c.bind(this,t)):!function(){var s=e,o=t,u=c.bind(r,n),a=function f(){r.off(s,o,f),u.apply(null,i)};a.guid=u.guid,r.on(s,o,a)}(),this},e.prototype.trigger=function(e,t){return v.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return f.$(e,t||this.contentEl())},e.prototype.$$=function(e,t){return f.$$(e,t||this.contentEl())},e.prototype.hasClass=function(e){return f.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return f.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return f.removeElClass(this.el_,e),this},e.prototype.toggleClass=function(e,t){return f.toggleElClass(this.el_,e,t),this},e.prototype.show=function(){return this.removeClass("vjs-hidden"),this},e.prototype.hide=function(){return this.addClass("vjs-hidden"),this},e.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},e.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},e.prototype.getAttribute=function(e){return f.getAttribute(this.el_,e)},e.prototype.setAttribute=function(e,t){return f.setAttribute(this.el_,e,t),this},e.prototype.removeAttribute=function(e){return f.removeAttribute(this.el_,e),this},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t===t||(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[e]=t:"auto"===t?this.el_.style[e]="":this.el_.style[e]=t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return i!==-1?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+(0,b["default"])(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof u["default"].getComputedStyle){var n=u["default"].getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(t=parseFloat(t),0===t){var r="offset"+(0,b["default"])(e);t=this.el_[r]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.emitTapEvents=function(){var e=0,t=null,n=10,r=200,i=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)i=!1;else if(t){var r=e.touches[0].pageX-t.pageX,s=e.touches[0].pageY-t.pageY,o=Math.sqrt(r*r+s*s);o>n&&(i=!1)}});var s=function(){i=!1};this.on("touchleave",s),this.on("touchcancel",s),this.on("touchend",function(n){if(t=null,i===!0){var s=(new Date).getTime()-e;s<r&&(n.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=c.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){e=c.bind(this,e);var n=u["default"].setTimeout(e,t),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},e.prototype.clearTimeout=function(e){u["default"].clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=c.bind(this,e);var n=u["default"].setInterval(e,t),r=function(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},e.prototype.clearInterval=function(e){u["default"].clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.registerComponent=function(t,n){if(t)return t=(0,b["default"])(t),e.components_||(e.components_={}),"Player"===t&&e.components_[t]&&!function(){var n=e.components_[t];if(n.players&&Object.keys(n.players).length>0&&Object.keys(n.players).map(function(e){return n.players[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created")}(),e.components_[t]=n,n},e.getComponent=function(t){if(t)return t=(0,b["default"])(t),e.components_&&e.components_[t]?e.components_[t]:u["default"]&&u["default"].videojs&&u["default"].videojs[t]?(g["default"].warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),u["default"].videojs[t]):void 0},e.extend=function(t){t=t||{},g["default"].warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var n=t.init||t.init||this.prototype.init||this.prototype.init||function(){},r=function(){n.apply(this,arguments)};r.prototype=Object.create(this.prototype),r.prototype.constructor=r,r.extend=e.extend;for(var i in t)t.hasOwnProperty(i)&&(r.prototype[i]=t[i]);return r},e}();S.registerComponent("Component",S),n["default"]=S},{81:81,82:82,83:83,85:85,86:86,87:87,91:91,95:95}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(36),a=r(u),f=e(5),l=r(f),c=e(7),h=r(c),p=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),r.tracks=n.audioTracks&&n.audioTracks();var o=s(this,e.call(this,n,r));return o.el_.setAttribute("aria-label","Audio Menu"),o}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.player_.audioTracks&&this.player_.audioTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];e.push(new h["default"](this.player_,{track:r,selectable:!0}))}return e},t}(a["default"]);p.prototype.controlText_="Audio Track",l["default"].registerComponent("AudioTrackButton",p),n["default"]=p},{36:36,5:5,7:7}],7:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(48),f=i(a),l=e(5),c=i(l),h=e(83),p=r(h),d=function(e){function t(n,r){s(this,t);var i=r.track,u=n.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled;var a=o(this,e.call(this,n,r));return a.track=i,u&&!function(){var e=p.bind(a,a.handleTracksChange);u.addEventListener("change",e),a.on("dispose",function(){u.removeEventListener("change",e)})}(),a}return u(t,e),t.prototype.handleClick=function(t){var n=this.player_.audioTracks();if(e.prototype.handleClick.call(this,t),n)for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},t.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(f["default"]);c["default"].registerComponent("AudioTrackMenuItem",d),n["default"]=d},{48:48,5:5,83:83}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),a=r(u);e(12),e(32),e(33),e(35),e(34),e(10),e(18),e(9),e(38),e(40),e(11),e(25),e(27),e(29),e(24),e(6),e(13),e(21);var f=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(a["default"]);f.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},a["default"].registerComponent("ControlBar",f),n["default"]=f},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(2),a=r(u),f=e(5),l=r(f),c=function(e){function t(n,r){i(this,t);var o=s(this,e.call(this,n,r));return o.on(n,"fullscreenchange",o.handleFullscreenChange),o}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(a["default"]);c.prototype.controlText_="Fullscreen",l["default"].registerComponent("FullscreenToggle",c),n["default"]=c},{2:2,5:5}],10:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),f=i(a),l=e(81),c=r(l),h=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}return u(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(f["default"]);f["default"].registerComponent("LiveDisplay",h),n["default"]=h},{5:5,81:81}],11:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(2),f=i(a),l=e(5),c=i(l),h=e(81),p=r(h),d=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.on(n,"volumechange",i.update),n.tech_&&n.tech_.featuresVolumeControl===!1&&i.addClass("vjs-hidden"),i.on(n,"loadstart",function(){this.update(),n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),i}return u(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.muted(!this.player_.muted())},t.prototype.update=function(e){var t=this.player_.volume(),n=3;0===t||this.player_.muted()?n=0:t<.33?n=1:t<.67&&(n=2);var r=this.player_.muted()?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r);for(var i=0;i<4;i++)p.removeElClass(this.el_,"vjs-vol-"+i);p.addElClass(this.el_,"vjs-vol-"+n)},t}(f["default"]);d.prototype.controlText_="Mute",c["default"].registerComponent("MuteToggle",d),n["default"]=d},{2:2,5:5,81:81}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(2),a=r(u),f=e(5),l=r(f),c=function(e){function t(n,r){i(this,t);var o=s(this,e.call(this,n,r));return o.on(n,"play",o.handlePlay),o.on(n,"pause",o.handlePause),o}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(e){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t}(a["default"]);c.prototype.controlText_="Play",l["default"].registerComponent("PlayToggle",c),n["default"]=c},{2:2,5:5}],13:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(47),f=i(a),l=e(49),c=i(l),h=e(14),p=i(h),d=e(5),v=i(d),m=e(81),g=r(m),y=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.updateVisibility(),i.updateLabel(),i.on(n,"loadstart",i.updateVisibility),i.on(n,"ratechange",i.updateLabel),i}return u(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=g.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new c["default"](this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new p["default"](this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>t){r=n[i];break}this.player().playbackRate(r)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(f["default"]);y.prototype.controlText_="Playback Rate",v["default"].registerComponent("PlaybackRateMenuButton",y),n["default"]=y},{14:14,47:47,49:49,5:5,81:81}],14:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(48),a=r(u),f=e(5),l=r(f),c=function(e){function t(n,r){i(this,t);var o=r.rate,u=parseFloat(o,10);r.label=o,r.selected=1===u;var a=s(this,e.call(this,n,r));return a.label=o,a.rate=u,a.on(n,"ratechange",a.update),a}return o(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(a["default"]);c.prototype.contentElType="button",l["default"].registerComponent("PlaybackRateMenuItem",c),n["default"]=c},{48:48,5:5}],15:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),f=i(a),l=e(81),c=r(l),h=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.partEls_=[],i.on(n,"progress",i.update),i}return u(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.update=function(e){var t=this.player_.buffered(),n=this.player_.duration(),r=this.player_.bufferedEnd(),i=this.partEls_,s=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=s(r,n);for(var o=0;o<t.length;o++){var u=t.start(o),a=t.end(o),f=i[o];f||(f=this.el_.appendChild(c.createEl()),i[o]=f),f.style.left=s(u,r),f.style.width=s(a-u,r)}for(var l=i.length;l>t.length;l--)this.el_.removeChild(i[l-1]);i.length=t.length},t}(f["default"]);f["default"].registerComponent("LoadProgressBar",h),n["default"]=h},{5:5,81:81}],16:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),f=i(a),l=e(81),c=r(l),h=e(83),p=r(h),d=e(84),v=i(d),m=e(80),g=i(m),y=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&(i.tooltip=c.createEl("div",{className:"vjs-time-tooltip"}),i.el().appendChild(i.tooltip),i.addClass("vjs-keep-tooltips-inside")),i.update(0,0),n.on("ready",function(){i.on(n.controlBar.progressControl.el(),"mousemove",p.throttle(p.bind(i,i.handleMouseMove),25))}),i}return u(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),n=this.calculateDistance(e)*t,r=e.pageX-c.findElPosition(this.el().parentNode).left;this.update(n,r)},t.prototype.update=function(e,t){var n=(0,v["default"])(e,this.player_.duration());if(this.el().style.left=t+"px",this.el().setAttribute("data-current-time",n),this.keepTooltipsInside){var r=this.clampPosition_(t),i=t-r+1,s=parseFloat((0,g["default"])(this.tooltip,"width")),o=s/2;this.tooltip.innerHTML=n,this.tooltip.style.right="-"+(o-i)+"px"}},t.prototype.calculateDistance=function(e){return c.getPointerPosition(this.el().parentNode,e).x},t.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat((0,g["default"])(this.player().el(),"width")),n=parseFloat((0,g["default"])(this.tooltip,"width")),r=n/2,i=e;return e<r?i=Math.ceil(r):e>t-r&&(i=Math.floor(t-r)),i},t}(f["default"]);f["default"].registerComponent("MouseTimeDisplay",y),n["default"]=y},{5:5,80:80,81:81,83:83,84:84}],17:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),f=i(a),l=e(83),c=r(l),h=e(84),p=i(h),d=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.updateDataAttr(),i.on(n,"timeupdate",i.updateDataAttr),n.ready(c.bind(i,i.updateDataAttr)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&i.addClass("vjs-keep-tooltips-inside"),i}return u(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,p["default"])(t,this.player_.duration()))},t}(f["default"]);f["default"].registerComponent("PlayProgressBar",d),n["default"]=d},{5:5,83:83,84:84}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),a=r(u);e(19),e(16);var f=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t}(a["default"]);f.prototype.options_={children:["seekBar"]},a["default"].registerComponent("ProgressControl",f),n["default"]=f},{16:16,19:19,5:5}],19:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(57),f=i(a),l=e(5),c=i(l),h=e(83),p=r(h),d=e(84),v=i(d),m=e(80),g=i(m);e(15),e(17),e(20);var y=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.on(n,"timeupdate",i.updateProgress),i.on(n,"ended",i.updateProgress),n.ready(p.bind(i,i.updateProgress)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&(i.tooltipProgressBar=i.addChild("TooltipProgressBar")),i}return u(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.prototype.updateProgress=function(e){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var t=parseFloat((0,g["default"])(this.player().el(),"width")),n=parseFloat((0,g["default"])(this.tooltipProgressBar.tooltip,"width")),r=this.tooltipProgressBar.el().style;r.maxWidth=Math.floor(t-n/2)+"px",r.minWidth=Math.ceil(n/2)+"px",r.right="-"+n/2+"px"}},t.prototype.updateAriaAttributes=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",(0,v["default"])(t,this.player_.duration()))},t.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){e.prototype.handleMouseDown.call(this,t),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(f["default"]);y.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},y.prototype.playerEvent="timeupdate",c["default"].registerComponent("SeekBar",y),n["default"]=y},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),f=i(a),l=e(83),c=r(l),h=e(84),p=i(h),d=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.updateDataAttr(),i.on(n,"timeupdate",i.updateDataAttr),n.ready(c.bind(i,i.updateDataAttr)),i}return u(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=(0,p["default"])(t,this.player_.duration());this.el_.setAttribute("data-current-time",n),this.tooltip.innerHTML=n},t}(f["default"]);f["default"].registerComponent("TooltipProgressBar",d),n["default"]=d},{5:5,83:83,84:84}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(22),a=r(u),f=e(5),l=r(f),c=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(a["default"]);l["default"].registerComponent("CustomControlSpacer",c),n["default"]=c},{22:22,5:5}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),a=r(u),f=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(a["default"]);a["default"].registerComponent("Spacer",f),n["default"]=f},{5:5}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(31),a=r(u),f=e(5),l=r(f),c=function(e){function t(n,r){i(this,t),r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},r.selectable=!1;var o=s(this,e.call(this,n,r));return o.addClass("vjs-texttrack-settings"),o.controlText(", opens "+r.kind+" settings dialog"),o}return o(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},t}(a["default"]);l["default"].registerComponent("CaptionSettingsMenuItem",c),n["default"]=c},{31:31,5:5}],24:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(30),a=r(u),f=e(5),l=r(f),c=e(23),h=r(c),p=function(e){function t(n,r,o){i(this,t);var u=s(this,e.call(this,n,r,o));return u.el_.setAttribute("aria-label","Captions Menu"),u}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(t){var n=2;e.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(n=1),this.items&&this.items.length>n?this.show():this.hide()},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||t.push(new h["default"](this.player_,{kind:this.kind_})),e.prototype.createItems.call(this,t)},t}(a["default"]);p.prototype.kind_="captions",p.prototype.controlText_="Captions",l["default"].registerComponent("CaptionsButton",p),n["default"]=p},{23:23,30:30,5:5}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(30),a=r(u),f=e(5),l=r(f),c=e(26),h=r(c),p=e(91),d=r(p),v=function(e){function t(n,r,o){i(this,t);var u=s(this,e.call(this,n,r,o));return u.el_.setAttribute("aria-label","Chapters Menu"),u}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,d["default"])(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],s=new h["default"](this.player_,{track:this.track_,cue:i});e.push(s)}return e},t}(a["default"]);v.prototype.kind_="chapters",v.prototype.controlText_="Chapters",l["default"].registerComponent("ChaptersButton",v),n["default"]=v},{26:26,30:30,5:5,91:91}],26:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(48),f=i(a),l=e(5),c=i(l),h=e(83),p=r(h),d=function(e){function t(n,r){s(this,t);var i=r.track,u=r.cue,a=n.currentTime();r.selectable=!0,r.label=u.text,r.selected=u.startTime<=a&&a<u.endTime;var f=o(this,e.call(this,n,r));return f.track=i,f.cue=u,i.addEventListener("cuechange",p.bind(f,f.update)),f}return u(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(f["default"]);c["default"].registerComponent("ChaptersTrackMenuItem",d),n["default"]=d},{48:48,5:5,83:83}],27:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(30),f=i(a),l=e(5),c=i(l),h=e(83),p=r(h),d=function(e){function t(n,r,i){s(this,t);var u=o(this,e.call(this,n,r,i));u.el_.setAttribute("aria-label","Descriptions Menu");var a=n.textTracks();return a&&!function(){var e=p.bind(u,u.handleTracksChange);a.addEventListener("change",e),u.on("dispose",function(){a.removeEventListener("change",e)})}(),u}return u(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var s=t[r];if(s.kind!==this.kind_&&"showing"===s.mode){n=!0;break}}n?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t}(f["default"]);d.prototype.kind_="descriptions",d.prototype.controlText_="Descriptions",c["default"].registerComponent("DescriptionsButton",d),n["default"]=d},{30:30,5:5,83:83}],28:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(31),a=r(u),f=e(5),l=r(f),c=function(e){function t(n,r){i(this,t),r.track={player:n,kind:r.kind,label:r.kind+" off","default":!1,mode:"disabled"},r.selectable=!0;var o=s(this,e.call(this,n,r));return o.selected(!0),o}return o(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var s=t[r];if(s.kind===this.track.kind&&"showing"===s.mode){n=!1;break}}this.selected(n)},t}(a["default"]);l["default"].registerComponent("OffTextTrackMenuItem",c),n["default"]=c},{31:31,5:5}],29:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(30),a=r(u),f=e(5),l=r(f),c=function(e){function t(n,r,o){i(this,t);var u=s(this,e.call(this,n,r,o));return u.el_.setAttribute("aria-label","Subtitles Menu"),u}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t}(a["default"]);c.prototype.kind_="subtitles",c.prototype.controlText_="Subtitles",l["default"].registerComponent("SubtitlesButton",c),n["default"]=c},{30:30,5:5}],30:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(36),a=r(u),f=e(5),l=r(f),c=e(31),h=r(c),p=e(28),d=r(p),v=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,t),r.tracks=n.textTracks(),s(this,e.call(this,n,r))}return o(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.push(new d["default"](this.player_,{kind:this.kind_}));var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];r.kind===this.kind_&&e.push(new h["default"](this.player_,{track:r,selectable:!0}))}return e},t}(a["default"]);l["default"].registerComponent("TextTrackButton",v),n["default"]=v},{28:28,31:31,36:36,5:5}],31:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=e(48),l=i(f),c=e(5),h=i(c),p=e(83),d=r(p),v=e(95),m=i(v),g=e(94),y=i(g),b=function(e){function t(n,r){s(this,t);var i=r.track,u=n.textTracks();r.label=i.label||i.language||"Unknown",r.selected=i["default"]||"showing"===i.mode;var f=o(this,e.call(this,n,r));return f.track=i,u&&!function(){var e=d.bind(f,f.handleTracksChange);u.addEventListener("change",e),f.on("dispose",function(){u.removeEventListener("change",e)})}(),u&&void 0===u.onchange&&!function(){var e=void 0;f.on(["tap","click"],function(){if("object"!==a(m["default"].Event))try{e=new m["default"].Event("change")}catch(t){}e||(e=y["default"].createEvent("Event"),e.initEvent("change",!0,!0)),u.dispatchEvent(e)})}(),f}return u(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var s=r[i];s.kind===n&&(s===this.track?s.mode="showing":s.mode="disabled")}},t.prototype.handleTracksChange=function(e){this.selected("showing"===this.track.mode)},t}(l["default"]);h["default"].registerComponent("TextTrackMenuItem",b),n["default"]=b},{48:48,5:5,83:83,94:94,95:95}],32:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),f=i(a),l=e(81),c=r(l),h=e(84),p=i(h),d=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.on(n,"timeupdate",i.updateContent),i}return u(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=this.localize("Current Time"),r=(0,p["default"])(t,this.player_.duration());r!==this.formattedTime_&&(this.formattedTime_=r,this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r)},t}(f["default"]);f["default"].registerComponent("CurrentTimeDisplay",d),n["default"]=d},{5:5,81:81,84:84}],33:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),f=i(a),l=e(81),c=r(l),h=e(84),p=i(h),d=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.on(n,"durationchange",i.updateContent),i.on(n,"timeupdate",i.updateContent),i.on(n,"loadedmetadata",i.updateContent),i}return u(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.duration();if(t&&this.duration_!==t){this.duration_=t;var n=this.localize("Duration Time"),r=(0,p["default"])(t);this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r}},t}(f["default"]);f["default"].registerComponent("DurationDisplay",d),n["default"]=d},{5:5,81:81,84:84}],34:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),f=i(a),l=e(81),c=r(l),h=e(84),p=i(h),d=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.on(n,"timeupdate",i.updateContent),i.on(n,"durationchange",i.updateContent),i}return u(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){if(this.player_.duration()){var t=this.localize("Remaining Time"),n=(0,p["default"])(this.player_.remainingTime());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> -"+n)}},t}(f["default"]);f["default"].registerComponent("RemainingTimeDisplay",d),n["default"]=d},{5:5,81:81,84:84}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),a=r(u),f=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(a["default"]);a["default"].registerComponent("TimeDivider",f),n["default"]=f},{5:5}],36:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(47),f=i(a),l=e(5),c=i(l),h=e(83),p=r(h),d=function(e){function t(n,r){s(this,t);var i=r.tracks,u=o(this,e.call(this,n,r));if(u.items.length<=1&&u.hide(),!i)return o(u);var a=p.bind(u,u.update);return i.addEventListener("removetrack",a),i.addEventListener("addtrack",a),u.player_.on("dispose",function(){i.removeEventListener("removetrack",a),i.removeEventListener("addtrack",a)}),u}return u(t,e),t}(f["default"]);c["default"].registerComponent("TrackButton",d),n["default"]=d},{47:47,5:5,83:83}],37:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(57),f=i(a),l=e(5),c=i(l),h=e(83),p=r(h);e(39);var d=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.on(n,"volumechange",i.updateARIAAttributes),n.ready(p.bind(i,i.updateARIAAttributes)),i}return u(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(e){var t=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t}(f["default"]);d.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},d.prototype.playerEvent="volumechange",c["default"].registerComponent("VolumeBar",d),n["default"]=d},{39:39,5:5,57:57,83:83}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),a=r(u);e(37);var f=function(e){function t(n,r){i(this,t);var o=s(this,e.call(this,n,r));return n.tech_&&n.tech_.featuresVolumeControl===!1&&o.addClass("vjs-hidden"),o.on(n,"loadstart",function(){n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),o}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(a["default"]);f.prototype.options_={children:["volumeBar"]},a["default"].registerComponent("VolumeControl",f),n["default"]=f},{37:37,5:5}],39:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),a=r(u),f=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(a["default"]);a["default"].registerComponent("VolumeLevel",f),n["default"]=f},{5:5}],40:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(83),f=i(a),l=e(5),c=r(l),h=e(54),p=r(h),d=e(53),v=r(d),m=e(11),g=r(m),y=e(37),b=r(y),w=function(e){function t(n){function r(){n.tech_&&n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,t),void 0===i.inline&&(i.inline=!0),void 0===i.vertical&&(i.inline?i.vertical=!1:i.vertical=!0),i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=!!i.vertical;var u=o(this,e.call(this,n,i));return u.on(n,"volumechange",u.volumeUpdate),u.on(n,"loadstart",u.volumeUpdate),r.call(u),u.on(n,"loadstart",r),u.on(u.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),u.on(u.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),u.on(u.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),u.on(u.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),u}return u(t,e),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createPopup=function(){var e=new p["default"](this.player_,{contentElType:"div"}),t=new b["default"](this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},t.prototype.handleClick=function(t){g["default"].prototype.handleClick.call(this),e.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],f.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(e){this.on(["mousemove","touchmove"],f.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},t.prototype.handleMouseUp=function(e){this.off(["mousemove","touchmove"],f.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(v["default"]);w.prototype.volumeUpdate=g["default"].prototype.update,w.prototype.controlText_="Mute",c["default"].registerComponent("VolumeMenuButton",w),n["default"]=w},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),a=r(u),f=e(50),l=r(f),c=e(87),h=r(c),p=function(e){function t(n,r){i(this,t);var o=s(this,e.call(this,n,r));return o.on(n,"error",o.open),o}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(l["default"]);p.prototype.options_=(0,h["default"])(l["default"].prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0}),a["default"].registerComponent("ErrorDisplay",p),n["default"]=p},{5:5,50:50,87:87}],42:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var i=e(82),s=r(i),o=function(){};o.prototype.allowedEvents_={},o.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},s.on(this,e,t),this.addEventListener=n},o.prototype.addEventListener=o.prototype.on,o.prototype.off=function(e,t){s.off(this,e,t)},o.prototype.removeEventListener=o.prototype.off,o.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},s.one(this,e,t),this.addEventListener=n},o.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=s.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),s.trigger(this,e)},o.prototype.dispatchEvent=o.prototype.trigger,n["default"]=o},{82:82}],43:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=e(86),o=r(s),u=e(88),a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){e.apply(this,arguments)},r={};(0,u.isObject)(t)?("function"==typeof t.init&&(o["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),a(n,e);for(var i in r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n};n["default"]=f},{86:86,88:88}],44:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;for(var i=e(94),s=r(i),o={},u=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=u[0],f=void 0,l=0;l<u.length;l++)if(u[l][1]in s["default"]){f=u[l];break}if(f)for(var c=0;c<f.length;c++)o[a[c]]=f[c];n["default"]=o},{94:94}],45:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),a=r(u),f=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(a["default"]);a["default"].registerComponent("LoadingSpinner",f),n["default"]=f},{5:5}],46:[function(e,t,n){"use strict";function r(e){return e instanceof r?e:("number"==typeof e?this.code=e:"string"==typeof e?this.message=e:(0,i.isObject)(e)&&("number"==typeof e.code&&(this.code=e.code),(0,i.assign)(this,e)),void (this.message||(this.message=r.defaultMessages[this.code]||"")))}n.__esModule=!0;var i=e(88);r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<r.errorTypes.length;s++)r[r.errorTypes[s]]=s,r.prototype[r.errorTypes[s]]=s;n["default"]=r},{88:88}],47:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(3),f=i(a),l=e(5),c=i(l),h=e(49),p=i(h),d=e(81),v=r(d),m=e(83),g=r(m),y=e(91),b=i(y),w=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,t);var i=o(this,e.call(this,n,r));return i.update(),i.enabled_=!0,i.el_.setAttribute("aria-haspopup","true"),i.el_.setAttribute("role","menuitem"),i.on("keydown",i.handleSubmenuKeyPress),i}return u(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createMenu=function(){var e=new p["default"](this.player_);if(this.options_.title){var t=v.createEl("li",{className:"vjs-menu-title",innerHTML:(0,b["default"])(this.options_.title),tabIndex:-1});e.children_.unshift(t),v.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",g.bind(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,e.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},t}(f["default"]);c["default"].registerComponent("MenuButton",w),n["default"]=w},{3:3,49:49,5:5,81:81,83:83,91:91}],48:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(3),a=r(u),f=e(5),l=r(f),c=e(88),h=function(e){function t(n,r){i(this,t);var o=s(this,e.call(this,n,r));return o.selectable=r.selectable,o.selected(r.selected),o.selectable?o.el_.setAttribute("role","menuitemcheckbox"):o.el_.setAttribute("role","menuitem"),o}return o(t,e),t.prototype.createEl=function(t,n,r){return e.prototype.createEl.call(this,"li",(0,c.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},n),r)},t.prototype.handleClick=function(e){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(a["default"]);l["default"].registerComponent("MenuItem",h),n["default"]=h},{3:3,5:5,88:88}],49:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),f=i(a),l=e(81),c=r(l),h=e(83),p=r(h),d=e(82),v=r(d),m=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}return u(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",p.bind(this,function(e){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=c.createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.setAttribute("role","presentation"),n.appendChild(this.contentEl_),v.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice(),n=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);n&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(f["default"]);f["default"].registerComponent("Menu",m),n["default"]=m},{5:5,81:81,82:82,83:83}],50:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(81),f=i(a),l=e(83),c=i(l),h=e(5),p=r(h),d="vjs-modal-dialog",v=27,m=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=f.createEl("div",{className:d+"-content"},{role:"document"}),i.descEl_=f.createEl("p",{className:d+"-description vjs-offscreen",id:i.el().getAttribute("aria-describedby")}),f.textContent(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return u(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return d+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===v&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",c.bind(this,this.handleKeyPress)),e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",c.bind(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function n(e){if("boolean"==typeof e){var n=this.closeable_=!!e,t=this.getChild("closeButton");if(n&&!t){var r=this.contentEl_;this.contentEl_=this.el_,t=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(t,"close",this.close)}!n&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())}return this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),f.insertContent(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t),this},t.prototype.empty=function(){return this.trigger("beforemodalempty"),f.emptyEl(this.contentEl()),this.trigger("modalempty"),this},t.prototype.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},t}(p["default"]);m.prototype.options_={temporary:!0},p["default"].registerComponent("ModalDialog",m),n["default"]=m},{5:5,81:81,83:83}],51:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),f=i(a),l=e(94),c=i(l),h=e(95),p=i(h),d=e(82),v=r(d),m=e(81),g=r(m),y=e(83),b=r(y),w=e(85),E=r(w),S=e(78),x=r(S),T=e(86),N=i(T),C=e(91),k=i(C),L=e(90),A=e(79),O=e(89),M=r(O),_=e(44),D=i(_),P=e(46),H=i(P),B=e(97),j=i(B),F=e(88),I=e(87),q=i(I),R=e(69),U=i(R),z=e(50),W=i(z),X=e(62),V=i(X),$=e(63),J=i($),K=e(76),Q=i(K);e(61),e(59),e(55),e(68),e(45),e(1),e(4),e(8),e(41),e(71),e(60);var G=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],Y=function(e){function t(n,r,i){if(s(this,t),n.id=n.id||"vjs_video_"+E.newGUID(),r=(0,F.assign)(t.getTagSettings(n),r),r.initChildren=!1,r.createEl=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var u=n.closest("[lang]");u&&(r.language=u.getAttribute("lang"))}else for(var a=n;a&&1===a.nodeType;){if(g.getElAttributes(a).hasOwnProperty("lang")){r.language=a.getAttribute("lang");break}a=a.parentNode}var f=o(this,e.call(this,null,r,i));if(!f.options_||!f.options_.techOrder||!f.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");f.tag=n,f.tagAttributes=n&&g.getElAttributes(n),f.language(f.options_.language),r.languages?!function(){var e={};Object.getOwnPropertyNames(r.languages).forEach(function(t){e[t.toLowerCase()]=r.languages[t]}),f.languages_=e}():f.languages_=t.prototype.options_.languages,f.cache_={},f.poster_=r.poster||"",f.controls_=!!r.controls,n.controls=!1,f.scrubbing_=!1,f.el_=f.createEl();var l=(0,q["default"])(f.options_);return r.plugins&&!function(){var e=r.plugins;Object.getOwnPropertyNames(e).forEach(function(t){"function"==typeof this[t]?this[t](e[t]):N["default"].error("Unable to find plugin:",t)},f)}(),f.options_.playerOptions=l,f.initChildren(),f.isAudio("audio"===n.nodeName.toLowerCase()),f.controls()?f.addClass("vjs-controls-enabled"):f.addClass("vjs-controls-disabled"),f.el_.setAttribute("role","region"),f.isAudio()?f.el_.setAttribute("aria-label","audio player"):f.el_.setAttribute("aria-label","video player"),f.isAudio()&&f.addClass("vjs-audio"),f.flexNotSupported_()&&f.addClass("vjs-no-flex"),x.IS_IOS||f.addClass("vjs-workinghover"),t.players[f.id_]=f,f.userActive(!0),f.reportUserActivity(),f.listenForUserActivity_(),f.on("fullscreenchange",f.handleFullscreenChange_),f.on("stageclick",f.handleStageClick_),f}return u(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.el_=e.prototype.createEl.call(this,"div"),n=this.tag;n.removeAttribute("width"),n.removeAttribute("height");var r=g.getElAttributes(n);if(Object.getOwnPropertyNames(r).forEach(function(e){"class"===e?t.className=r[e]:t.setAttribute(e,r[e])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),p["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=M.createStyleElement("vjs-styles-dimensions");var i=g.$(".vjs-styles-defaults"),s=g.$("head");s.insertBefore(this.styleEl_,i?i.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var o=n.getElementsByTagName("a"),u=0;u<o.length;u++){var a=o.item(u);g.addElClass(a,"vjs-hidden"),a.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&n.parentNode.insertBefore(t,n),g.insertElFirst(n,t),this.children_.unshift(n),this.el_=t,t},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)this[n]=void 0;else{var r=parseFloat(t);if(isNaN(r))return N["default"].error('Improper value "'+t+'" supplied for for '+e),this;this[n]=r}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),void this.updateStyleEl_())},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(p["default"].VIDEOJS_NO_DYNAMIC_STYLE===!0){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void (n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}var r=void 0,i=void 0,s=void 0,o=void 0;s=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var u=s.split(":"),a=u[1]/u[0];r=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/a:this.videoWidth()||300,i=void 0!==this.height_?this.height_:r*a,o=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(o),M.setTextContent(this.styleEl_,"\n      ."+o+" {\n        width: "+r+"px;\n        height: "+i+"px;\n      }\n\n      ."+o+".vjs-fluid {\n        padding-top: "+100*a+"%;\n      }\n    ")},t.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_(),"Html5"!==e&&this.tag&&(V["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var r=(0,F.assign)({source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+e+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),"vtt.js":this.options_["vtt.js"]},this.options_[e.toLowerCase()]);this.tag&&(r.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=t,this.cache_.src=t.src);var i=V["default"].getTech(e);i||(i=f["default"].getComponent(e)),this.tech_=new i(r),this.tech_.ready(b.bind(this,this.handleTechReady_),!0),U["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),G.forEach(function(e){n.on(n.tech_,e,n["handleTech"+(0,k["default"])(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||g.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=U["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw p["default"].alert(t),new Error(t)},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){(0,N["default"])("deleting tag.poster throws in some browsers",e)}this.play()}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_&&this.tech_[e](t)}catch(n){throw(0,N["default"])(n),n}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?(0,N["default"])("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?((0,N["default"])("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):(0,N["default"])(t),t}},t.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return this.techGet_("paused")!==!1},t.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(e){return void 0!==e?(this.techCall_("setCurrentTime",e),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){return void 0===e?this.cache_.duration||0:(e=parseFloat(e)||0,e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function n(){var n=this.techGet_("buffered");return n&&n.length||(n=(0,L.createTimeRange)(0,0)),n},t.prototype.bufferedPercent=function(){return(0,A.bufferedPercent)(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?(this.techCall_("setMuted",e),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=D["default"];return this.isFullscreen(!0),e.requestFullscreen?(v.on(c["default"],e.fullscreenchange,b.bind(this,function t(n){this.isFullscreen(c["default"][e.fullscreenElement]),this.isFullscreen()===!1&&v.off(c["default"],e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var e=D["default"];return this.isFullscreen(!1),e.requestFullscreen?c["default"][e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=c["default"].documentElement.style.overflow,v.on(c["default"],"keydown",b.bind(this,this.fullWindowOnEscKey)),c["default"].documentElement.style.overflow="hidden",g.addElClass(c["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,v.off(c["default"],"keydown",this.fullWindowOnEscKey),c["default"].documentElement.style.overflow=this.docOrigOverflow,g.removeElClass(c["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=(0,k["default"])(r[n]),s=V["default"].getTech(i);if(s||(s=f["default"].getComponent(i)),s){if(s.isSupported()&&(t=s.canPlayType(e)))return t}else N["default"].error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,n=this.options_.techOrder.map(k["default"]).map(function(e){return[e,V["default"].getTech(e)||f["default"].getComponent(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(N["default"].error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,n){var r=void 0;return e.some(function(e){return t.some(function(t){if(r=n(e,t))return!0})}),r},i=void 0,s=function(e){return function(t,n){return e(n,t)}},o=function(e,n){var r=e[0],i=e[1];if(i.canPlaySource(n,t.options_[r.toLowerCase()]))return{source:n,tech:r}};return i=this.options_.sourceOrder?r(e,n,s(o)):r(n,e,o),i||!1},t.prototype.src=function(e){if(void 0===e)return this.techGet_("src");var t=V["default"].getTech(this.techName_);return t||(t=f["default"].getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e,this.options_[this.techName_.toLowerCase()])?this.sourceList_([e]):(this.cache_.sources=null,this.cache_.source=e,this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?(t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source),this.cache_.sources=e):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.reset=function(){return this.loadTech_((0,k["default"])(this.options_.techOrder[0]),null),this.techCall_("reset"),this},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){var e={},t=this.currentSrc();return t&&(e.src=t),this.cache_.source||e},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),this.options_.preload=e,this):this.techGet_("preload")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this):this.techGet_("autoplay",e)},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),this.options_.loop=e,this):this.techGet_("loop")},t.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new H["default"](e),this.addClass("vjs-error"),N["default"].error("(CODE:"+this.error_.code+" "+H["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){return void 0!==e?(e=!!e,e!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=b.bind(this,this.reportUserActivity),i=function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())},s=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},o=function(t){r(),this.clearInterval(e)};this.on("mousedown",s),this.on("mousemove",i),this.on("mouseup",o),this.on("keydown",r),this.on("keyup",r);var u=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);var e=this.options_.inactivityTimeout;e>0&&(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new Q["default"],this.videoTracks_)},t.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new J["default"],this.audioTracks_)},t.prototype.textTracks=function(){if(this.tech_)return this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){if(this.tech_)return this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){if(this.tech_)return this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.track,n=void 0===t?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return void 0===e?this.language_:(this.language_=String(e).toLowerCase(),this)},t.prototype.languages=function(){return(0,q["default"])(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=(0,q["default"])(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];r=(0,q["default"])(r),r.player=void 0,e.tracks[n]=r}return e},t.prototype.createModal=function(e,t){var n=this;t=t||{},t.content=e||"";var r=new W["default"](this,t);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open()},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=g.getElAttributes(e),r=n["data-setup"];if(g.hasElClass(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=(0,j["default"])(r||"{}"),s=i[0],o=i[1];s&&N["default"].error(s),(0,F.assign)(n,o)}if((0,F.assign)(t,n),e.hasChildNodes())for(var u=e.childNodes,a=0,f=u.length;a<f;a++){var l=u[a],c=l.nodeName.toLowerCase();"source"===c?t.sources.push(g.getElAttributes(l)):"track"===c&&t.tracks.push(g.getElAttributes(l))}return t},t.prototype.flexNotSupported_=function(){var e=c["default"].createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(f["default"]);Y.players={};var Z=p["default"].navigator;Y.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Z&&(Z.languages&&Z.languages[0]||Z.userLanguage||Z.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){Y.prototype[e]=function(){return this.techGet_(e)}}),G.forEach(function(e){Y.prototype["handleTech"+(0,k["default"])(e)+"_"]=function(){return this.trigger(e)}}),f["default"].registerComponent("Player",Y),n["default"]=Y},{1:1,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,94:94,95:95,97:97}],52:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e(51),s=r(i),o=function(e,t){s["default"].prototype[e]=t};n["default"]=o},{51:51}],53:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(3),a=r(u),f=e(5),l=r(f),c=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var o=s(this,e.call(this,n,r));return o.update(),o}return o(t,e),t.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t}(a["default"]);l["default"].registerComponent("PopupButton",c),n["default"]=c},{3:3,5:5}],54:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),f=i(a),l=e(81),c=r(l),h=e(83),p=r(h),d=e(82),v=r(d),m=function(e){function t(){return s(this,t),o(this,e.apply(this,arguments))}return u(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",p.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=c.createEl(t,{className:"vjs-menu-content"});var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),v.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t}(f["default"]);f["default"].registerComponent("Popup",m),n["default"]=m},{5:5,81:81,82:82,83:83}],55:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(3),f=i(a),l=e(5),c=i(l),h=e(83),p=r(h),d=e(81),v=r(d),m=e(78),g=r(m),y=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.update(),n.on("posterchange",p.bind(i,i.update)),i}return u(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=v.createEl("div",{className:"vjs-poster",tabIndex:-1});return g.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=v.createEl("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t}(f["default"]);c["default"].registerComponent("PosterImage",y),n["default"]=y},{3:3,5:5,78:78,81:81,83:83}],56:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e,t){t&&(p=t),setTimeout(d,e)}n.__esModule=!0,n.hasLoaded=n.autoSetupTimeout=n.autoSetup=void 0;var o=e(82),u=i(o),a=e(94),f=r(a),l=e(95),c=r(l),h=!1,p=void 0,d=function(){var e=f["default"].getElementsByTagName("video"),t=f["default"].getElementsByTagName("audio"),n=[];if(e&&e.length>0)for(var r=0,i=e.length;r<i;r++)n.push(e[r]);if(t&&t.length>0)for(var o=0,u=t.length;o<u;o++)n.push(t[o]);if(n&&n.length>0)for(var a=0,l=n.length;a<l;a++){var c=n[a];if(!c||!c.getAttribute){s(1);break}if(void 0===c.player){var d=c.getAttribute("data-setup");null!==d&&p(c)}}else h||s(1)};"complete"===f["default"].readyState?h=!0:u.one(c["default"],"load",function(){h=!0});var v=function(){return h};n.autoSetup=d,n.autoSetupTimeout=s,n.hasLoaded=v},{82:82,94:94,95:95}],57:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),f=i(a),l=e(81),c=r(l),h=e(88),p=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on("focus",i.handleFocus),i.on("blur",i.handleBlur),i.on("click",i.handleClick),i.on(n,"controlsvisible",i.update),i.on(n,i.playerEvent,i.update),i}return u(t,e),t.prototype.createEl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.className=n.className+" vjs-slider",n=(0,h.assign)({tabIndex:0},n),r=(0,h.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),c.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;c.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=n:t.el().style.width=n}}},t.prototype.calculateDistance=function(e){var t=c.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},t}(f["default"]);f["default"].registerComponent("Slider",p),n["default"]=p},{5:5,81:81,88:88}],58:[function(e,t,n){"use strict";function r(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.search(/&(?!\w+=)/),r=void 0;return n!==-1?r=n+1:(n=r=e.lastIndexOf("/")+1,0===n&&(n=r=e.length)),t.connection=e.substring(0,n),t.stream=e.substring(r,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t,n){var r=e.rtmpSourceHandler.canPlayType(t.type);return r?r:e.isStreamingSrc(t.src)?"maybe":""},e.rtmpSourceHandler.handleSource=function(t,n,r){var i=e.streamToParts(t.src);n.setRtmpConnection(i.connection),n.setRtmpStream(i.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}n.__esModule=!0,n["default"]=r},{}],59:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=e.charAt(0).toUpperCase()+e.slice(1);C["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function f(e){C[e]=function(){return this.el_.vjs_getProperty(e)}}n.__esModule=!0;for(var l=e(62),c=i(l),h=e(81),p=r(h),d=e(92),v=r(d),m=e(90),g=e(58),y=i(g),b=e(5),w=i(b),E=e(95),S=i(E),x=e(88),T=S["default"].navigator,N=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return n.source&&i.ready(function(){this.setSource(n.source)},!0),n.startTime&&i.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),S["default"].videojs=S["default"].videojs||{},S["default"].videojs.Flash=S["default"].videojs.Flash||{},S["default"].videojs.Flash.onReady=t.onReady,S["default"].videojs.Flash.onEvent=t.onEvent,S["default"].videojs.Flash.onError=t.onError,i.on("seeked",function(){this.lastSeekTarget_=void 0}),i}return u(t,e),t.prototype.createEl=function(){var e=this.options_;if(!e.swf){var n="5.1.0";e.swf="//vjs.zencdn.net/swf/"+n+"/video-js.swf"}var r=e.techId,i=(0,x.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),s=(0,x.assign)({wmode:"opaque",bgcolor:"#000000"},e.params),o=(0,x.assign)({id:r,name:r,"class":"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,i,s,o),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){var t=this;e=v.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout(function(){return t.play()},0)},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var n=this.seekable();n.length&&(t=t>n.start(0)?t:n.start(0),t=t<n.end(n.length-1)?t:n.end(n.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function n(){if(0===this.readyState())return NaN;var n=this.el_.vjs_getProperty("duration");return n>=0?n:1/0},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?(0,m.createTimeRange)():(0,m.createTimeRange)(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?(0,m.createTimeRange)():(0,m.createTimeRange)(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(c["default"]),C=N.prototype,k="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),L="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),A=0;A<k.length;A++)f(k[A]),a(k[A]);for(var O=0;O<L.length;O++)f(L[O]);N.isSupported=function(){return N.version()[0]>=10},c["default"].withSourceHandlers(N),N.nativeSourceHandler={},N.nativeSourceHandler.canPlayType=function(e){return e in N.formats?"maybe":""},N.nativeSourceHandler.canHandleSource=function(e,t){function n(e){var t=v.getFileExtension(e);return t?"video/"+t:""}var r=void 0;return r=e.type?e.type.replace(/;.*/,"").toLowerCase():n(e.src),N.nativeSourceHandler.canPlayType(r)},N.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},N.nativeSourceHandler.dispose=function(){},N.registerSourceHandler(N.nativeSourceHandler),N.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},N.onReady=function(e){var t=p.getEl(e),n=t&&t.tech;n&&n.el()&&N.checkReady(n)},N.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){N.checkReady(e)},50))},N.onEvent=function(e,t){var n=p.getEl(e).tech,r=Array.prototype.slice.call(arguments,2);n.setTimeout(function(){n.trigger(t,r)},1)},N.onError=function(e,t){var n=p.getEl(e).tech;return"srcnotfound"===t?n.error(4):void n.error("FLASH: "+t)},N.version=function(){var e="0,0,0";try{e=(new S["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{T.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(T.plugins["Shockwave Flash 2.0"]||T.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return e.split(",")},N.embed=function(e,t,n,r){var i=N.getEmbedCode(e,t,n,r),s=p.createEl("div",{innerHTML:i}).childNodes[0];return s},N.getEmbedCode=function(e,t,n,r){var i='<object type="application/x-shockwave-flash" ',s="",o="",u="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){s+=e+"="+t[e]+"&amp;"}),n=(0,x.assign)({movie:e,flashvars:s,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){o+='<param name="'+e+'" value="'+n[e]+'" />'}),r=(0,x.assign)({data:e,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(e){u+=e+'="'+r[e]+'" '}),""+i+u+">"+o+"</object>"},(0,y["default"])(N),w["default"].registerComponent("Flash",N),c["default"].registerTech("Flash",N),n["default"]=N},{5:5,58:58,62:62,81:81,88:88,90:90,92:92,95:95}],60:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){return e.raw=t,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=s(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),c=e(62),h=i(c),p=e(5),d=i(p),v=e(81),m=r(v),g=e(92),y=r(g),b=e(83),w=r(b),E=e(86),S=i(E),x=e(98),T=i(x),N=e(78),C=r(N),k=e(94),L=i(k),A=e(95),O=i(A),M=e(88),_=e(87),D=i(_),P=e(91),H=i(P),B=function(e){function t(n,r){o(this,t);var i=u(this,e.call(this,n,r)),s=n.source,a=!1;if(s&&(i.el_.currentSrc!==s.src||n.tag&&3===n.tag.initNetworkState_)?i.setSource(s):i.handleLateInit_(i.el_),i.el_.hasChildNodes()){for(var f=i.el_.childNodes,c=f.length,h=[];c--;){var p=f[c],d=p.nodeName.toLowerCase();"track"===d&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(p),i.remoteTextTracks().addTrack_(p.track),a||i.el_.hasAttribute("crossorigin")||!y.isCrossOrigin(p.src)||(a=!0)):h.push(p))}for(var v=0;v<h.length;v++)i.el_.removeChild(h[v])}var m=["audio","video"];return m.forEach(function(e){var t=i.el()[e+"Tracks"],n=i[e+"Tracks"](),r=(0,H["default"])(e);i["featuresNative"+r+"Tracks"]&&t&&t.addEventListener&&(i["handle"+r+"TrackChange_"]=function(e){n.trigger({type:"change",target:n,currentTarget:n,srcElement:n})},i["handle"+r+"TrackAdd_"]=function(e){return n.addTrack(e.track)},i["handle"+r+"TrackRemove_"]=function(e){return n.removeTrack(e.track)},t.addEventListener("change",i["handle"+r+"TrackChange_"]),t.addEventListener("addtrack",i["handle"+r+"TrackAdd_"]),t.addEventListener("removetrack",i["handle"+r+"TrackRemove_"]),i["removeOld"+r+"Tracks_"]=function(e){return i.removeOldTracks_(n,t)},i.on("loadstart",i["removeOld"+r+"Tracks_"]))}),i.featuresNativeTextTracks&&(a&&S["default"].warn((0,T["default"])(l)),i.handleTextTrackChange_=w.bind(i,i.handleTextTrackChange),i.handleTextTrackAdd_=w.bind(i,i.handleTextTrackAdd),i.handleTextTrackRemove_=w.bind(i,i.handleTextTrackRemove),i.proxyNativeTextTracks_()),(C.TOUCH_ENABLED||C.IS_IPHONE||C.IS_NATIVE_ANDROID)&&n.nativeControlsForTouch===!0&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return a(t,e),t.prototype.dispose=function(){var n=this;["audio","video","text"].forEach(function(e){var t=(0,H["default"])(e),r=n.el_[e+"Tracks"];r&&r.removeEventListener&&(r.removeEventListener("change",n["handle"+t+"TrackChange_"]),r.removeEventListener("addtrack",n["handle"+t+"TrackAdd_"]),r.removeEventListener("removetrack",n["handle"+t+"TrackRemove_"])),r&&n.off("loadstart",n["removeOld"+t+"Tracks_"])}),t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||this.movingMediaElementInDOM===!1){if(e){var n=e.cloneNode(!0);e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=L["default"].createElement("video");var r=this.options_.tag&&m.getElAttributes(this.options_.tag),i=(0,D["default"])({},r);C.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete i.controls,m.setElAttributes(e,(0,M.assign)(i,{id:this.options_.techId,"class":"vjs-tech"}))}e.playerId=this.options_.playerId}for(var s=["autoplay","preload","loop","muted"],o=s.length-1;o>=0;o--){var u=s[o],a={};"undefined"!=typeof this.options_[u]&&(a[u]=this.options_[u]),m.setElAttributes(e,a)}return e},t.prototype.handleLateInit_=function(e){var t=this;if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var n=function(){var e=!1,n=function(){e=!0};t.on("loadstart",n);var r=function(){e||this.trigger("loadstart")};return t.on("loadedmetadata",r),t.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),e||this.trigger("loadstart")}),{v:void 0}}();if("object"===("undefined"==typeof n?"undefined":f(n)))return n.v}var r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},t.prototype.handleTextTrackChange=function(e){var t=this.textTracks();this.textTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.removeOldTracks_=function(e,t){var n=[];if(t){for(var r=0;r<e.length;r++){for(var i=e[r],s=!1,o=0;o<t.length;o++)if(t[o]===i){s=!0;break}s||n.push(i)}for(var u=0;u<n.length;u++){var a=n[u];e.removeTrack_(a)}}},t.prototype.removeOldTextTracks_=function(e){var t=this.textTracks(),n=this.el().textTracks;this.removeOldTracks_(t,n)},t.prototype.play=function(){var e=this.el_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){(0,S["default"])(t,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===1/0&&C.IS_ANDROID&&C.IS_CHROME&&0===this.el_.currentTime){var t=function(){var t=function n(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",n))};return e.on("timeupdate",t),{v:NaN}}();if("object"===("undefined"==typeof t?"undefined":f(t)))return t.v}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0})};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=O["default"].navigator&&O["default"].navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=L["default"].createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t["default"]&&(n["default"]=t["default"]),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},t.prototype.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},t}(h["default"]);B.TEST_VID=L["default"].createElement("video");var j=L["default"].createElement("track");j.kind="captions",j.srclang="en",j.label="English",B.TEST_VID.appendChild(j),B.isSupported=function(){try{B.TEST_VID.volume=.5}catch(e){return!1}return!!B.TEST_VID.canPlayType},B.canControlVolume=function(){try{var e=B.TEST_VID.volume;return B.TEST_VID.volume=e/2+.1,e!==B.TEST_VID.volume}catch(t){return!1}},B.canControlPlaybackRate=function(){if(C.IS_ANDROID&&C.IS_CHROME)return!1;try{var e=B.TEST_VID.playbackRate;return B.TEST_VID.playbackRate=e/2+.1,e!==B.TEST_VID.playbackRate}catch(t){return!1}},B.supportsNativeTextTracks=function(){return C.IS_ANY_SAFARI},B.supportsNativeVideoTracks=function(){var e=!!B.TEST_VID.videoTracks;return e},B.supportsNativeAudioTracks=function(){var e=!!B.TEST_VID.audioTracks;return e},B.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],B.prototype.featuresVolumeControl=B.canControlVolume(),B.prototype.featuresPlaybackRate=B.canControlPlaybackRate(),B.prototype.movingMediaElementInDOM=!C.IS_IOS,B.prototype.featuresFullscreenResize=!0,B.prototype.featuresProgressEvents=!0,B.prototype.featuresTimeupdateEvents=!0,B.prototype.featuresNativeTextTracks=B.supportsNativeTextTracks(),B.prototype.featuresNativeVideoTracks=B.supportsNativeVideoTracks(),B.prototype.featuresNativeAudioTracks=B.supportsNativeAudioTracks();var F=void 0,I=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,q=/^video\/mp4/i;B.patchCanPlayType=function(){C.ANDROID_VERSION>=4&&!C.IS_FIREFOX&&(F||(F=B.TEST_VID.constructor.prototype.canPlayType),B.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&I.test(e)?"maybe":F.call(this,e)}),C.IS_OLD_ANDROID&&(F||(F=B.TEST_VID.constructor.prototype.canPlayType),B.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&q.test(e)?"maybe":F.call(this,e)})},B.unpatchCanPlayType=function(){var e=B.TEST_VID.constructor.prototype.canPlayType;return B.TEST_VID.constructor.prototype.canPlayType=F,F=null,e},B.patchCanPlayType(),B.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},B.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},["paused","currentTime","buffered","volume","muted","poster","preload","autoplay","controls","loop","error","seeking","seekable","ended","defaultMuted","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){B.prototype[e]=function(){return this.el_[e]}}),["volume","muted","src","poster","preload","autoplay","loop","playbackRate"].forEach(function(e){B.prototype["set"+(0,H["default"])(e)]=function(t){this.el_[e]=t}}),["pause","load"].forEach(function(e){B.prototype[e]=function(){return this.el_[e]()}}),h["default"].withSourceHandlers(B),B.nativeSourceHandler={},B.nativeSourceHandler.canPlayType=function(e){try{return B.TEST_VID.canPlayType(e)}catch(t){return""}},B.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return B.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=y.getFileExtension(e.src);return B.nativeSourceHandler.canPlayType("video/"+n)}return""},B.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},B.nativeSourceHandler.dispose=function(){},B.registerSourceHandler(B.nativeSourceHandler),d["default"].registerComponent("Html5",B),h["default"].registerTech("Html5",B),n["default"]=B},{5:5,62:62,78:78,81:81,83:83,86:86,87:87,88:88,91:91,92:92,94:94,95:95,98:98}],61:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),a=r(u),f=e(62),l=r(f),c=e(91),h=r(c),p=function(e){function t(n,r,o){i(this,t);var u=s(this,e.call(this,n,r,o));if(r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var f=0,c=r.playerOptions.techOrder;f<c.length;f++){var p=(0,h["default"])(c[f]),d=l["default"].getTech(p);if(p||(d=a["default"].getComponent(p)),d&&d.isSupported()){n.loadTech_(p);break}}return u}return o(t,e),t}(a["default"]);a["default"].registerComponent("MediaLoader",p),n["default"]=p},{5:5,62:62,91:91}],62:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var o=new y["default"](i);return s.addTrack_(o),o}n.__esModule=!0;var f=e(5),l=i(f),c=e(66),h=i(c),p=e(65),d=i(p),v=e(87),m=i(v),g=e(72),y=i(g),b=e(70),w=i(b),E=e(76),S=i(E),x=e(63),T=i(x),N=e(83),C=r(N),k=e(86),L=i(k),A=e(90),O=e(79),M=e(46),_=i(M),D=e(95),P=i(D),H=e(94),B=i(H),j=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};s(this,t),n.reportTouchActivity=!1;var i=o(this,e.call(this,null,n,r));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),i.textTracks_=n.textTracks,i.videoTracks_=n.videoTracks,i.audioTracks_=n.audioTracks,i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){n["native"+e+"Tracks"]===!1&&(i["featuresNative"+e+"Tracks"]=!1)}),n.nativeCaptions===!1&&(i.featuresNativeTextTracks=!1),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new w["default"],i.initTextTrackListeners(),i.initTrackListeners(),i.emitTapEvents(),i}return u(t,e),t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(C.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(e){this.duration_=this.duration()},t.prototype.buffered=function(){return(0,A.createTimeRange)(0,0)},t.prototype.bufferedPercent=function(){return(0,O.bufferedPercent)(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack_(i)}})},t.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(this.error_=new _["default"](e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?(0,A.createTimeRange)(0,0):(0,A.createTimeRange)()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTextTrackListeners=function(){var e=C.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",C.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},t.prototype.initTrackListeners=function(){var e=this,t=["video","audio"];t.forEach(function(t){var n=function(){e.trigger(t+"trackchange")},r=e[t+"Tracks"]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),e.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})},t.prototype.addWebVttScript_=function(){var e=this;P["default"].WebVTT||null===this.el().parentNode||void 0===this.el().parentNode||!function(){var t=B["default"].createElement("script");t.src=e.options_["vtt.js"]||"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},e.on("dispose",function(){t.onload=null,t.onerror=null}),P["default"].WebVTT=!0,e.el().parentNode.appendChild(t)}()},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){this.remoteTextTracks().on("addtrack",function(t){e.textTracks().addTrack_(t.track)}),this.remoteTextTracks().on("removetrack",function(t){e.textTracks().removeTrack_(t.track)}),this.on("ready",this.addWebVttScript_);var n=function(){return e.trigger("texttrackchange")},r=function(){n();for(var e=0;e<t.length;e++){var r=t[e];r.removeEventListener("cuechange",n),"showing"===r.mode&&r.addEventListener("cuechange",n)}};r(),t.addEventListener("change",r),this.on("dispose",function(){t.removeEventListener("change",r)})}},t.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new S["default"],this.videoTracks_},t.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new T["default"],this.audioTracks_},t.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new w["default"],this.textTracks_},t.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new w["default"],this.remoteTextTracks_},t.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new d["default"],this.remoteTextTrackEls_},t.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return a(this,e,t,n)},t.prototype.createRemoteTextTrack=function(e){var t=(0,m["default"])(e,{tech:this});return new h["default"](t)},t.prototype.addRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=this.createRemoteTextTrack(e);return t!==!0&&t!==!1&&(L["default"].warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),t!==!0&&this.autoRemoteTextTracks_.addTrack_(n.track),n},t.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e),this.autoRemoteTextTracks_.removeTrack_(e)},t.prototype.setPoster=function(){},t.prototype.canPlayType=function(){return""},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");return t.techs_[e]=n,n},t.getTech=function(e){return t.techs_&&t.techs_[e]?t.techs_[e]:P["default"]&&P["default"].videojs&&P["default"].videojs[e]?(L["default"].warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),P["default"].videojs[e]):void 0},t}(l["default"]);j.prototype.textTracks_,j.prototype.audioTracks_,j.prototype.videoTracks_,j.prototype.featuresVolumeControl=!0,j.prototype.featuresFullscreenResize=!1,j.prototype.featuresPlaybackRate=!1,j.prototype.featuresProgressEvents=!1,j.prototype.featuresTimeupdateEvents=!1,j.prototype.featuresNativeTextTracks=!1,j.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=void 0,s=0;s<r.length;s++)if(i=r[s].canHandleSource(t,n))return r[s];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};var t=["seekable","duration"];t.forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);return n||(e.nativeSourceHandler?n=e.nativeSourceHandler:L["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t,this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",e.prototype.firstLoadStartListener_)),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},e.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler(),this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},l["default"].registerComponent("Tech",j),l["default"].registerComponent("MediaTechController",j),j.registerTech("Tech",j),n["default"]=j},{46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,86:86,87:87,90:90,94:94,95:95}],63:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(74),f=i(a),l=e(78),c=r(l),h=e(94),p=i(h),d=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].enabled=!1)},v=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];s(this,t);for(var u=void 0,a=i.length-1;a>=0;a--)if(i[a].enabled){d(i,i[a]);break}if(c.IS_IE8){u=p["default"].createElement("custom");for(var l in f["default"].prototype)"constructor"!==l&&(u[l]=f["default"].prototype[l]);for(var h in t.prototype)"constructor"!==h&&(u[h]=t.prototype[h])}return u=n=o(this,e.call(this,i,u)),u.changing_=!1,r=u,o(n,r)}return u(t,e),t.prototype.addTrack_=function(t){var n=this;t.enabled&&d(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,d(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(f["default"]);n["default"]=v},{74:74,78:78,94:94}],64:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(73),f=e(75),l=i(f),c=e(87),h=i(c),p=e(78),d=r(p),v=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t);var u=(0,h["default"])(i,{kind:a.AudioTrackKind[i.kind]||""}),f=n=o(this,e.call(this,u)),l=!1;if(d.IS_IE8)for(var c in t.prototype)"constructor"!==c&&(f[c]=t.prototype[c]);return Object.defineProperty(f,"enabled",{get:function(){return l},set:function(e){"boolean"==typeof e&&e!==l&&(l=e,this.trigger("enabledchange"))}}),u.enabled&&(f.enabled=u.enabled),f.loaded_=!0,r=f,o(n,r)}return u(t,e),t}(l["default"]);n["default"]=v},{73:73,75:75,78:78,87:87}],65:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e(78),u=i(o),a=e(94),f=r(a),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];s(this,e);var n=this;if(u.IS_IE8){n=f["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var i=0,o=t.length;i<o;i++)n.addTrackElement_(t[i]);if(u.IS_IE8)return n}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}();n["default"]=l},{78:78,94:94}],66:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(78),f=i(a),l=e(94),c=r(l),h=e(42),p=r(h),d=e(72),v=r(d),m=0,g=1,y=2,b=3,w=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t);var r=o(this,e.call(this)),i=void 0,u=r;if(f.IS_IE8){u=c["default"].createElement("custom");for(var a in t.prototype)"constructor"!==a&&(u[a]=t.prototype[a])}var l=new v["default"](n);if(u.kind=l.kind,u.src=l.src,u.srclang=l.language,u.label=l.label,u["default"]=l["default"],Object.defineProperty(u,"readyState",{get:function(){return i}}),Object.defineProperty(u,"track",{get:function(){return l}}),i=m,l.addEventListener("loadeddata",function(){i=y,u.trigger({type:"load",target:u})}),f.IS_IE8){var h;return h=u,o(r,h)}return r}return u(t,e),t}(p["default"]);w.prototype.allowedEvents_={load:"load"},w.NONE=m,w.LOADING=g,w.LOADED=y,w.ERROR=b,n["default"]=w},{42:42,72:72,78:78,94:94}],67:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e(78),u=i(o),a=e(94),f=r(a),l=function(){function e(t){s(this,e);var n=this;if(u.IS_IE8){n=f["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}if(e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),u.IS_IE8)return n}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}();n["default"]=l},{78:78,94:94}],68:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function f(e,t,n){try{e.style[t]=n}catch(r){return}}n.__esModule=!0;var l=e(5),c=i(l),h=e(83),p=r(h),d=e(95),v=i(d),m="#222",g="#ccc",y={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},b=function(e){function t(n,r,i){s(this,t);var u=o(this,e.call(this,n,r,i));return n.on("loadstart",p.bind(u,u.toggleDisplay)),n.on("texttrackchange",p.bind(u,u.updateDisplay)),n.ready(p.bind(u,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",p.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t]);var r={captions:1,subtitles:1},i=this.player_.textTracks(),s=void 0,o=void 0;if(i){for(var u=0;u<i.length;u++){var a=i[u];a["default"]&&("descriptions"!==a.kind||s?a.kind in r&&!o&&(o=a):s=a)}o?o.mode="showing":s&&(s.mode="showing")}})),u}return u(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof v["default"].WebVTT&&v["default"].WebVTT.processCues(v["default"],[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))}},t.prototype.updateForTrack=function(e){if("function"==typeof v["default"].WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],r=0;r<e.activeCues.length;r++)n.push(e.activeCues[r]);v["default"].WebVTT.processCues(v["default"],n,this.el_);for(var i=n.length;i--;){var s=n[i];if(s){var o=s.displayState;if(t.color&&(o.firstChild.style.color=t.color),t.textOpacity&&f(o.firstChild,"color",a(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(o.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&f(o.firstChild,"backgroundColor",a(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?f(o,"backgroundColor",a(t.windowColor,t.windowOpacity)):o.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px "+m+", 2px 2px 4px "+m+", 2px 2px 5px "+m:"raised"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px "+m+", 2px 2px "+m+", 3px 3px "+m:"depressed"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px "+g+", 0 1px "+g+", -1px -1px "+m+", 0 -1px "+m:"uniform"===t.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px "+m+", 0 0 4px "+m+", 0 0 4px "+m+", 0 0 4px "+m)),t.fontPercent&&1!==t.fontPercent){var u=v["default"].parseFloat(o.style.fontSize);o.style.fontSize=u*t.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=y[t.fontFamily])}}}},t}(c["default"]);c["default"].registerComponent("TextTrackDisplay",b),n["default"]=b},{5:5,83:83,95:95}],69:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n,r){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return t},i=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),i=Array.prototype.map.call(t,function(e){var t=r(e.track);return e.src&&(t.src=e.src),t});return i.concat(Array.prototype.filter.call(e.textTracks(),function(e){return n.indexOf(e)===-1}).map(r))},s=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()};n["default"]={textTracksToJson:i,jsonToTextTracks:s,trackToJson_:r}},{}],70:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(74),f=i(a),l=e(83),c=r(l),h=e(78),p=r(h),d=e(94),v=i(d),m=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];s(this,t);var u=void 0;if(p.IS_IE8){u=v["default"].createElement("custom");for(var a in f["default"].prototype)"constructor"!==a&&(u[a]=f["default"].prototype[a]);for(var l in t.prototype)"constructor"!==l&&(u[l]=t.prototype[l])}return u=n=o(this,e.call(this,i,u)),r=u,o(n,r)}return u(t,e),t.prototype.addTrack_=function(t){e.prototype.addTrack_.call(this,t),t.addEventListener("modechange",c.bind(this,function(){this.trigger("change")}))},t}(f["default"]);n["default"]=m},{74:74,78:78,83:83,94:94}],71:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function f(e,t){var n=e.options[e.options.selectedIndex].value;return a(n,t)}function l(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(a(e.options[r].value,n)===t){e.selectedIndex=r;break}}n.__esModule=!0;var c=e(95),h=i(c),p=e(5),d=i(p),v=e(81),m=e(83),g=r(m),y=e(88),b=r(y),w=e(86),E=i(w),S="vjs-text-track-settings",x=["#000","Black"],T=["#00F","Blue"],N=["#0FF","Cyan"],C=["#0F0","Green"],k=["#F0F","Magenta"],L=["#F00","Red"],A=["#FFF","White"],O=["#FF0","Yellow"],M=["1","Opaque"],_=["0.5","Semi-Transparent"],D=["0","Transparent"],P={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[x,A,L,C,T,O,k,N]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[M,_,D]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[A,x,L,C,T,O,k,N]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[M,_]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[D,_,M]}};P.windowColor.options=P.backgroundColor.options;var H=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this,n,r));return i.setDefaults(),i.hide(),i.updateDisplay=g.bind(i,i.updateDisplay),void 0===r.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.hide()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),b.each(P,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}return u(t,e),t.prototype.createElSelect_=function(e){var t=this,n=P[e],r=n.id.replace("%s",this.id_);return[(0,v.createEl)("label",{className:"vjs-label",textContent:n.label},{"for":r}),(0,v.createEl)("select",{id:r},void 0,n.options.map(function(e){return(0,v.createEl)("option",{textContent:t.localize(e[1]),value:e[0]})}))]},t.prototype.createElFgColor_=function(){var e=(0,v.createEl)("legend",{textContent:this.localize("Text")}),t=this.createElSelect_("color"),n=(0,v.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.createElSelect_("textOpacity"));return(0,v.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[e].concat(t,n))},t.prototype.createElBgColor_=function(){var e=(0,v.createEl)("legend",{textContent:this.localize("Background")}),t=this.createElSelect_("backgroundColor"),n=(0,v.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.createElSelect_("backgroundOpacity"));return(0,v.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[e].concat(t,n))},t.prototype.createElWinColor_=function(){var e=(0,v.createEl)("legend",{textContent:this.localize("Window")}),t=this.createElSelect_("windowColor"),n=(0,v.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.createElSelect_("windowOpacity"));return(0,v.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[e].concat(t,n))},t.prototype.createElColors_=function(){return(0,v.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},t.prototype.createElFont_=function(){var e=(0,v.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.createElSelect_("fontPercent")),t=(0,v.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.createElSelect_("edgeStyle")),n=(0,v.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.createElSelect_("fontFamily"));return(0,v.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[e,t,n])},t.prototype.createElControls_=function(){var e=(0,v.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),t=(0,v.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,v.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[e,t])},t.prototype.createEl=function(){var e=(0,v.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),t=(0,v.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),n=(0,v.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),r=(0,v.createEl)("div",void 0,{role:"document"},[t,n,e]);return(0,v.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":t.id,"aria-describedby":n.id},r)},t.prototype.getValues=function(){var e=this;return b.reduce(P,function(t,n,r){var i=f(e.$(n.selector),n.parser);return void 0!==i&&(t[r]=i),t},{})},t.prototype.setValues=function(e){var t=this;b.each(P,function(n,r){l(t.$(n.selector),e[r],n.parser)})},t.prototype.setDefaults=function(){var e=this;b.each(P,function(t){var n=t.hasOwnProperty("default")?t["default"]:0;e.$(t.selector).selectedIndex=n})},t.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(h["default"].localStorage.getItem(S))}catch(t){E["default"].warn(t)}e&&this.setValues(e)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?h["default"].localStorage.setItem(S,JSON.stringify(e)):h["default"].localStorage.removeItem(S)}catch(t){E["default"].warn(t)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t}(d["default"]);d["default"].registerComponent("TextTrackSettings",H),n["default"]=H},{5:5,81:81,83:83,86:86,88:88,95:95}],72:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(67),f=i(a),l=e(83),c=r(l),h=e(73),p=e(86),d=i(p),v=e(95),m=i(v),g=e(75),y=i(g),b=e(92),w=e(99),E=i(w),S=e(87),x=i(S),T=e(78),N=r(T),C=function(e,t){var n=new m["default"].WebVTT.Parser(m["default"],m["default"].vttjs,m["default"].WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(m["default"].console&&m["default"].console.groupCollapsed&&m["default"].console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return d["default"].error(e)}),m["default"].console&&m["default"].console.groupEnd&&m["default"].console.groupEnd()),n.flush()},k=function(e,t){var n={uri:e},r=(0,b.isCrossOrigin)(e);r&&(n.cors=r),(0,E["default"])(n,c.bind(this,function(e,n,r){return e?d["default"].error(e,n):(t.loaded_=!0,void ("function"!=typeof m["default"].WebVTT?t.tech_&&!function(){var e=function(){return C(r,t)};t.tech_.on("vttjsloaded",e),t.tech_.on("vttjserror",function(){d["default"].error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",e)})}():C(r,t)))}))},L=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s(this,t),!i.tech)throw new Error("A tech was not provided.");var u=(0,x["default"])(i,{kind:h.TextTrackKind[i.kind]||"subtitles",language:i.language||i.srclang||""}),a=h.TextTrackMode[u.mode]||"disabled",l=u["default"];"metadata"!==u.kind&&"chapters"!==u.kind||(a="hidden");var p=n=o(this,e.call(this,u));if(p.tech_=u.tech,N.IS_IE8)for(var d in t.prototype)"constructor"!==d&&(p[d]=t.prototype[d]);p.cues_=[],p.activeCues_=[];var v=new f["default"](p.cues_),m=new f["default"](p.activeCues_),g=!1,y=c.bind(p,function(){this.activeCues,g&&(this.trigger("cuechange"),g=!1)});return"disabled"!==a&&p.tech_.on("timeupdate",y),Object.defineProperty(p,"default",{get:function(){return l},set:function(){}}),Object.defineProperty(p,"mode",{get:function(){return a},set:function(e){h.TextTrackMode[e]&&(a=e,"showing"===a&&this.tech_.on("timeupdate",y),this.trigger("modechange"))}}),Object.defineProperty(p,"cues",{get:function(){return this.loaded_?v:null},set:function(){}}),Object.defineProperty(p,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return m;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(g=!1,t.length!==this.activeCues_.length)g=!0;else for(var s=0;s<t.length;s++)this.activeCues_.indexOf(t[s])===-1&&(g=!0);return this.activeCues_=t,m.setCues_(this.activeCues_),m},set:function(){}}),u.src?(p.src=u.src,k(u.src,p)):p.loaded_=!0,r=p,o(n,r)}return u(t,e),t.prototype.addCue=function(e){var t=this.tech_.textTracks();if(t)for(var n=0;n<t.length;n++)t[n]!==this&&t[n].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=!1,n=0,r=this.cues_.length;n<r;n++){var i=this.cues_[n];i===e&&(this.cues_.splice(n,1),t=!0)}t&&this.cues.setCues_(this.cues_)},t}(y["default"]);L.prototype.allowedEvents_={cuechange:"cuechange"},n["default"]=L},{67:67,73:73,75:75,78:78,83:83,86:86,87:87,92:92,95:95,99:99}],73:[function(e,t,n){"use strict";n.__esModule=!0,n.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},n.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},n.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},n.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(42),f=i(a),l=e(78),c=r(l),h=e(94),p=i(h),d=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s(this,t);var u=o(this,e.call(this));if(!i&&(i=u,c.IS_IE8)){i=p["default"].createElement("custom");for(var a in t.prototype)"constructor"!==a&&(i[a]=t.prototype[a])}i.tracks_=[],Object.defineProperty(i,"length",{get:function(){return this.tracks_.length}});for(var f=0;f<r.length;f++)i.addTrack_(r[f]);return n=i,o(u,n)}return u(t,e),t.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack_=function(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(f["default"]);d.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var v in d.prototype.allowedEvents_)d.prototype["on"+v]=null;n["default"]=d},{42:42,78:78,94:94}],75:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(78),f=i(a),l=e(94),c=r(l),h=e(85),p=i(h),d=e(42),v=r(d),m=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t);var i=o(this,e.call(this)),u=i;if(f.IS_IE8){u=c["default"].createElement("custom");for(var a in t.prototype)"constructor"!==a&&(u[a]=t.prototype[a])}var l={id:r.id||"vjs_track_"+p.newGUID(),kind:r.kind||"",label:r.label||"",language:r.language||""},h=function(e){Object.defineProperty(u,e,{get:function(){return l[e]},set:function(){}})};for(var d in l)h(d);return n=u,o(i,n)}return u(t,e),t}(v["default"]);n["default"]=m},{42:42,78:78,85:85,94:94}],76:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(74),f=i(a),l=e(78),c=r(l),h=e(94),p=i(h),d=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].selected=!1)},v=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];s(this,t);for(var u=void 0,a=i.length-1;a>=0;a--)if(i[a].selected){d(i,i[a]);break}if(c.IS_IE8){u=p["default"].createElement("custom");for(var l in f["default"].prototype)"constructor"!==l&&(u[l]=f["default"].prototype[l]);for(var h in t.prototype)"constructor"!==h&&(u[h]=t.prototype[h])}return u=n=o(this,e.call(this,i,u)),u.changing_=!1,Object.defineProperty(u,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),r=u,o(n,r)}return u(t,e),t.prototype.addTrack_=function(t){var n=this;t.selected&&d(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,d(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(f["default"]);n["default"]=v},{74:74,78:78,94:94}],77:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(73),f=e(75),l=i(f),c=e(87),h=i(c),p=e(78),d=r(p),v=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t);var u=(0,h["default"])(i,{kind:a.VideoTrackKind[i.kind]||""}),f=n=o(this,e.call(this,u)),l=!1;if(d.IS_IE8)for(var c in t.prototype)"constructor"!==c&&(f[c]=t.prototype[c]);return Object.defineProperty(f,"selected",{get:function(){return l},set:function(e){"boolean"==typeof e&&e!==l&&(l=e,this.trigger("selectedchange"))}}),u.selected&&(f.selected=u.selected),r=f,o(n,r)}return u(t,e),t}(l["default"]);n["default"]=v},{73:73,75:75,78:78,87:87}],78:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0,n.BACKGROUND_SIZE_SUPPORTED=n.TOUCH_ENABLED=n.IS_ANY_SAFARI=n.IS_SAFARI=n.IE_VERSION=n.IS_IE8=n.IS_CHROME=n.IS_EDGE=n.IS_FIREFOX=n.IS_NATIVE_ANDROID=n.IS_OLD_ANDROID=n.ANDROID_VERSION=n.IS_ANDROID=n.IOS_VERSION=n.IS_IOS=n.IS_IPOD=n.IS_IPHONE=n.IS_IPAD=void 0;var i=e(94),s=r(i),o=e(95),u=r(o),a=u["default"].navigator&&u["default"].navigator.userAgent||"",f=/AppleWebKit\/([\d.]+)/i.exec(a),l=f?parseFloat(f.pop()):null,c=n.IS_IPAD=/iPad/i.test(a),h=n.IS_IPHONE=/iPhone/i.test(a)&&!c,p=n.IS_IPOD=/iPod/i.test(a),d=n.IS_IOS=h||c||p,v=(n.IOS_VERSION=function(){var e=a.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),n.IS_ANDROID=/Android/i.test(a)),m=n.ANDROID_VERSION=function(){var e=a.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t?t:null}(),g=(n.IS_OLD_ANDROID=v&&/webkit/i.test(a)&&m<2.3,n.IS_NATIVE_ANDROID=v&&m<5&&l<537,n.IS_FIREFOX=/Firefox/i.test(a),n.IS_EDGE=/Edge/i.test(a)),y=n.IS_CHROME=!g&&/Chrome/i.test(a),b=(n.IS_IE8=/MSIE\s8\.0/.test(a),n.IE_VERSION=function(e){return e&&parseFloat(e[1])}(/MSIE\s(\d+)\.\d/.exec(a)),n.IS_SAFARI=/Safari/i.test(a)&&!y&&!v&&!g);n.IS_ANY_SAFARI=b||d,n.TOUCH_ENABLED=!!("ontouchstart"in u["default"]||u["default"].DocumentTouch&&s["default"]instanceof u["default"].DocumentTouch),n.BACKGROUND_SIZE_SUPPORTED="backgroundSize"in s["default"].createElement("video").style},{94:94,95:95}],79:[function(e,t,n){"use strict";function r(e,t){var n=0,r=void 0,s=void 0;if(!t)return 0;e&&e.length||(e=(0,i.createTimeRange)(0,0));for(var o=0;o<e.length;o++)r=e.start(o),s=e.end(o),s>t&&(s=t),n+=s-r;return n/t}n.__esModule=!0,n.bufferedPercent=r;var i=e(90)},{90:90}],80:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!e||!t)return"";if("function"==typeof o["default"].getComputedStyle){var n=o["default"].getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}n.__esModule=!0,n["default"]=i;var s=e(95),o=r(s)},{95:95}],81:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){return e.raw=t,e}function o(e){return"string"==typeof e&&/\S/.test(e)}function u(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function a(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function f(e){return(0,$.isObject)(e)&&1===e.nodeType}function l(e){return function(t,n){if(!o(t))return F["default"][e](null);o(n)&&(n=F["default"].querySelector(n));var r=f(n)?n:F["default"];return r[e]&&r[e](t)}}function c(e){return 0===e.indexOf("#")&&(e=e.slice(1)),F["default"].getElementById(e)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i=F["default"].createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];e.indexOf("aria-")!==-1||"role"===e||"type"===e?(W["default"].warn((0,V["default"])(B,e,n)),i.setAttribute(e,n)):"textContent"===e?p(i,n):i[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){i.setAttribute(e,n[e])}),r&&P(i,r),i}function p(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function d(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function v(e){var t=e[K];return t||(t=e[K]=U.newGUID()),J[t]||(J[t]={}),J[t]}function m(e){var t=e[K];return!!t&&!!Object.getOwnPropertyNames(J[t]).length}function g(e){var t=e[K];if(t){delete J[t];try{delete e[K]}catch(n){e.removeAttribute?e.removeAttribute(K):e[K]=null}}}function y(e,t){return u(t),e.classList?e.classList.contains(t):a(t).test(e.className)}function b(e,t){return e.classList?e.classList.add(t):y(e,t)||(e.className=(e.className+" "+t).trim()),e}function w(e,t){return e.classList?e.classList.remove(t):(u(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function E(e,t,n){var r=y(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?b(e,t):w(e,t),e}function S(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null===r||"undefined"==typeof r||r===!1?e.removeAttribute(n):e.setAttribute(n,r===!0?"":r)})}function x(e){var t={},n=",autoplay,controls,loop,muted,default,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,i=r.length-1;i>=0;i--){var s=r[i].name,o=r[i].value;"boolean"!=typeof e[s]&&n.indexOf(","+s+",")===-1||(o=null!==o),t[s]=o}return t}function T(e,t){return e.getAttribute(t)}function N(e,t,n){e.setAttribute(t,n)}function C(e,t){e.removeAttribute(t)}function k(){F["default"].body.focus(),F["default"].onselectstart=function(){return!1}}function L(){F["default"].onselectstart=function(){return!0}}function A(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=F["default"].documentElement,r=F["default"].body,i=n.clientLeft||r.clientLeft||0,s=q["default"].pageXOffset||r.scrollLeft,o=t.left+s-i,u=n.clientTop||r.clientTop||0,a=q["default"].pageYOffset||r.scrollTop,f=t.top+a-u;return{left:Math.round(o),top:Math.round(f)}}function O(e,t){var n={},r=A(e),i=e.offsetWidth,s=e.offsetHeight,o=r.top,u=r.left,a=t.pageY,f=t.pageX;return t.changedTouches&&(f=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(o-a+s)/s)),n.x=Math.max(0,Math.min(1,(f-u)/i)),n}function M(e){return(0,$.isObject)(e)&&3===e.nodeType}function _(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function D(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),f(e)||M(e)?e:"string"==typeof e&&/\S/.test(e)?F["default"].createTextNode(e):void 0}).filter(function(e){return e})}function P(e,t){return D(t).forEach(function(t){return e.appendChild(t)}),e}function H(e,t){return P(_(e),t)}n.__esModule=!0,n.$$=n.$=void 0;var B=s(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);n.isEl=f,n.getEl=c,n.createEl=h,n.textContent=p,n.insertElFirst=d,n.getElData=v,n.hasElData=m,n.removeElData=g,n.hasElClass=y,n.addElClass=b,n.removeElClass=w,n.toggleElClass=E,n.setElAttributes=S,n.getElAttributes=x,n.getAttribute=T,n.setAttribute=N,n.removeAttribute=C,n.blockTextSelection=k,n.unblockTextSelection=L,n.findElPosition=A,n.getPointerPosition=O,n.isTextNode=M,n.emptyEl=_,n.normalizeContent=D,n.appendContent=P,n.insertContent=H;var j=e(94),F=i(j),I=e(95),q=i(I),R=e(85),U=r(R),z=e(86),W=i(z),X=e(98),V=i(X),$=e(88),J={},K="vdata"+(new Date).getTime();n.$=l("querySelector"),n.$$=l("querySelectorAll")},{85:85,86:86,88:88,94:94,95:95,98:98}],82:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e,t){var n=p.getElData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&p.removeElData(e)}function o(e,t,n,r){n.forEach(function(n){e(t,n,r)})}function u(e){function t(){return!0}function n(){return!1}return e&&e.isPropagationStopped||!function(){var r=e||b["default"].event;e={};for(var i in r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||E["default"]),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var s=E["default"].documentElement,o=E["default"].body;e.pageX=e.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}(),e}function a(e,t,n){if(Array.isArray(t))return o(a,e,t,n);var r=p.getElData(e);r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=v.newGUID()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=u(t);var i=r.handlers[t.type];if(i)for(var s=i.slice(0),o=0,a=s.length;o<a&&!t.isImmediatePropagationStopped();o++)try{s[o].call(e,t,n)}catch(f){g["default"].error(f)}}}),1===r.handlers[t].length&&(e.addEventListener?e.addEventListener(t,r.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+t,r.dispatcher))}function f(e,t,n){if(p.hasElData(e)){var r=p.getElData(e);if(r.handlers){if(Array.isArray(t))return o(f,e,t,n);var i=function(t){r.handlers[t]=[],s(e,t)};if(t){var u=r.handlers[t];if(u){if(!n)return void i(t);if(n.guid)for(var a=0;a<u.length;a++)u[a].guid===n.guid&&u.splice(a--,1);s(e,t)}}else for(var l in r.handlers)i(l)}}}function l(e,t,n){var r=p.hasElData(e)?p.getElData(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=u(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&t.bubbles===!0)l.call(null,i,t,n);else if(!i&&!t.defaultPrevented){var s=p.getElData(t.target);t.target[t.type]&&(s.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),s.disabled=!1)}return!t.defaultPrevented}function c(e,t,n){if(Array.isArray(t))return o(c,e,t,n);var r=function i(){f(e,t,i),n.apply(this,arguments)};r.guid=n.guid=n.guid||v.newGUID(),a(e,t,r)}n.__esModule=!0,n.fixEvent=u,n.on=a,n.off=f,n.trigger=l,n.one=c;var h=e(81),p=i(h),d=e(85),v=i(d),m=e(86),g=r(m),y=e(95),b=r(y),w=e(94),E=r(w)},{81:81,85:85,86:86,94:94,95:95}],83:[function(e,t,n){"use strict";n.__esModule=!0,n.throttle=n.bind=void 0;var r=e(85);n.bind=function(e,t,n){t.guid||(t.guid=(0,r.newGUID)());var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i},n.throttle=function(e,t){var n=void 0,r=function(){var r=Date.now();r-n>=t&&(e.apply(void 0,arguments),n=r)};return r}},{85:85}],84:[function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),s=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),i=i>0||o>0?i+":":"",r=((i||s>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n}n.__esModule=!0,n["default"]=r},{}],85:[function(e,t,n){"use strict";function r(){return i++}n.__esModule=!0,n.newGUID=r;var i=1},{}],86:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0,n.logByType=void 0;var i=e(95),s=r(i),o=e(78),u=e(88),a=void 0,f=n.logByType=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!o.IE_VERSION&&o.IE_VERSION<11;"log"!==e&&t.unshift(e.toUpperCase()+":"),a.history.push(t),t.unshift("VIDEOJS:");var r=s["default"].console&&s["default"].console[e];r&&(n&&(t=t.map(function(e){if((0,u.isObject)(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),r.apply?r[Array.isArray(t)?"apply":"call"](s["default"].console,t):r(t))};a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f("log",t)},a.history=[],a.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f("error",t)},a.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f("warn",t)},n["default"]=a},{78:78,88:88,95:95}],87:[function(e,t,n){"use strict";function r(){for(var e={},t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return n.forEach(function(t){t&&(0,i.each)(t,function(t,n){return(0,i.isPlain)(t)?((0,i.isPlain)(e[n])||(e[n]={}),void (e[n]=r(e[n],t))):void (e[n]=t)})}),e}n.__esModule=!0,n["default"]=r;var i=e(88)},{88:88}],88:[function(e,t,n){"use strict";function r(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object.keys(e).reduce(function(n,r){return t(n,e[r],r)},n)}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach(function(t){t&&r(t,function(t,n){e[n]=t})}),e)}function o(e){return!!e&&"object"===("undefined"==typeof e?"undefined":a(e))}function u(e){return o(e)&&"[object Object]"===f.call(e)&&e.constructor===Object}n.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.each=r,n.reduce=i,n.assign=s,n.isObject=o,n.isPlain=u;var f=Object.prototype.toString},{}],89:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0,n.setTextContent=n.createStyleElement=void 0;var i=e(94),s=r(i);n.createStyleElement=function(e){var t=s["default"].createElement("style");return t.className=e,t},n.setTextContent=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}},{94:94}],90:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){if(t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+n+").")}function s(e,t,n,r){return void 0===r&&(f["default"].warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),r=0),i(e,r,n.length-1),n[r][t]}function o(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:s.bind(null,"start",0,e),end:s.bind(null,"end",1,e)}}function u(e,t){return Array.isArray(e)?o(e):void 0===e||void 0===t?o():o([[e,t]])}n.__esModule=!0,n.createTimeRange=void 0,n.createTimeRanges=u;var a=e(86),f=r(a);n.createTimeRange=u},{86:86}],91:[function(e,t,n){"use strict";function r(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}n.__esModule=!0,n["default"]=r},{}],92:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0,n.isCrossOrigin=n.getFileExtension=n.getAbsoluteURL=n.parseUrl=void 0;var i=e(94),s=r(i),o=e(95),u=r(o),a=n.parseUrl=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=s["default"].createElement("a");n.href=e;var r=""===n.host&&"file:"!==n.protocol,i=void 0;r&&(i=s["default"].createElement("div"),i.innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),s["default"].body.appendChild(i));for(var o={},u=0;u<t.length;u++)o[t[u]]=n[t[u]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),r&&s["default"].body.removeChild(i),o};n.getAbsoluteURL=function(e){if(!e.match(/^https?:\/\//)){var t=s["default"].createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},n.getFileExtension=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""},n.isCrossOrigin=function(e){var t=u["default"].location,n=a(e),r=":"===n.protocol?t.protocol:n.protocol,i=r+n.host!==t.protocol+t.host;return i}},{94:94,95:95}],93:[function(t,n,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){var r=void 0;if(t=t||{},"string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),o.getPlayers()[e])return t&&R["default"].warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&o.getPlayers()[e].ready(n),o.getPlayers()[e];r=z.getEl(e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(r.player||T["default"].players[r.playerId])return r.player||T["default"].players[r.playerId];o.hooks("beforesetup").forEach(function(e){var n=e(r,(0,L["default"])(t));return!(0,J.isObject)(n)||Array.isArray(n)?void o.log.error("please return an object in beforesetup hooks"):void (t=(0,L["default"])(t,n))});var i=y["default"].getComponent("Player"),s=new i(r,t,n);return o.hooks("setup").forEach(function(e){return e(s)}),s}r.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=t(95),l=s(f),c=t(94),h=s(c),p=t(56),d=i(p),v=t(89),m=i(v),g=t(5),y=s(g),b=t(42),w=s(b),E=t(82),S=i(E),x=t(51),T=s(x),N=t(52),C=s(N),k=t(87),L=s(k),A=t(83),O=i(A),M=t(72),_=s(M),D=t(64),P=s(D),H=t(77),B=s(H),j=t(90),F=t(84),I=s(F),q=t(86),R=s(q),U=t(81),z=i(U),W=t(78),X=i(W),V=t(92),$=i(V),J=t(88),K=t(80),Q=s(K),G=t(43),Y=s(G),Z=t(99),et=s(Z),tt=t(62),nt=s(tt);if("undefined"==typeof HTMLVideoElement&&l["default"].document&&l["default"].document.createElement&&(h["default"].createElement("video"),h["default"].createElement("audio"),h["default"].createElement("track")),o.hooks_={},o.hooks=function(e,t){return o.hooks_[e]=o.hooks_[e]||[],t&&(o.hooks_[e]=o.hooks_[e].concat(t)),o.hooks_[e]},o.hook=function(e,t){o.hooks(e,t)},o.removeHook=function(e,t){var n=o.hooks(e).indexOf(t);return!(n<=-1)&&(o.hooks_[e]=o.hooks_[e].slice(),o.hooks_[e].splice(n,1),!0)},l["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){var rt=z.$(".vjs-styles-defaults");if(!rt){rt=m.createStyleElement("vjs-styles-defaults");var it=z.$("head");it&&it.insertBefore(rt,it.firstChild),m.setTextContent(rt,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}d.autoSetupTimeout(1,o),o.VERSION="5.14.0",o.options=T["default"].prototype.options_,o.getPlayers=function(){return T["default"].players},o.players=T["default"].players,o.getComponent=y["default"].getComponent,o.registerComponent=function(e,t){nt["default"].isTech(t)&&R["default"].warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),y["default"].registerComponent.call(y["default"],e,t)},o.getTech=nt["default"].getTech,o.registerTech=nt["default"].registerTech,o.browser=X,o.TOUCH_ENABLED=X.TOUCH_ENABLED,o.extend=Y["default"],o.mergeOptions=L["default"],o.bind=O.bind,o.plugin=C["default"],o.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),o.options.languages=(0,L["default"])(o.options.languages,(n={},n[e]=t,n)),o.options.languages[e]},o.log=R["default"],o.createTimeRange=o.createTimeRanges=j.createTimeRanges,o.formatTime=I["default"],o.parseUrl=$.parseUrl,o.isCrossOrigin=$.isCrossOrigin,o.EventTarget=w["default"],o.on=S.on,o.one=S.one,o.off=S.off,o.trigger=S.trigger,o.xhr=et["default"],o.TextTrack=_["default"],o.AudioTrack=P["default"],o.VideoTrack=B["default"],o.isEl=z.isEl,o.isTextNode=z.isTextNode,o.createEl=z.createEl,o.hasClass=z.hasElClass,o.addClass=z.addElClass,o.removeClass=z.removeElClass,o.toggleClass=z.toggleElClass,o.setAttributes=z.setElAttributes,o.getAttributes=z.getElAttributes,o.emptyEl=z.emptyEl,o.appendContent=z.appendContent,o.insertContent=z.insertContent,o.computedStyle=Q["default"],"function"==typeof e&&e.amd?e("videojs",[],function(){return o}):"object"===("undefined"==typeof r?"undefined":u(r))&&"object"===("undefined"==typeof n?"undefined":u(n))&&(n.exports=o),r["default"]=o},{42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,86:86,87:87,88:88,89:89,90:90,92:92,94:94,95:95,99:99}],94:[function(e,t,n){(function(n){var r="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},i=e(96);if("undefined"!=typeof document)t.exports=document;else{var s=r["__GLOBAL_DOCUMENT_CACHE@4"];s||(s=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=s}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{96:96}],95:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],96:[function(e,t,n){},{}],97:[function(e,t,n){function r(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}t.exports=r},{}],98:[function(e,t,n){function r(e){return e.replace(/\n\r?\s*/g,"")}t.exports=function(e){for(var t="",n=0;n<arguments.length;n++)t+=r(e[n])+(arguments[n+1]||"");return t}},{}],99:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;n++)t(e[n])}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function s(e,t,n){var r=e;return c(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=p(t,{uri:e}),r.callback=n,r}function o(e,t,n){return t=s(e,t,n),u(t)}function u(e){function t(){4===f.readyState&&s()}function n(){var e=void 0;if(f.response?e=f.response:"text"!==f.responseType&&f.responseType||(e=f.responseText||f.responseXML),S)try{e=JSON.parse(e)}catch(t){}return e}function r(e){clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,u(e,a)}function s(){if(!p){var t;clearTimeout(d),t=e.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var r=a,i=null;0!==t?(r={body:n(),statusCode:t,method:y,headers:{},url:v,rawRequest:f},f.getAllResponseHeaders&&(r.headers=h(f.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),u(i,r,r.body)}}var u=e.callback;if("undefined"==typeof u)throw new Error("callback argument missing");u=l(u);var a={body:void 0,headers:{},statusCode:0,method:y,url:v,rawRequest:f},f=e.xhr||null;f||(f=e.cors||e.useXDR?new o.XDomainRequest:new o.XMLHttpRequest);var c,p,d,v=f.url=e.uri||e.url,y=f.method=e.method||"GET",b=e.body||e.data||null,w=f.headers=e.headers||{},E=!!e.sync,S=!1;if("json"in e&&(S=!0,w.accept||w.Accept||(w.Accept="application/json"),"GET"!==y&&"HEAD"!==y&&(w["content-type"]||w["Content-Type"]||(w["Content-Type"]="application/json"),b=JSON.stringify(e.json))),f.onreadystatechange=t,f.onload=s,f.onerror=r,f.onprogress=function(){},f.ontimeout=r,f.open(y,v,!E,e.username,e.password),E||(f.withCredentials=!!e.withCredentials),!E&&e.timeout>0&&(d=setTimeout(function(){p=!0,f.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)},e.timeout)),f.setRequestHeader)for(c in w)w.hasOwnProperty(c)&&f.setRequestHeader(c,w[c]);else if(e.headers&&!i(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(f.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(f),f.send(b),f}function a(){}var f=e(95),l=e(101),c=e(100),h=e(104),p=e(105);t.exports=o,o.XMLHttpRequest=f.XMLHttpRequest||a,o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:f.XDomainRequest,r(["get","put","post","patch","head","delete"],function(e){o["delete"===e?"del":e]=function(t,n,r){return n=s(t,n,r),n.method=e.toUpperCase(),u(n)}})},{100:100,101:101,104:104,105:105,95:95}],100:[function(e,t,n){function r(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=r;var i=Object.prototype.toString},{}],101:[function(e,t,n){function r(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}t.exports=r,r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0})})},{}],102:[function(e,t,n){function r(e,t,n){if(!u(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===a.call(e)?i(e,t,n):"string"==typeof e?s(e,t,n):o(e,t,n)}function i(e,t,n){for(var r=0,i=e.length;r<i;r++)f.call(e,r)&&t.call(n,e[r],r,e)}function s(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function o(e,t,n){for(var r in e)f.call(e,r)&&t.call(n,e[r],r,e)}var u=e(100);t.exports=r;var a=Object.prototype.toString,f=Object.prototype.hasOwnProperty},{100:100}],103:[function(e,t,n){function r(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=r,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],104:[function(e,t,n){var r=e(103),i=e(102),s=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return i(r(e).split("\n"),function(e){var n=e.indexOf(":"),i=r(e.slice(0,n)).toLowerCase(),o=r(e.slice(n+1));"undefined"==typeof t[i]?t[i]=o:s(t[i])?t[i].push(o):t[i]=[t[i],o]}),t}},{102:102,103:103}],105:[function(e,t,n){function r(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e}t.exports=r;var i=Object.prototype.hasOwnProperty},{}]},{},[93])(93)}),function(e){var t=e.vttjs={},n=t.VTTCue,r=t.VTTRegion,i=e.VTTCue,s=e.VTTRegion;t.shim=function(){t.VTTCue=n,t.VTTRegion=r},t.restore=function(){t.VTTCue=i,t.VTTRegion=s}}(this),function(e,t){function n(e){if("string"!=typeof e)return!1;var t=u[e.toLowerCase()];return!!t&&e.toLowerCase()}function r(e){if("string"!=typeof e)return!1;var t=a[e.toLowerCase()];return!!t&&e.toLowerCase()}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function s(e,t,s){var u=this,a=/MSIE\s8\.0/.test(navigator.userAgent),f={};a?u=document.createElement("custom"):f.enumerable=!0,u.hasBeenReset=!1;var l="",h=!1,p=e,v=t,m=s,y=null,b="",w=!0,E="auto",S="start",x=50,T="middle",N=50,C="middle";if(Object.defineProperty(u,"id",i({},f,{get:function(){return l},set:function(e){l=""+e}})),Object.defineProperty(u,"pauseOnExit",i({},f,{get:function(){return h},set:function(e){h=!!e}})),Object.defineProperty(u,"startTime",i({},f,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",i({},f,{get:function(){return v},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",i({},f,{get:function(){return m},set:function(e){m=""+e,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",i({},f,{get:function(){return y},set:function(e){y=e,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",i({},f,{get:function(){return b},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",i({},f,{get:function(){return w},set:function(e){w=!!e,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",i({},f,{get:function(){return E},set:function(e){if("number"!=typeof e&&e!==o)throw new SyntaxError("An invalid number or illegal string was specified.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",i({},f,{get:function(){return S},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");S=t,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",i({},f,{get:function(){return x},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");x=e,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",i({},f,{get:function(){return T},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",i({},f,{get:function(){return N},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");N=e,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",i({},f,{get:function(){return C},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");C=t,this.hasBeenReset=!0}})),u.displayState=void 0,a)return u}var o="auto",u={"":!0,lr:!0,rl:!0},a={start:!0,middle:!0,end:!0,left:!0,right:!0};s.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||s,t.VTTCue=s}(this,this.vttjs||{}),function(e,t){function n(e){if("string"!=typeof e)return!1;var t=s[e.toLowerCase()];return!!t&&e.toLowerCase()}function r(e){return"number"==typeof e&&e>=0&&e<=100}function i(){var e=100,t=3,i=0,s=100,o=0,u=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");s=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return u},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");u=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return a},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");a=t}}})}var s={"":!0,up:!0};e.VTTRegion=e.VTTRegion||i,t.VTTRegion=i}(this,this.vttjs||{}),function(e){function t(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function n(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function r(){this.values=d(null)}function i(e,t,n,r){var i=r?e.split(r):[e];for(var s in i)if("string"==typeof i[s]){var o=i[s].split(n);if(2===o.length){var u=o[0],a=o[1];t(u,a)}}}function s(e,s,o){function u(){var r=n(e);if(null===r)throw new t(t.Errors.BadTimeStamp,"Malformed timestamp: "+l);return e=e.replace(/^[^\sa-zA-Z-]+/,""),r}function a(e,t){var n=new r;i(e,function(e,t){switch(e){case"region":for(var r=o.length-1;r>=0;r--)if(o[r].id===t){n.set(e,o[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),s=i[0];n.integer(e,s),n.percent(e,s)?n.set("snapToLines",!1):null,n.alt(e,s,["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function f(){e=e.replace(/^\s+/,"")}var l=e;if(f(),s.startTime=u(),f(),"-->"!==e.substr(0,3))throw new t(t.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+l);e=e.substr(3),f(),s.endTime=u(),f(),a(e,s)}function o(e,t){function r(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return e(n[1]?n[1]:n[2])}function i(e){return v[e]}function s(e){for(;d=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(d[0],i);return e}function o(e,t){return!y[t.localName]||y[t.localName]===e.localName}function u(t,n){var r=m[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var s=g[t];return s&&n&&(i[s]=n.trim()),i}for(var a,f=e.document.createElement("div"),l=f,c=[];null!==(a=r());)if("<"!==a[0])l.appendChild(e.document.createTextNode(s(a)));else{if("/"===a[1]){c.length&&c[c.length-1]===a.substr(2).replace(">","")&&(c.pop(),l=l.parentNode);continue}var h,p=n(a.substr(1,a.length-2));if(p){h=e.document.createProcessingInstruction("timestamp",p),l.appendChild(h);continue}var d=a.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!d)continue;if(h=u(d[1],d[3]),!h)continue;if(!o(l,h))continue;d[2]&&(h.className=d[2].substr(1).replace("."," ")),c.push(d[1]),l.appendChild(h),l=h}return f}function u(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var r=e.pop(),i=r.textContent||r.innerText;if(i){var s=i.match(/^.*(\n|\r)/);return s?(e.length=0,s[0]):i}return"ruby"===r.tagName?n(e):r.childNodes?(t(e,r),n(e)):void 0}var r,i=[],s="";if(!e||!e.childNodes)return"ltr";for(t(i,e);s=n(i);)for(var o=0;o<s.length;o++){r=s.charCodeAt(o);for(var u=0;u<b.length;u++)if(b[u]===r)return"rtl"}return"ltr"}function a(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return++r*-1}function f(){}function l(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",s="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",s="rgb(0, 0, 0)"),f.call(this),this.cue=t,this.cueDiv=o(e,t.text);var a={color:i,backgroundColor:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=e.document.createElement("div"),a={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(a.direction=u(this.cueDiv),a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var l=0;switch(t.positionAlign){case"start":l=t.position;break;case"middle":l=t.position-t.size/2;break;case"end":l=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(l,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(l,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function c(e){var t,n,r,i,s=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight,s&&!this.lineHeight&&(this.lineHeight=13)}function h(e,t,n,r){function i(e,t){for(var i,s=new c(e),o=1,u=0;u<t.length;u++){for(;e.overlapsOppositeAxis(n,t[u])||e.within(n)&&e.overlapsAny(r);)e.move(t[u]);if(e.within(n))return e;var a=e.intersectPercentage(n);o>a&&(i=new c(e),o=a),e=new c(s)}return i||s}var s=new c(t),o=t.cue,u=a(o),f=[];if(o.snapToLines){var l;switch(o.vertical){case"":f=["+y","-y"],l="height";break;case"rl":f=["+x","-x"],l="width";break;case"lr":f=["-x","+x"],l="width"}var h=s.lineHeight,p=h*Math.round(u),d=n[l]+h,v=f[0];Math.abs(p)>d&&(p=p<0?-1:1,p*=Math.ceil(d/h)*h),u<0&&(p+=""===o.vertical?n.height:n.width,f=f.reverse()),s.move(v,p)}else{var m=s.lineHeight/n.height*100;switch(o.lineAlign){case"middle":u-=m/2;break;case"end":u-=m}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(u,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(u,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(u,"%")})}f=["+y","-x","+x","-y"],s=new c(t)}var g=i(s,f);t.move(g.toCSSCompatValues(n))}function p(){}var d=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();t.prototype=d(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},r.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){var n;return!!((n=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&t<=100))&&(this.set(e,t),!0)}};var v={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"â€Ž","&rlm;":"â€","&nbsp;":"Â "},m={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},g={v:"title",lang:"lang"},y={rt:"ruby"},b=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];f.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},f.prototype.formatStyle=function(e,t){return 0===e?0:e+t},l.prototype=d(f.prototype),l.prototype.constructor=l,c.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},c.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},c.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},c.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},c.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},c.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),r=t*n;return r/(this.height*this.width)},c.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},c.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var i={left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n};return i},p.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},p.convertCueToDOMTree=function(e,t){return e&&t?o(e,t):null};var w=.05,E="sans-serif",S="1.5%";p.processCues=function(e,t,n){function r(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=S,n.appendChild(i),r(t)){var s=[],o=c.getSimpleBoxPosition(i),u=Math.round(o.height*w*100)/100,a={font:u+"px "+E};!function(){for(var n,r,u=0;u<t.length;u++)r=t[u],n=new l(e,r,a),i.appendChild(n.div),h(e,n,o,s),r.displayState=n.div,s.push(c.getSimpleBoxPosition(n))}()}else for(var f=0;f<t.length;f++)i.appendChild(t[f].displayState)},p.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},p.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof t))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function n(){for(var e=a.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,a.buffer=e.substr(t),n}function o(e){var t=new r;if(i(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var s=new r;if(s.percent("x",i[0]),s.percent("y",i[1]),!s.has("x")||!s.has("y"))break;t.set(e+"X",s.get("x")),t.set(e+"Y",s.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(a.vttjs.VTTRegion||a.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),a.onregion&&a.onregion(n),a.regionList.push({id:t.get("id"),region:n})}}function u(e){i(e,function(e,t){switch(e){case"Region":o(t)}},/:/)}var a=this;e&&(a.buffer+=a.decoder.decode(e,{stream:!0}));try{var f;if("INITIAL"===a.state){if(!/\r\n|\n/.test(a.buffer))return this;f=n();var l=f.match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new t(t.Errors.BadSignature);a.state="HEADER"}for(var c=!1;a.buffer;){if(!/\r\n|\n/.test(a.buffer))return this;switch(c?c=!1:f=n(),a.state){case"HEADER":/:/.test(f)?u(f):f||(a.state="ID");continue;case"NOTE":f||(a.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(f)){a.state="NOTE";break}if(!f)continue;if(a.cue=new(a.vttjs.VTTCue||a.window.VTTCue)(0,0,""),a.state="CUE",f.indexOf("-->")===-1){a.cue.id=f;continue};case"CUE":try{s(f,a.cue,a.regionList)}catch(h){a.reportOrThrowError(h),a.cue=null,a.state="BADCUE";continue}a.state="CUETEXT";continue;case"CUETEXT":var p=f.indexOf("-->")!==-1;if(!f||p&&(c=!0)){a.oncue&&a.oncue(a.cue),a.cue=null,a.state="ID";continue}a.cue.text&&(a.cue.text+="\n"),a.cue.text+=f;continue;case"BADCUE":f||(a.state="ID");continue}}}catch(h){a.reportOrThrowError(h),"CUETEXT"===a.state&&a.cue&&a.oncue&&a.oncue(a.cue),a.cue=null,a.state="INITIAL"===a.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new t(t.Errors.BadSignature)}catch(n){e.reportOrThrowError(n)}return e.onflush&&e.onflush(),this}},e.WebVTT=p}(this,this.vttjs||{}),define("videojs_modules/VideoTrackMenuItem",["jquery","videojs"],function(e,t){"use strict";var n=t.getComponent("MenuItem"),r=t.extend(n,{constructor:function(e,t){var r=t.track,i;return t.label=r.label||"Unknown",i=n.call(this,e,t),i.track=r,i},handleClick:function(e){var t,r,i=this.player_.videoTracks();n.prototype.handleClick.call(this,e);if(!i)return;for(t=0;t<i.length;t++)r=i[t],r===this.track&&(r.selected=!0)},selected:function(t){t&&(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),e(this.contentEl()).siblings().removeClass("vjs-selected"))}});return r}),define("videojs_modules/VideoTrackButton",["jquery","videojs","videojs_modules/VideoTrackMenuItem"],function(e,t,n){"use strict";var r=t.getComponent("MenuButton"),i=t.extend(r,{createItems:function(){var e=this.player_,t=e.videoTracks().tracks_;return t.map(function(t,r){return new n(e,{track:t,selected:r===0})})},buildCSSClass:function(){return"vjs-video-tracks-button"}});return i}),define("managers/VideoPlayerManager",["jquery","videojs","videojs_modules/VideoTrackButton","utils/jsonUtil","factories/moduleFactory"],function(e,t,n,r,i){"use strict";var s=function(o){var u,a,f,l,c,h,p,d,v;u=this,a=s.markup,f=e.extend({$e:null,selector:".video-player-content",playerOptions:{controls:!0,preload:"meta",autoplay:!1,controlBar:{remainingTimeDisplay:!1,chaptersButton:!1,descriptionsButton:!1,subtitlesButton:!1,audioTrackButton:!1,fullscreenToggle:!0}},videoChapterSelector:".video-chapter-selector",defaultVolume:.8},o),l={name:"VideoPlayerManager",$e:f.$e||e(f.selector),player:null,chapters:{},hasStarted:!1,templates:{videoPlayer:{selector:"!.video-player-template"},videoIcons:{selector:"!.video-player-icons-template"},keyframeMarker:{selector:"!.keyframe-marker-template"}},components:{globalPage:{selector:"^.global-page"},videoPlayer:{selector:".video-player"},contentBodyTitle:{selector:"!.video-content-body-title"},progressHolder:{selector:".vjs-progress-holder"},playControl:{selector:".vjs-play-control"},volumeControl:{selector:".vjs-volume-menu-button"},fullscreenControl:{selector:".vjs-fullscreen-control"},captionsControl:{selector:".vjs-captions-button"},videoChapterSelector:{selector:"!"+f.videoChapterSelector},videoChapter:{selector:"!"+f.videoChapterSelector+" .video-chapter"},startVideoButton:{selector:"!.start-video-button"},videoSources:{selector:".video-player source"},nextVideo:{selector:".next-video"}},events:{"click !videoChapter":"videoChapterClick","click !startVideoButton":"startVideoButtonClick"}},c={},h={},p={init:function(){var e=r.paramsToJson(location.search);e.autoplay==="true"&&p.startVideo()},startVideo:function(){l.$e.prepend(h.videoPlayer()),p.getComponents(),p.initPlayer(),p.togglePageState(),p.processChapters(),p.showContentBodyTitle(),c.nextVideo&&(p.getComponents(),c.nextVideo.appendTo(c.videoPlayer)),l.hasStarted=!0},initPlayer:function(){l.player=t("hero-video",f.playerOptions),p.initVideoTracks(),l.player.controlBar.addChild(new n(l.player)),l.player.volume(f.defaultVolume),l.player.ready(p.playerReady),l.player.on("loadeddata",function(){p.initChapters()})},playerReady:function(){p.getComponents(),p.setupIcons(),l.hasStarted&&l.player.play()},setupIcons:function(){var t;t=e(h.videoIcons()),t.filter(".icon-play, .icon-pause").appendTo(c.playControl),t.filter(".icon-mute, .icon-vol").appendTo(c.volumeControl),t.filter(".icon-minimize, .icon-maximize").appendTo(c.fullscreenControl),t.filter(".icon-cc").prependTo(c.captionsControl),t.filter(".icon-livetrans").prependTo(e(".vjs-video-tracks-button"))},initVideoTracks:function(){var n=l.player.videoTracks();e.each(c.videoSources,function(r,i){var s=new t.VideoTrack({id:i.id,language:e(i).data("lang"),label:e(i).data("langLabel"),selected:r===0});n.addTrack(s)}),n.addEventListener("change",function(){var e,t,r,i;e=n.tracks_.find(function(e){return e.selected}),e&&(r=l.player.paused(),i=l.player.currentTime(),t=c.videoSources.filter("#"+e.id),l.player.src({src:t.attr("src"),type:t.attr("type")}),l.player.currentTime(i),r||l.player.play())})},initChapters:function(){if(!f.chapters||!f.chapters.length)return;e.each(l.chapters,function(e,t){p.appendChapterKeyframe(t)})},appendChapterKeyframe:function(t){var n,r;n=p.getFramePercent(t.starttimeInSeconds),r=e(h.keyframeMarker(t)),r.css({left:n+"%"}),c.progressHolder.append(r)},showContentBodyTitle:function(){c.contentBodyTitle.show()},getChapterStarttimeInSeconds:function(e){var t,n,r,i,s;return t=e.start_time.split(":"),n=parseInt(t[0]),r=parseInt(t[1]),i=parseInt(t[2]),s=n*60*60+r*60+i,s},getFramePercent:function(e){var t;return t=e/l.player.duration()*100,t},togglePageState:function(){c.globalPage.addClass("state-showing-video")},processChapters:function(){if(!f.chapters||!f.chapters.length)return;f.chapters.forEach(function(t){l.chapters[t.start_time]=e.extend({starttimeInSeconds:p.getChapterStarttimeInSeconds(t)},t)})},skipToChapter:function(e){var t;l.hasStarted||p.startVideo(),t=l.chapters[e],l.player.currentTime(t.starttimeInSeconds)}},d={videoChapterClick:function(){p.skipToChapter(e(this).data("startTime"))},startVideoButtonClick:function(){this.hasAttribute("href")||p.startVideo()}},v={},i({self:u,o:f,m:a,internal:l,elements:c,templates:h,fn:p,handlers:d,api:v}).create()};return s.markup={},s}),define("services/ieHandler",["jquery","utils/globalElements"],function(e,t){"use strict";var n={},r={SVG_REQUIRES_SHIM:"shim-svgs",SVG_SHIM_HOLDER:"shimmed-svg-holder"},i={shimSVG:function(t){var n=t[0].viewBox.baseVal,i=e('<canvas width="'+n.width+'" height="'+n.height+'"></canvas>');t.parent().addClass(r.SVG_SHIM_HOLDER),t.before(i)},shimSVGs:function(t){e("."+r.SVG_REQUIRES_SHIM+" svg",t).each(function(){i.shimSVG(e(this))})}};return n.init=function(){i.shimSVGs(t.body)},n}),define("managers/SearchFiltersManager",["jquery","forms/Form","utils/jsonUtil","factories/moduleFactory"],function(e,t,n,r){"use strict";var i=function(s){var o,u,a,f,l,c,h,p;o=this,a=i.markup,u=e.extend({$e:null,selector:".search-filters",paramMapKey:"pk",override_url:null},s),f={name:"SearchFiltersManager",$e:u.$e||e(u.selector),form:null,searchJson:{},validFilters:!0,components:{dateRangeSelects:{selector:".date-range-selects"},dateRangeValidationMessage:{selector:".date-range-selects .validation-message"},field:{selector:".field"}},events:{formReady:"formReady",change:"filterChange"}},l={},c={init:function(){f.form=new t({$e:f.$e})},cacheFilters:function(){f.searchJson=n.paramsToJson(location.search),e.extend(f.searchJson,f.form.getData()),delete f.searchJson.page},doSearch:function(){var t,r,i;r=e.extend({},f.searchJson),t=e.extend({},f.searchJson,f.form.getData()),n.isDiff(r,t)&&(i=n.jsonToParams(t,u.paramMapKey),u.override_url?window.location=u.override_url+"?"+i:location.search=i)},validate:function(){var e,t,n,r;e=!0,t=f.form.getData(),n=parseInt(t.start_year,10),r=parseInt(t.end_year,10),e=n<=r,l.dateRangeSelects.toggleClass(a.INVALID,n>r),f.validFilters=e},isValid:function(){return c.validate(),f.validFilters}},h={formReady:function(){f.form=f.$e.data("formInstance"),c.cacheFilters()},filterChange:function(){f.form&&f.form.isReady()&&c.isValid()&&c.doSearch()}},p={},r({self:o,o:u,m:a,internal:f,elements:l,fn:c,handlers:h,api:p}).create()};return i.markup={},i}),require(["Raven","core","jquery.cookie","ui/OpenCloseToggler","ui/MoreText","ui/blocks/EmbedBlock","ui/blocks/TimelineBlock","ui/blocks/GalleryBlock","ui/Breadcrumb","ui/GalleryManager","ui/ListExpander","managers/VideoPlayerManager","services/ieHandler","managers/SearchFiltersManager"]),define("bundles/common",function(){});